define(["exports","./e_file_viewer_edison_shmodel_file_async"],(function(e,t){"use strict";const r=e=>{var r;return!!t.BACKUP_ICONS.includes(null!==(r=null==e?void 0:e.icon)&&void 0!==r?r:"")||e instanceof t.File&&(!!e.is_in_backup_folder||!!e.is_backup_folder)},n=e=>(e=>t.getStateAtNamespace(e,t.BACKUP_NAMESPACE_KEY)||t.defaultBackupState)(e).backups,l=(e,t)=>Object.assign({id:e.id,name:e.name,nestLevel:i(e,t),rootNsId:e.rootNsId,deviceId:e.deviceId,anchorFolders:e.anchorFolders,displayName:e.displayName},"cb"===e.type?{type:"cb",usesAnchors:!!e.usesAnchors,thirdPartyProviders:e.thirdPartyProviders}:"edb"===e.type?{type:"edb",isFission:!!e.rootNsId}:{type:"third_party"}),i=(e,r)=>{if(!r||0===r.length)return 0;let n=t.rootRelativePath(e.fqPath);if("edb"===e.type&&e.isFission){if(1===r.length)return 0;n=e.fqPath}return r.indexOf(n)},o=t.createSelector(n,(e=>r=>{if(!e||!r)return null;const n=[r,...t.parent_dirs(r)],l=e.find((e=>n.includes(t.rootRelativePath(e.browsePath))));return null!=l?l:null})),s=t.createSelector(o,(e=>r=>{const n=e(r);if(null===n)return null;const i=[r,...t.parent_dirs(r)];return l(n,i)})),a=t.createSelector(o,(e=>t=>{if(t){if(t.is_in_backup_folder||t.is_backup_folder)return e(t.fq_path?t.fq_path:t.ns_path);{const r=e(t.fq_path);return(null==r?void 0:r.usesAnchors)||(null==r?void 0:r.isFission)?null:r}}return null})),u=t.createSelector(a,(e=>r=>{const n=e(r);if(null===n)return null;const i=[r.fq_path,...t.parent_dirs(r.fq_path)];return l(n,i)})),c=t.createSelector(n,(e=>r=>{var n;const l=null!==(n=r.fq_path)&&void 0!==n?n:"",i=l.split("/").filter(Boolean);if(i.length>=2&&i[1]===`${i[0]}${t.EDB_EXTENSION}`)return`/${i[0]}/${i[1]}`;const o=i.findIndex((e=>e.endsWith(t.EDB_EXTENSION)));if(-1!==o)return["",...i.slice(0,o+1)].join("/");if(null===e)return null;const s=[l,...t.parent_dirs(l)],a=e.map((e=>t.rootRelativePath(e.browsePath))).filter((e=>s.includes(e)));return 0===a.length?null:a[0]})),d=t.createSelector(a,(e=>n=>!(!(null==n?void 0:n.is_backup_folder)&&!(null==n?void 0:n.is_in_backup_folder))||(!!t.isBackupBrowse()||(!!r(n)||null!==e(n)))));e.backupFolderPathByFile=c,e.backupInfoByFile=a,e.folderBackupInfoByFile=u,e.folderBackupInfoByPath=s,e.isBackupFolderIcon=r,e.isInsideBackupFolderByFile=d}));
//# sourceMappingURL=c_sync_everything_redux_selectors.js-vflAblDV6.map
