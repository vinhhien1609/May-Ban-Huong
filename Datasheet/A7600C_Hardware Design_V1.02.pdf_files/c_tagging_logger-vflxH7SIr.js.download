define(["require","exports","./c_tslib","./e_file_viewer_edison_shmodel_file_async"],(function(i,t,e,_){"use strict";class n{constructor(i){this.category="server-tag_actions",this.file_oid=0,this.session_id=null,this.team_id=null,this.user_id=i.user_id,this.tag_name=i.tag_name,this.tag_type=i.tag_type,this.platform=i.platform,this.event_name=i.event_name,this.file_ext=i.file_ext,this.file_nsid=i.file_nsid,this.file_sjid=i.file_sjid,i.hasOwnProperty("file_oid")&&void 0!==i.file_oid&&(this.file_oid=i.file_oid),this.action_surface=i.action_surface,i.hasOwnProperty("session_id")&&void 0!==i.session_id&&(this.session_id=i.session_id),i.hasOwnProperty("team_id")&&void 0!==i.team_id&&(this.team_id=i.team_id),i.hasOwnProperty("snackbar_action")&&void 0!==i.snackbar_action&&(this.snackbar_action=i.snackbar_action),i.hasOwnProperty("tagging_type")&&void 0!==i.tagging_type&&(this.tagging_type=i.tagging_type),i.hasOwnProperty("script_in_tag")&&void 0!==i.script_in_tag&&(this.script_in_tag=i.script_in_tag),this.file_id=i.file_id,Object.seal(this)}}const a="web",s=new _.HiveLogger;function o(t){return e.__awaiter(this,void 0,void 0,(function*(){const{LOGGING_ALLOWED_EXTS:e,LOGGING_UNALLOWED_EXT_PLACEHOLDER:_}=yield new Promise((function(t,e){i(["./e_file_viewer_edison_shmodel_file_async"],t,e)})).then((function(i){return i.extension_constants_esnext}));return e.includes(t.ext)?t.ext:_}))}t.MAX_TAGS_PER_ITEM=20,t.logAddTag=function(i,t,_,d){return e.__awaiter(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>e.__awaiter(this,void 0,void 0,(function*(){s.log(new n({tag_name:null,tag_type:"user_generated_tag",event_name:"add_tag",action_surface:d,file_ext:yield o(t),file_nsid:t.ns_id.toString(),file_sjid:t.sjid.toString(),platform:a,user_id:i.id,file_id:t.file_id,script_in_tag:/[^a-zA-Z0-9_]/iu.test(_)}))})))))}))},t.logRemoveTag=function(i,t,d,r){return e.__awaiter(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>e.__awaiter(this,void 0,void 0,(function*(){s.log(new n({tag_name:null,tag_type:_.getTagType(d),event_name:"remove_tag",action_surface:r,file_ext:yield o(t),file_nsid:t.ns_id.toString(),file_sjid:t.sjid.toString(),platform:a,user_id:i.id,file_id:t.file_id,script_in_tag:/[^a-zA-Z0-9_]/iu.test(d.tag_text)}))})))))}))},t.logSelectTagBar=function(i,t,_){return e.__awaiter(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>e.__awaiter(this,void 0,void 0,(function*(){s.log(new n({tag_name:null,tag_type:"na",event_name:"select_tag_bar",action_surface:_,file_ext:yield o(t),file_nsid:t.ns_id.toString(),file_sjid:t.sjid.toString(),platform:a,user_id:i.id,file_id:t.file_id}))})))))}))},t.logStartTypingTag=function(i,t,_){return e.__awaiter(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>e.__awaiter(this,void 0,void 0,(function*(){s.log(new n({tag_name:null,tag_type:"na",event_name:"start_typing_tag",action_surface:_,file_ext:yield o(t),file_nsid:t.ns_id.toString(),file_sjid:t.sjid.toString(),platform:a,user_id:i.id,file_id:t.file_id}))})))))}))},t.logTagClick=function(i,t,d,r){return e.__awaiter(this,void 0,void 0,(function*(){yield Promise.all(t.map((t=>e.__awaiter(this,void 0,void 0,(function*(){s.log(new n({tag_name:null,tag_type:_.getTagType(r),event_name:"select_tag",action_surface:d,file_ext:yield o(t),file_nsid:t.ns_id.toString(),file_sjid:t.sjid.toString(),platform:a,user_id:i.id,file_id:t.file_id,script_in_tag:/[^a-zA-Z0-9_]/iu.test(r.tag_text)}))})))))}))}}));
//# sourceMappingURL=c_tagging_logger.js-vflIkBQwR.map
