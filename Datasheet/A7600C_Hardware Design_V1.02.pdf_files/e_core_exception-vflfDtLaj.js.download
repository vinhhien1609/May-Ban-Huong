define(["exports","./c_core_exception_info","./c_lodash-es_lodash"],(function(e,r,t){"use strict";let o="production";function n(e){o=e}const s=[];function c(e){s.push(e)}function i(e){const r=s.indexOf(e);r>=0&&s.splice(r,1)}function a(e){const{err:t}=e;if(t.reported)return;const[o,n,c]=r.collectExceptionStack(t);t.isAssertion&&s.forEach((e=>e(c))),t.stack_frames=o.reverse(),t.context_tb=n.reverse(),t.tags=function(e,r){const t=new Set;return e&&e.forEach((e=>t.add(e))),r&&r.forEach((e=>t.add(e))),Array.from(t.values())}(e.tags,t.tags),t.excExtra=function(e,r){let t={};return e&&(t=Object.assign(Object.assign({},t),e)),r&&(t=Object.assign(Object.assign({},t),r)),t}(e.exc_extra,t.excExtra),t.severity=e.severity,t.force=e.force,window.onerror&&window.onerror(t.message,void 0,void 0,void 0,t)}function l(e,t={}){t={severity:t.severity||r.SEVERITY.NONCRITICAL,tags:t.tags||[],exc_extra:t.exc_extra||{},silent:!!t.silent};const n=new Error(e);a({err:n,force:!0,tags:(t.tags||[]).concat("module:exception","reportStack"),severity:t.severity,exc_extra:t.exc_extra}),"production"!==o&&(t.severity===r.SEVERITY.CRITICAL?(t.silent||alert(e),console&&console.error&&console.error(n)):console&&console.warn&&console.warn(n))}var E=Object.freeze({__proto__:null,SEVERITY:r.SEVERITY,overrideEnvironmentForTesting:n,registerOnFailedAssert:c,reportException:a,reportStack:l,unregisterOnFailedAssert:i});e.SEVERITY=r.SEVERITY,e.JSException=E,e.overrideEnvironmentForTesting=n,e.registerOnFailedAssert=c,e.reportException=a,e.reportStack=l,e.unregisterOnFailedAssert=i}));
//# sourceMappingURL=e_core_exception.js-vflHhbCOQ.map
