define(["exports"],(function(e){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}let r=new Set;if(window.ensemble){const e=window;e.REGISTERED_EXCEPTION_TAGS||(e.REGISTERED_EXCEPTION_TAGS=new Set),r=e.REGISTERED_EXCEPTION_TAGS}var l,c={exports:{}};l=c,function(e,n){if(e){var t={},r=e.TraceKit,c=[].slice,i="?";t.noConflict=function(){return e.TraceKit=r,t},t.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw t.report(e),e}}},t.report=function(){var n,r,l=[],i=null,u=null,s=null;function a(e,n){var r=null;if(!n||t.collectWindowErrors){for(var i in l)if(o(l,i))try{l[i].apply(null,[e].concat(c.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function f(e,r,l,c,i){if(s)t.computeStackTrace.augmentStackTraceWithInitialElement(s,r,l,e),p();else if(i)a(t.computeStackTrace(i),!0);else{var o={url:r,line:l,column:c};o.func=t.computeStackTrace.guessFunctionName(o.url,o.line),o.context=t.computeStackTrace.gatherContext(o.url,o.line),a({mode:"onerror",message:e,stack:[o]},!0)}return!!n&&n.apply(this,arguments)}function p(){var e=s,n=i;i=null,s=null,u=null,a.apply(null,[e,!1].concat(n))}function m(n){if(s){if(u===n)return;p()}var r=t.computeStackTrace(n);throw s=r,u=n,i=c.call(arguments,1),e.setTimeout((function(){u===n&&p()}),r.incomplete?2e3:0),n}return m.subscribe=function(t){!0!==r&&(n=e.onerror,e.onerror=f,r=!0),l.push(t)},m.unsubscribe=function(e){for(var n=l.length-1;n>=0;--n)l[n]===e&&l.splice(n,1)},m}(),t.computeStackTrace=function(){var n={};function r(r){if("string"!=typeof r)return[];if(!o(n,r)){var l="",c="";try{c=e.document.domain}catch(e){}var i=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(r);i&&i[2]===c&&(l=function(n){if(!t.remoteFetching)return"";try{var r=function(){try{return new e.XMLHttpRequest}catch(n){return new e.ActiveXObject("Microsoft.XMLHTTP")}}();return r.open("GET",n,!1),r.send(""),r.responseText}catch(e){return""}}(r)),n[r]=l?l.split("\n"):[]}return n[r]}function l(e,n){var t,l=/function ([^(]*)\(([^)]*)\)/,c=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",s=r(e);if(!s.length)return i;for(var a=0;a<10;++a)if(!u(o=s[n-a]+o)){if(t=c.exec(o))return t[1];if(t=l.exec(o))return t[1]}return i}function c(e,n){var l=r(e);if(!l.length)return null;var c=[],i=Math.floor(t.linesOfContext/2),o=i+t.linesOfContext%2,s=Math.max(0,n-i-1),a=Math.min(l.length,n+o-1);n-=1;for(var f=s;f<a;++f)u(l[f])||c.push(l[f]);return c.length>0?c:null}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function a(e){return s(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,n){for(var t,l,c=0,i=n.length;c<i;++c)if((t=r(n[c])).length&&(t=t.join("\n"),l=e.exec(t)))return{url:n[c],line:t.substring(0,l.index).split("\n").length,column:l.index-t.lastIndexOf("\n",l.index)-1};return null}function p(e,n,t){var l,c=r(n),i=new RegExp("\\b"+s(e)+"\\b");return t-=1,c&&c.length>t&&(l=i.exec(c[t]))?l.index:null}function m(n){if(!u(e&&e.document)){for(var t,r,l,c,i=[e.location.href],o=e.document.getElementsByTagName("script"),p=""+n,m=0;m<o.length;++m){var g=o[m];g.src&&i.push(g.src)}if(l=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var d=l[1]?"\\s+"+l[1]:"",x=l[2].split(",").join("\\s*,\\s*");t=s(l[3]).replace(/;$/,";?"),r=new RegExp("function"+d+"\\s*\\(\\s*"+x+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else r=new RegExp(s(p).replace(/\s+/g,"\\s+"));if(c=f(r,i))return c;if(l=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var h=l[1];if(t=a(l[2]),c=f(r=new RegExp("on"+h+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),i[0]))return c;if(c=f(r=new RegExp(t),i))return c}return null}}function g(e,n,t,r){var i={url:n,line:t};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=l(i.url,i.line)),i.context||(i.context=c(i.url,i.line));var o=/ '([^']+)' /.exec(r);if(o&&(i.column=p(o[1],i.url,i.line)),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function d(e,n){for(var r,c,o,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],a={},f=!1,h=d.caller;h&&!f;h=h.caller)if(h!==x&&h!==t.report){if(c={url:null,func:i,args:[],line:null,column:null},h.name?c.func=h.name:(r=u.exec(h.toString()))&&(c.func=r[1]),void 0===c.func)try{c.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}if(o=m(h)){c.url=o.url,c.line=o.line,c.func===i&&(c.func=l(c.url,c.line));var v=/ '([^']+)' /.exec(e.message||e.description);v&&(c.column=p(v[1],o.url,o.line))}a[""+h]?f=!0:a[""+h]=!0,s.push(c)}n&&s.splice(0,n);var w={mode:"callers",name:e.name,message:e.message,stack:s};return g(w,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),w}function x(n,t){var s=null;t=null==t?0:+t;try{if(s=function(e){var n=e.stacktrace;if(n){for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),u=[],s=0;s<o.length;s+=2){var a=null;if((t=r.exec(o[s]))?a={url:t[2],line:+t[1],column:null,func:t[3],args:[]}:(t=i.exec(o[s]))&&(a={url:t[6],line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[]}),a){if(!a.func&&a.line&&(a.func=l(a.url,a.line)),a.line)try{a.context=c(a.url,a.line)}catch(e){}a.context||(a.context=[o[s+1]]),u.push(a)}}return u.length?{mode:"stacktrace",name:e.name,message:e.message,stack:u}:null}}(n),s)return s}catch(e){}try{if(s=function(e){if(!e.stack)return null;for(var n,t,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=e.stack.split("\n"),f=[],m=/^(.*) is undefined$/.exec(e.message),g=0,d=a.length;g<d;++g){if(n=r.exec(a[g])){var x=n[2]&&-1!==n[2].indexOf("native");t={url:x?null:n[2],func:n[1]||i,args:x?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(a[g]))t={url:n[2],func:n[1]||i,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=o.exec(a[g])))continue;t={url:n[3],func:n[1]||i,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!t.func&&t.line&&(t.func=l(t.url,t.line)),t.line&&(t.context=c(t.url,t.line)),f.push(t)}return f.length?(f[0]&&f[0].line&&!f[0].column&&m?f[0].column=p(m[1],f[0].url,f[0].line):f[0].column||u(e.columnNumber)||(f[0].column=e.columnNumber+1),{mode:"stack",name:e.name,message:e.message,stack:f}):null}(n),s)return s}catch(e){}try{if(s=function(n){var t=n.message.split("\n");if(t.length<4)return null;var i,u=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,m=[],g=e&&e.document&&e.document.getElementsByTagName("script"),d=[];for(var x in g)o(g,x)&&!g[x].src&&d.push(g[x]);for(var h=2;h<t.length;h+=2){var v=null;if(i=u.exec(t[h]))v={url:i[2],func:i[3],args:[],line:+i[1],column:null};else if(i=s.exec(t[h])){v={url:i[3],func:i[4],args:[],line:+i[1],column:null};var w=+i[1],E=d[i[2]-1];if(E){var b=r(v.url);if(b){var S=(b=b.join("\n")).indexOf(E.innerText);S>=0&&(v.line=w+b.substring(0,S).split("\n").length)}}}else if(i=p.exec(t[h])){var T=e.location.href.replace(/#.*$/,""),k=f(new RegExp(a(t[h+1])),[T]);v={url:T,func:"",args:[],line:k?k.line:i[1],column:null}}if(v){v.func||(v.func=l(v.url,v.line));var y=c(v.url,v.line),O=y?y[Math.floor(y.length/2)]:null;y&&O.replace(/^\s*/,"")===t[h+1].replace(/^\s*/,"")?v.context=y:v.context=[t[h+1]],m.push(v)}}return m.length?{mode:"multiline",name:n.name,message:t[0],stack:m}:null}(n),s)return s}catch(e){}try{if(s=d(n,t+1))return s}catch(e){}return{mode:"failed"}}return x.augmentStackTraceWithInitialElement=g,x.guessFunctionName=l,x.gatherContext=c,x.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(n){return x(n,e+1)}},x.getSource=r,x}(),t.extendToAsynchronousCallbacks=function(){var n=function(n){var r=e[n];e[n]=function(){var e=c.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=t.wrap(n)),r.apply?r.apply(this,e):r(e[0],e[1])}};n("setTimeout"),n("setInterval")},t.remoteFetching||(t.remoteFetching=!0),t.collectWindowErrors||(t.collectWindowErrors=!0),(!t.linesOfContext||t.linesOfContext<1)&&(t.linesOfContext=11),l.exports&&e.module!==l?l.exports=t:e.TraceKit=t}function o(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function u(e){return void 0===e}}("undefined"!=typeof window?window:n);var i=t(c.exports);i.linesOfContext=1,i.remoteFetching=!1,i.noConflict();const o=["\\bassert\\b","\\bcollectExceptionStack\\b","\\breportException\\b","\\breportStack\\b","\\bsendExceptionReport\\b"];function u(e,n){const t=e=>{if(!e)return!1;for(const t of n)if(-1!==e.search(t))return!0;return!1};for(;e.length>0&&t(e[0].func);)e=e.slice(1);return e}e.SEVERITY={CRITICAL:"critical",NONCRITICAL:"non-critical",USER_ERROR:"user-error",UNCAUGHT:"uncaught",OPERATIONAL:"operational"},e.collectExceptionExtra=function(e){let n={};if(e.isAssertion){const t=e;t.assertOptions&&t.assertOptions.exc_extra&&(n=Object.assign(Object.assign({},n),t.assertOptions.exc_extra))}e.excExtra&&(n=Object.assign(Object.assign({},n),e.excExtra)),window.DB_FRAME_BUST&&(n.DB_FRAME_BUST=!0),n.client_time=(new Date).toString(),n.client_utc_time=(new Date).toUTCString();const t={};for(const e in window.requireContexts)if(window.requireContexts.hasOwnProperty(e)){const n={},r=window.requireContexts[e].firstUndefinedModule;r&&(n.first_undefined_module=r),t[e]=n}n.page_alameda_failures=t;const r=window.ensemble;return null!=r&&(null!=r.getExceptionInfo&&(n.dws_page_info=r.getExceptionInfo()),null!=r.getPageletInfoForExceptionReporting&&(n.pagelet_info=r.getPageletInfoForExceptionReporting())),n},e.collectExceptionStack=function(e){const n=i.computeStackTrace(e),t=null!=(n&&n.stack)?u(n.stack,o):[];let r=[];try{throw new Error}catch(e){const n=i.computeStackTrace(e);null!=n&&null!=n.stack&&(r=n.stack),r=u(r,o)}let l=t.length-r.length;return l<=0&&(l=1),[t.slice(0,l),t.slice(l),n]},e.collectExceptionTags=function(e){const n=new Set;if(e.isAssertion){const t=e;t.assertOptions&&t.assertOptions.tags&&t.assertOptions.tags.forEach((e=>n.add(e)))}return e.tags&&e.tags.forEach((e=>n.add(e))),function(){const e=[];return r.forEach((n=>e.push(n))),e}().forEach((e=>n.add(e))),Array.from(n.values())},e.commonjsGlobal=n,e.getDefaultExportFromCjs=t}));
//# sourceMappingURL=c_core_exception_info.js-vflu5cfRw.map
