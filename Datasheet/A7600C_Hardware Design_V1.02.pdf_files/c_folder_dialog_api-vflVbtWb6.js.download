define(["exports","./c_tslib","./e_file_viewer_edison_shmodel_file_async","./c_folder_dialog_constants","./e_core_exception"],(function(e,s,n,r,t){"use strict";e.getFolderContents=function(e,s){const r={folder:s};return n.WebRequestOref({url:"/browse_util/tree_view_folders",type:"POST",subject_user:e,data:r,dataType:"json",skipNotifyError:!0})},e.getFolderContentsAPIv2=function(e,r,o,i){return s.__awaiter(this,void 0,void 0,(function*(){const s=new n.UserApiV2Client;try{const n=yield s.ns("files").rpc("list_subfolders",{path:r,max_height:o,limit_sub_folder_count:i},{subjectUserId:e}),t=[];return(n.subfolder_entries||[]).forEach((e=>{const s=e.folder_metadata;let n=!1,r=!1,o=0;s.sharing_info&&(n=s.sharing_info.read_only||!!s.sharing_info.no_access,r=!!s.sharing_info.no_access,void 0!==s.sharing_info.shared_folder_id&&(o=parseInt(s.sharing_info.shared_folder_id,10))),t.push({path:s.path_display||"",has_subdirs:e.has_subfolders||!1,icon:s.icon||"",read_only:n||!1,contained_ns:e.contained_ns||0,target_ns:o,no_access:r,is_encrypted:void 0!==s.is_encrypted&&s.is_encrypted})})),t}catch(e){throw t.reportException({err:e.raw?new Error(e.raw.responseBody):e,severity:"non-critical",tags:["js:browse"]}),e}}))},e.getFolderSuggestion=function(e,s,r){return(new n.UserApiV2Client).ns("ml").rpc("get_folder_suggestion",{paths:s,action:r},{subjectUserId:e})}}));
//# sourceMappingURL=c_folder_dialog_api.js-vflG5W5dW.map
