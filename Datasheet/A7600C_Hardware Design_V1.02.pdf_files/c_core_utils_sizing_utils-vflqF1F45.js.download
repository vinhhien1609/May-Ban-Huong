define(["exports","./c_tslib","react","./e_file_viewer_edison_shmodel_file_async","./c_ui-icon_external-logo_twitter","react-dom"],(function(e,t,n,r,a,i){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var c,d=o(n),s=l(i);function u(e){return e?{url:e,type:c.Image}:f()}!function(e){e.Image="image",e.Video="video",e.Color="color",e.Other="other"}(c||(c={}));const g={type:c.Other};function f(){return g}function m(e){if(!e)return f();if(function(e){var t,n;return!!e.color_hex&&"image"===(null===(n=null===(t=e.graphic)||void 0===t?void 0:t.value)||void 0===n?void 0:n[".tag"])}(e)){const t=e.graphic.value.original_url;if(t)return u(t)}if(function(e){return!!e.color_hex&&!e.graphic}(e)){const t=e.color_hex;if(t)return function(e){return{hex:e,type:c.Color}}(t)}if(function(e){var t,n;return!!e.color_hex&&"video"===(null===(n=null===(t=e.graphic)||void 0===t?void 0:t.value)||void 0===n?void 0:n[".tag"])}(e)){const t=e.graphic.value.original_url;if(t)return function(e){return e?{url:e,type:c.Video}:f()}(t)}return f()}function _(e){return e.type!==c.Other}function b(e){const t={};switch(e.type){case c.Image:t.backgroundImage=`url(${e.url})`;break;case c.Color:t.backgroundColor=e.hex}return t}function v(e){return{background:m(e.backgroundAsset),logo:u(e.logoUrl),name:e.organizationName,websiteUrl:e.websiteUrl,twitterUrl:e.twitterUrl,instagramUrl:e.instagramUrl,linkedinUrl:e.linkedinUrl}}function p({userBranding:e,teamBranding:t}){return(null==t?void 0:t.ownerTeamName)?(null==t?void 0:t.teamMemberBrandingPolicyEnabled)?v(e):function({ownerTeamBackground:e,ownerTeamLogo:t,ownerTeamName:n}){return{background:u(e),logo:u(t),name:n}}(t):v(e)}r.injectInternalStyle("/static/typescript/component_libraries/pro-ui/src/components/branding/shared_previews/file_viewer_preview.module.out-vfl3F1kzN.css",(e=>"._branding-file-viewer-preview-background_1ptn3_1{background-size:cover;height:100%;width:100%}._file-viewer-preview-branding_1ptn3_7{height:max(10vw,10vh);left:var(--spacing__unit--4);position:absolute;top:var(--spacing__unit--4);width:max(10vw,10vh)}._branding-file-viewer-preview-background-video_1ptn3_15{min-height:100vh;min-width:100vw;position:fixed}"));const h="_branding-file-viewer-preview-background_1ptn3_1",w="_file-viewer-preview-branding_1ptn3_7",k="_branding-file-viewer-preview-background-video_1ptn3_15";r.injectInternalStyle("/static/typescript/component_libraries/pro-ui/src/components/branding/shared_previews/logo_and_socials.module.out-vflVNL-oq.css",(e=>"._branding-social-links_1j6eb_1{display:flex;justify-content:center}._branding-social-links_1j6eb_1 svg{color:var(--color__glyph__primary)}._branding-logo_1j6eb_10{height:100%;width:100%}._branding-logo-and-socials_1j6eb_15{justify-content:center}"));const E={brandingSocialLinks:"_branding-social-links_1j6eb_1",brandingLogo:"_branding-logo_1j6eb_10",brandingLogoAndSocials:"_branding-logo-and-socials_1j6eb_15"};function y({twitterUrl:e,instagramUrl:t,linkedinUrl:n}){const{twitterAltText:i,instagramAltText:l,linkedinAltText:o}=I(r.useIntl());return[e,t,n].every((e=>!e))?null:d.default.createElement("div",{className:E.brandingSocialLinks},e&&d.default.createElement("a",{href:e,"aria-label":i,target:"_blank",rel:"noreferrer"},d.default.createElement(r.UIIcon,{src:a.TwitterExternalLogo})),t&&d.default.createElement("a",{href:t,"aria-label":l,target:"_blank",rel:"noreferrer"},d.default.createElement(r.UIIcon,{src:a.InstagramExternalLogo})),n&&d.default.createElement("a",{href:n,"aria-label":o,target:"_blank",rel:"noreferrer"},d.default.createElement(r.UIIcon,{src:a.LinkedInExternalLogo})))}function x(e){const{logo:t,websiteUrl:n,twitterUrl:r,instagramUrl:a,linkedinUrl:i}=e;return!_(t)&&[n,r,a,i].every((e=>!e))?null:d.default.createElement("div",{className:E.brandingLogoAndSocials},d.default.createElement(U,Object.assign({},e)),d.default.createElement(y,Object.assign({},e)))}function U({logo:e,websiteUrl:t}){const{logoAltText:n}=I(r.useIntl()),a=function(e){if(e.type===c.Image)return e.url}(e);return a?t?d.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},d.default.createElement("img",{alt:n,className:E.brandingLogo,src:a})):d.default.createElement("img",{alt:"",className:E.brandingLogo,src:a}):null}function I(e){return{logoAltText:e.formatMessage({id:"eElMkQ",defaultMessage:"brand website"}),twitterAltText:e.formatMessage({id:"r+jnK8",defaultMessage:"brand Twitter"}),instagramAltText:e.formatMessage({id:"EsNLWD",defaultMessage:"brand Instagram"}),linkedinAltText:e.formatMessage({id:"Z5hnQD",defaultMessage:"brand LinkedIn"})}}const N=e=>{var{isEditing:n,children:r}=e,a=t.__rest(e,["isEditing","children"]);const{background:i}=p(a);return!_(i)||n?d.default.createElement(d.default.Fragment,null,r):i.type===c.Video?d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:h},d.default.createElement("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:k,"data-testid":"branding-video-background"},d.default.createElement("source",{src:i.url,type:"video/mp4"})),r)):d.default.createElement("div",{className:h,"data-testid":"branding-background",style:b(i)},r)};N.displayName="FilePreviewBrandingBackground";const j=e=>{var{isEditing:n}=e;const r=p(t.__rest(e,["isEditing"])),{logo:a,twitterUrl:i,linkedinUrl:l,instagramUrl:o}=r;return n||!_(a)&&[i,l,o].every((e=>void 0===e))?null:d.default.createElement("div",{className:w},d.default.createElement(x,Object.assign({},r)))};j.displayName="FilePreviewBrandingLogoAndSocials";const L=({children:e})=>{const t=d.useMemo((()=>document.createElement("div")),[]),n=d.useCallback((e=>{null!=e?(e.childNodes.forEach((t=>e.removeChild(t))),e.appendChild(t)):null!=t.parentElement&&t.parentElement.removeChild(t)}),[t]);return d.createElement(d.Fragment,null,d.createElement("div",{ref:n}),e(t))};L.displayName="PortalTargetProvider";const P=({children:e,element:t})=>s.default.createPortal(e,t);P.displayName="PortalWrapper",e.FilePreviewBrandingBackground=N,e.FilePreviewBrandingLogoAndSocials=j,e.PortalTargetProvider=L,e.PortalWrapper=P,e.calculateFitBox=function(e,t,n){const r=e/t;return isNaN(n)||isNaN(r)||!isFinite(r)||!isFinite(n)?[0,0]:r>n?[t*n,t]:[e,e/n]},e.calculateImageSizerDimensions=function(e,t,n=1){const r=e.width*n,a=e.height*n;let i=0,l=0;return r<t.width&&(i=(t.width-r)/2),a<t.height&&(l=(t.height-a)/2),{width:r,height:a,translateX:i,translateY:l}},e.getImageSizeScale=function(e){return e/window.innerWidth*100/window.devicePixelRatio}}));
//# sourceMappingURL=c_core_utils_sizing_utils.js-vfl4iXM5g.map
