define(["exports","./c_core_exception_info"],(function(e,r){"use strict";let t="production";function o(e){t=e}const n=[];function s(e){n.push(e)}function c(e){const r=n.indexOf(e);r>=0&&n.splice(r,1)}function i(e){const{err:t}=e;if(t.reported)return;const[o,s,c]=r.collectExceptionStack(t);t.isAssertion&&n.forEach((e=>e(c))),t.stack_frames=o.reverse(),t.context_tb=s.reverse(),t.tags=function(e,r){const t=new Set;return e&&e.forEach((e=>t.add(e))),r&&r.forEach((e=>t.add(e))),Array.from(t.values())}(e.tags,t.tags),t.excExtra=function(e,r){let t={};return e&&(t=Object.assign(Object.assign({},t),e)),r&&(t=Object.assign(Object.assign({},t),r)),t}(e.exc_extra,t.excExtra),t.severity=e.severity,t.force=e.force,window.onerror&&window.onerror(t.message,void 0,void 0,void 0,t)}function a(e,o={}){o={severity:o.severity||r.SEVERITY.NONCRITICAL,tags:o.tags||[],exc_extra:o.exc_extra||{},silent:!!o.silent};const n=new Error(e);i({err:n,force:!0,tags:(o.tags||[]).concat("module:exception","reportStack"),severity:o.severity,exc_extra:o.exc_extra}),"production"!==t&&(o.severity===r.SEVERITY.CRITICAL?(o.silent||alert(e),console&&console.error&&console.error(n)):console&&console.warn&&console.warn(n))}var E=Object.freeze({__proto__:null,SEVERITY:r.SEVERITY,overrideEnvironmentForTesting:o,registerOnFailedAssert:s,reportException:i,reportStack:a,unregisterOnFailedAssert:c});e.SEVERITY=r.SEVERITY,e.JSException=E,e.overrideEnvironmentForTesting=o,e.registerOnFailedAssert=s,e.reportException=i,e.reportStack=a,e.unregisterOnFailedAssert=c}));
//# sourceMappingURL=e_core_exception.js-vfl9PLZ8z.map
