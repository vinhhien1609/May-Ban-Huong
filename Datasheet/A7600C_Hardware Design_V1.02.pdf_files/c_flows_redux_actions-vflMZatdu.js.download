define(["exports","./c_tslib","./e_file_viewer_edison_shmodel_file_async","./c_flows_redux_reducer","./e_core_exception","./c_flows_redux_selectors"],(function(e,o,t,r,i,l){"use strict";t.UI_EXPERIMENTS.SAVED_WORKFLOW_TEMPLATE_CREATE,t.UI_EXPERIMENTS.SUBFOLDER_INHERITANCE,t.UI_EXPERIMENTS.ADOPTION_UI_VARIANT;const n=e=>({type:r.Actions.UpdateWorkflowTriggerStep,payload:e}),a=(e,o)=>({type:r.Actions.UpdateWorkflowActionStep,payload:{id:e,action:o}});function d(e){return{type:r.Actions.SetWorkflowStepsConfig,payload:e}}e.addUserAutomation=function(e){return{type:r.Actions.AddUserAutomation,payload:e}},e.collapseAllWorkflowBuilderSteps=function(){return(e,t)=>o.__awaiter(this,void 0,void 0,(function*(){e(n({isExpanded:!1}));l.getWorkflowBuilderActions(t()).forEach((o=>e(a(o.id,{isExpanded:!1}))))}))},e.deleteWorkflowActionStep=e=>({type:r.Actions.DeleteWorkflowActionStep,payload:{id:e}}),e.editUserAutomation=function(e){return{type:r.Actions.EditUserAutomation,payload:e}},e.expandOrCollapseWorkflowActionStep=(e,o)=>a(e,{isExpanded:o}),e.expandOrCollapseWorkflowTriggerStep=e=>n({isExpanded:e}),e.getSavedWorkflowTemplates=function(){return e=>{r.getSavedWorkflowTemplates(!1).then((o=>{if(o&&o.saved_workflow_templates){const i=o.saved_workflow_templates.map(r.createSavedWorkflowTemplateObject),l=[];i.forEach((e=>{e&&l.push(e)})),e((t=l,{type:r.Actions.UpdateSavedWorkflowTemplates,payload:t}))}var t}),(e=>{i.reportException({err:{name:"ListSavedWorkflowTemplatesError",message:JSON.stringify(e)},force:!0,tags:[t.EXCLOG_TAG_SAVED_WORKFLOW_TEMPLATE],severity:"non-critical"})}))}},e.getWorkflowStepsConfig=function(){return e=>o.__awaiter(this,void 0,void 0,(function*(){var o,t,i,l;e(d({status:"pending"}));try{const n=yield r.getFolderRulesConfig(),a=(null===(o=n.folder_rules_config)||void 0===o?void 0:o.actions)||[],s=(null===(t=n.folder_rules_config)||void 0===t?void 0:t.triggers)||[],p=(null===(i=n.folder_rules_config)||void 0===i?void 0:i.action_experiments)||[],c=((null===(l=n.folder_rules_config)||void 0===l?void 0:l.trigger_action_maps)||[]).reduce(((e,o)=>{const{trigger:t,actions:r}=o;return t&&r&&(e[t]=r),e}),{});e(d({status:"completed",actionExperiments:p,allowedActions:a,allowedTriggers:s,triggerActionMaps:c}))}catch(o){e(d({status:"errored",error:o.message}))}}))},e.initWorkflowBuilder=e=>({type:r.Actions.InitWorkflowBuilder,payload:e}),e.mergeUserAutomations=function(e){return{type:r.Actions.MergeUserAutomations,payload:e}},e.removeUserAutomation=function(e){return{type:r.Actions.RemoveUserAutomation,payload:{fqPath:e}}},e.setInheritanceBlockingFqPaths=function(e){return{type:r.Actions.SetInheritanceBlockingFqPaths,payload:e}},e.setShouldSubscribeToBolt=e=>({type:r.Actions.SetShouldSubscribeToBolt,payload:e}),e.setWorkflowBuilderActions=e=>({type:r.Actions.SetWorkflowBuilderActions,payload:e}),e.setWorkflowBuilderApplyToExisting=function(e){return{type:r.Actions.SetWorkflowBuilderApplyToExisting,payload:e}},e.setWorkflowBuilderInheritable=function(e){return{type:r.Actions.SetWorkflowBuilderInheritable,payload:e}},e.setWorkflowBuilderOperation=e=>({type:r.Actions.SetWorkflowBuilderOperation,payload:e}),e.setWorkflowBuilderWidth=e=>({type:r.Actions.SetWorkflowBuilderWidth,payload:e}),e.tearDownWorkflowBuilder=()=>({type:r.Actions.TearDownWorkflowBuilder,payload:{}}),e.updateSavedWorkflowTemplateState=e=>({type:r.Actions.UpdateSavedWorkflowTemplateState,payload:e}),e.updateWorkflowActionStep=a,e.updateWorkflowBuilderIsEnabled=e=>({type:r.Actions.UpdateWorkflowBuilderIsEnabled,payload:e}),e.updateWorkflowBuilderPreviewAction=e=>({type:r.Actions.UpdateWorkflowBuilderPreviewAction,payload:e}),e.updateWorkflowTriggerStep=n}));
//# sourceMappingURL=c_flows_redux_actions.js-vfl3p_e5t.map
