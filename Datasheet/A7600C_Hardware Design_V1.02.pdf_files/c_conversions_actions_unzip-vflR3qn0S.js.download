define(["exports","./c_tslib","./e_file_viewer_edison_shmodel_file_async","./c_flows_conversions_convert","./c_core_i18n","./e_edison","react","./c_apex-metrics_src_types","./e_core_exception","./c_core_exception_info","./c_lodash-es_lodash","./c_core_notify","react-dom","metaserver/static/js/modules/constants/env","./c_src_sink_index","metaserver/static/js/modules/constants/viewer","./c_core_xhr","./c_csrf","./c_init_data_runtime","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/fingerprintjs_constants","metaserver/static/js/modules/constants/sharing","./c_security_util","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/constants/pdf_editing","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/constants/files_spa","./c_ui_image","./c_flows_utils_browse_logger","./c_capture_redux_store","./c_sync_everything_redux_selectors","./c_browse_tts","./c_flows_redux_reducer","./c_flows_redux_store","metaserver/static/js/langpack","./c_flows_redux_actions","./c_flows_redux_selectors","./c_workflow_builder_workflow_actions_action_ui_config","./c_ui-icon_line_video-file","./c_ui-icon_line_audio","./c_ui-icon_line_folder","./c_ui-icon_line_move","./c_ui-icon_line_cursor","./c_tagging_components_tags_search","./c_data_action_creators_index","./c_tagging_api","./c_tagging_logger","./c_shared_with_redux_store","./c_sharing_avatar_info","./c_structured_tags_redux_action_creators","./c_folder_dialog_folder_picker_dig","./c_table_columns_file_name_column","./c_src_table","./c_ui-icon_line_arrow-down","./c_pap-events_sign_save_signature_doc","./c_combinations_index","./c_spectrum_icon_arrow_index","./c_browse_interface","./c_folder_dialog_constants","./c_ui-icon_line_help","./c_folder_dialog_api","./c_ui-icon_line_add-circle","./c_ui-icon_line_delete","./c_plugin_utils_getImageDefaultSizes","./c_flows_utils_async_modal_launchers","./c_ui-icon_line_automation"],(function(e,t,s,i,o,a,n,c,r,_,l,d,u,f,g,m,p,v,x,w,M,h,b,j,S,k,y,F,C,E,I,N,A,P,z,O,T,R,U,L,Z,D,q,Q,B,G,J,W,X,H,V,Y,K,$,ee,te,se,ie,oe,ae,ne,ce,re,_e,le,de,ue,fe,ge,me,pe,ve,xe,we){"use strict";function Me(e){return e&&e.__esModule?e:{default:e}}var he=Me(n);const be=s.defineMessage({id:"u1R/iY",defaultMessage:"Extract all"}),je="unzip",Se={actionText:o.intl.formatMessage(be),actionIcon:s.ZipLine,selector:s.singleFileWithExtensionSelector(s.SUPPORTED_UNZIP_EXTENSIONS),convert:(e,o,a)=>{const{source:n}=a;return i.convertFileAndShowSnackbar(Object.assign(Object.assign({},a),{file:e[0],user:o,loggingFunctions:s.getConversionLoggingFunctions(je),conversionType:je,folderRuleAction:"unzip",getStrings:(e,t)=>ke(e,o,t),conversionFn:(e,o,a)=>t.__awaiter(void 0,void 0,void 0,(function*(){return(yield i.unzip(o.id,s.getFileIdentifier(e,a))).path})),getAdoptionSnackbarProps:t=>i.getAdoptionSnackbarProps({user:o,conversionType:je,folderRuleAction:"unzip",resultPath:t,source:n,nsId:e[0].ns_id}),template:{sequence:[{workflow_action:{".tag":"unzip"}}]},outputExt:""}))}},ke=(e,t,i)=>{const n=o.intl.formatMessage({id:"gJnC96",defaultMessage:"Couldn't extract files"}),c=s.getSuccessString(e,((n,c)=>o.intl.formatMessage({id:"oxpxVW",defaultMessage:"Files extracted to <a>{folderName}</a> in {parentFolderName} folder"},{folderName:n,parentFolderName:c,a:o=>(null==i?void 0:i.clickableFileName)?he.default.createElement(s.Link,{inverse:!0,href:s.get_browse_root(t)+a.URI.encode_parts(e),onClick:()=>{var e;null===(e=null==i?void 0:i.loggingFunctions)||void 0===e||e.logConvertOpen(null==i?void 0:i.source)}},o):o})),(e=>o.intl.formatMessage({id:"TRohxO",defaultMessage:"Files extracted to {folderName} in your main Dropbox folder"},{folderName:e})));return{saving:o.intl.formatMessage({id:"Jk+n/I",defaultMessage:"Extracting files..."}),success:c,successAutomatedAdoption:c,failGeneric:n,failRetryable:n,failOverQuota:o.intl.formatMessage({id:"atcchQ",defaultMessage:"Couldn't extract because your Dropbox account is out of space"}),failTooLarge:o.intl.formatMessage({id:"Hgd1fQ",defaultMessage:"Couldn't extract files. Can only handle files up to {fileSize} MB"},{fileSize:s.UNZIP_MAX_FILESIZE_MB}),failCorrupt:o.intl.formatMessage({id:"00qMd1",defaultMessage:"Couldn't extract because the file is damaged"}),failPassword:o.intl.formatMessage({id:"xbgxEF",defaultMessage:"Couldn't extract because the file is password protected"}),failPasswordLink:o.intl.formatMessage({id:"UvS9P9",defaultMessage:"Couldn't extract because the file was shared using a password-protected link"})}};e.UNZIP_ACTION_MESSAGE=be,e.UnzipAction=Se}));
//# sourceMappingURL=c_conversions_actions_unzip.js-vflk2ZHkm.map
