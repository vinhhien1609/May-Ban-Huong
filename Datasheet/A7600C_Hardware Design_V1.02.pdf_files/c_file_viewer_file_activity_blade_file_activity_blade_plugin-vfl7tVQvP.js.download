define(["require","exports","./c_tslib","react","./e_file_viewer_edison_shmodel_file_async","./c_ui-icon_line_file-history","./e_edison","./c_apex-metrics_src_types","./e_core_exception","./c_core_exception_info","./c_lodash-es_lodash","./c_core_i18n","./c_src_sink_index","./c_init_data_runtime","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","metaserver/static/js/langpack","./c_core_notify","react-dom","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/viewer","./c_core_xhr","./c_csrf","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/fingerprintjs_constants","metaserver/static/js/modules/constants/sharing","./c_security_util","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/constants/pdf_editing","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/constants/files_spa"],(function(e,t,s,i,n,o,a,r,c,l,d,_,u,m,f,v,y,p,h,A,j,g,I,w,b,x,V,F,P,E,C,H,L,M,T,U,z){"use strict";function k(e){return e&&e.__esModule?e:{default:e}}var B=k(i);const S=n.lazyAfterDisplay((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{FileActivity:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_file_activity"],t,s)}));return{default:t}})))),D=e=>B.default.createElement(B.default.Suspense,{fallback:null},B.default.createElement(S,Object.assign({},e)));D.displayName="AsyncFileActivity";const O=n.lazyAfterDisplay((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{FileActivityBlade:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_file_activity_blade"],t,s)}));return{default:t}})))),N=n.lazyAfterDisplay((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{CollapsedFileActivityBladeButton:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_file_activity_blade"],t,s)}));return{default:t}})))),q=n.lazyAfterDisplay((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{VersionHistoryMenu:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_version_history_menu"],t,s)}));return{default:t}})))),G=e=>B.default.createElement(B.default.Suspense,{fallback:null},B.default.createElement(q,Object.assign({},e)));G.displayName="AsyncVersionHistoryMenu";t.FileActivityPluginBase=class{constructor(e,t,s,a,r){this.sidebarUI={Icon:()=>B.default.createElement(n.UIIcon,{src:o.FileHistoryLine}),Title:()=>B.default.createElement(B.default.Fragment,null,this.platform.intl.formatMessage({id:"g4fiTc",defaultMessage:"File Activity"})),TitleAccessory:()=>{const e=this.onOpenVersionHistory,t=i.useMemo((()=>e?{enabled:!0,onVersionHistoryClicked:()=>{e(),this.context.logUserAction(n.UserAction.VersionHistory,n.UserActionContext.PreviewSidebar)}}:{enabled:!1}),[e]);return t&&t.enabled?B.default.createElement(G,{onVersionHistoryClicked:t.onVersionHistoryClicked,iconSize:"standard"}):null},Content:e=>{const t=n.useFileViewerSelector(n.getLeftSidebarPluginId,this.context.fileViewerId);return n.useRecordPreviewsTimerOnMount(this.context.fileViewerId,n.PreviewsTimer.SidebarContentsMount,{bladeId:n.FILE_ACTIVITY_PLUGIN_ID},t===n.FILE_ACTIVITY_PLUGIN_ID),B.default.createElement(n.Provider,{store:this.store},B.default.createElement(D,{fileId:e.file.fileId,user:this.user,logUserAction:this.context.logUserAction}))}},this.platform=e,this.store=t,this.user=s,this.context=a,this.onOpenVersionHistory=r}},t.LazyCollapsedFileActivityBladeButton=N,t.LazyFileActivityBlade=O,t.LazyVersionHistoryMenu=q}));
//# sourceMappingURL=c_file_viewer_file_activity_blade_file_activity_blade_plugin.js-vflBz7s9i.map
