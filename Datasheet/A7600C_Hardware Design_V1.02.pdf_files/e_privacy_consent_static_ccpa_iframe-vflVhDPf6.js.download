define(["require","exports","react","./c_browser_browser_detection","./c_tslib","./e_edison","./c_init_data_runtime","./c_core_xhr","./c_csrf","metaserver/static/js/modules/constants/viewer","./c_src_sink_index","./e_core_exception","./c_core_exception_info","./c_core_notify","./c_core_i18n","react-dom","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","metaserver/static/js/langpack"],(function(e,t,n,r,i,s,o,a,c,l,d,u,p,m,h,f,g,_,v,b){"use strict";function E(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var w,y,S,T,x,C=E(n),N=E(f),k=E(g);class O extends r.Message{constructor(e){super(),this.userAgent="",this.sessionId="",this.anonIp="",this.localeUserSelected="",this.localeBrowserHeader="",this.country="",this.uaBrowserName="",this.uaBrowserVersion="",this.uaOsName="",this.uaOsVersion="",r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new O).fromBinary(e,t)}static fromJson(e,t){return(new O).fromJson(e,t)}static fromJsonString(e,t){return(new O).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(O,e,t)}}O.runtime=r.proto3,O.typeName="ccpa_data.CCPALogContext",O.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"user_agent",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"anon_ip",kind:"scalar",T:9},{no:4,name:"locale_user_selected",kind:"scalar",T:9},{no:5,name:"locale_browser_header",kind:"scalar",T:9},{no:6,name:"country",kind:"scalar",T:9},{no:7,name:"ua_browser_name",kind:"scalar",T:9},{no:8,name:"ua_browser_version",kind:"scalar",T:9},{no:9,name:"ua_os_name",kind:"scalar",T:9},{no:10,name:"ua_os_version",kind:"scalar",T:9}]));class I extends r.Message{constructor(e){super(),this.isDws=!1,this.sourceType=w.UNKNOWN,this.subtypes={},this.url="",r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new I).fromBinary(e,t)}static fromJson(e,t){return(new I).fromJson(e,t)}static fromJsonString(e,t){return(new I).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(I,e,t)}}I.runtime=r.proto3,I.typeName="web_timing_logger.WebTimingLoggerServerContext",I.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"is_dws",kind:"scalar",T:8},{no:2,name:"dws_opts",kind:"message",T:A},{no:3,name:"source_type",kind:"enum",T:r.proto3.getEnumType(w)},{no:4,name:"subtypes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"url",kind:"scalar",T:9}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DESKTOP_WEB=1]="DESKTOP_WEB",e[e.MOBILE_WEB=2]="MOBILE_WEB"}(w||(w={})),r.proto3.util.setEnumType(w,"web_timing_logger.WebTimingLoggerServerContext.SourceType",[{no:0,name:"UNKNOWN"},{no:1,name:"DESKTOP_WEB"},{no:2,name:"MOBILE_WEB"}]);class A extends r.Message{constructor(e){super(),this.isDws2=!1,this.isEarlyEnsemble=!1,this.jsPreloading=!1,r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new A).fromBinary(e,t)}static fromJson(e,t){return(new A).fromJson(e,t)}static fromJsonString(e,t){return(new A).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(A,e,t)}}A.runtime=r.proto3,A.typeName="web_timing_logger.WebTimingLoggerServerContext.DWSOptions",A.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"is_dws2",kind:"scalar",T:8},{no:2,name:"is_early_ensemble",kind:"scalar",T:8},{no:3,name:"js_preloading",kind:"scalar",T:8}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_OUT_NOT_ENROLLED=1]="LOGGED_OUT_NOT_ENROLLED",e[e.LOGGED_IN_NOT_ENROLLED=2]="LOGGED_IN_NOT_ENROLLED",e[e.LOGGED_OUT_EMAIL_PENDING=3]="LOGGED_OUT_EMAIL_PENDING",e[e.LOGGED_OUT_ENROLLED=4]="LOGGED_OUT_ENROLLED",e[e.LOGGED_IN_EMAIL_PENDING=5]="LOGGED_IN_EMAIL_PENDING",e[e.LOGGED_IN_ENROLLED=6]="LOGGED_IN_ENROLLED",e[e.LOGGED_OUT_GPC_ENABLED=7]="LOGGED_OUT_GPC_ENABLED",e[e.CROSS_ORIGIN_ENROLLED=8]="CROSS_ORIGIN_ENROLLED",e[e.ENROLLED_VIA_COOKIES=9]="ENROLLED_VIA_COOKIES"}(y||(y={})),r.proto3.util.setEnumType(y,"privacy_consent.UserDNSInitState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT_NOT_ENROLLED"},{no:2,name:"LOGGED_IN_NOT_ENROLLED"},{no:3,name:"LOGGED_OUT_EMAIL_PENDING"},{no:4,name:"LOGGED_OUT_ENROLLED"},{no:5,name:"LOGGED_IN_EMAIL_PENDING"},{no:6,name:"LOGGED_IN_ENROLLED"},{no:7,name:"LOGGED_OUT_GPC_ENABLED"},{no:8,name:"CROSS_ORIGIN_ENROLLED"},{no:9,name:"ENROLLED_VIA_COOKIES"}]);class R extends r.Message{constructor(e){super(),this.iframeOrigin="",this.countryCode="",this.isCcpaEnabled=!1,this.loggedInState=S.UNKNOWN,this.isMigrationGateEnabled=!1,r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new R).fromBinary(e,t)}static fromJson(e,t){return(new R).fromJson(e,t)}static fromJsonString(e,t){return(new R).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(R,e,t)}}R.runtime=r.proto3,R.typeName="privacy_consent.PrivacyConsentInitData",R.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"iframe_origin",kind:"scalar",T:9},{no:2,name:"country_code",kind:"scalar",T:9},{no:3,name:"is_ccpa_enabled",kind:"scalar",T:8},{no:4,name:"logged_in_state",kind:"enum",T:r.proto3.getEnumType(S)},{no:5,name:"is_migration_gate_enabled",kind:"scalar",T:8}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_OUT=1]="LOGGED_OUT",e[e.LOGGED_IN=2]="LOGGED_IN"}(S||(S={})),r.proto3.util.setEnumType(S,"privacy_consent.PrivacyConsentInitData.LoggedInState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT"},{no:2,name:"LOGGED_IN"}]);class L extends r.Message{constructor(e){super(),this.consentIframeOrigin="",this.dnsState=y.UNKNOWN,this.userEmails=[],this.verifiedEmails=[],this.unverifiedEmails=[],this.ccpaToken="",this.isGpcEnabled=!1,this.localizedTextOverrides={},this.csrfToken="",r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new L).fromBinary(e,t)}static fromJson(e,t){return(new L).fromJson(e,t)}static fromJsonString(e,t){return(new L).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(L,e,t)}}L.runtime=r.proto3,L.typeName="privacy_consent.CCPAIFrameInitData",L.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"consent_iframe_origin",kind:"scalar",T:9},{no:2,name:"dns_state",kind:"enum",T:r.proto3.getEnumType(y)},{no:3,name:"user_emails",kind:"scalar",T:9,repeated:!0},{no:4,name:"verified_emails",kind:"scalar",T:9,repeated:!0},{no:5,name:"unverified_emails",kind:"scalar",T:9,repeated:!0},{no:6,name:"logging_context",kind:"message",T:O},{no:7,name:"ccpa_token",kind:"scalar",T:9},{no:8,name:"is_gpc_enabled",kind:"scalar",T:8},{no:9,name:"localized_text_overrides",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"csrf_token",kind:"scalar",T:9}]));class D extends r.Message{constructor(e){super(),this.confirmationStatus=T.UNKNOWN,this.userEmailToken="",this.countryCode="",this.locale="",this.hasError=!1,r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new D).fromBinary(e,t)}static fromJson(e,t){return(new D).fromJson(e,t)}static fromJsonString(e,t){return(new D).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(D,e,t)}}D.runtime=r.proto3,D.typeName="privacy_consent.CCPADNSVerificationInitData",D.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"confirmation_status",kind:"enum",T:r.proto3.getEnumType(T)},{no:2,name:"user_email_token",kind:"scalar",T:9},{no:3,name:"country_code",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:5,name:"has_error",kind:"scalar",T:8},{no:6,name:"web_timing_logger_server_context",kind:"message",T:I}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CONFIRMED=1]="CONFIRMED",e[e.CANCELED=2]="CANCELED",e[e.PENDING=3]="PENDING"}(T||(T={})),r.proto3.util.setEnumType(T,"privacy_consent.CCPADNSVerificationInitData.DNSVerificationStatus",[{no:0,name:"UNKNOWN"},{no:1,name:"CONFIRMED"},{no:2,name:"CANCELED"},{no:3,name:"PENDING"}]),function(e){e.NotEnrolled="NOT_ENROLLED",e.EnrollmentPendingEmailConfirmation="ENROLLMENT_PENDING_EMAIL_CONFIRMATION",e.EnrollmentPendingAccountConfirmation="ENROLLMENT_PENDING_ACCOUNT_CONFIRMATION",e.EnrolledEmail="ENROLLED_EMAIL",e.EnrolledAccount="ENROLLED_ACCOUNT",e.CrossOriginEnrolled="CROSS_ORIGIN_ENROLLED",e.EnrolledViaCookie="ENROLLED_VIA_COOKIES",e.UnenrollmentPendingEmailUIConfirmation="UNENROLLMENT_PENDING_EMAIL_UI_CONFIRMATION",e.UnenrollmentPendingAccountUIConfirmation="UNENROLLMENT_PENDING_ACCOUNT_UI_CONFIRMATION",e.EnrollmentPendingEmailUIConfirmation="ENROLLMENT_PENDING_EMAIL_UI_CONFIRMATION",e.EnrollmentPendingAccountUIConfirmation="ENROLLMENT_PENDING_ACCOUNT_UI_CONFIRMATION",e.EnrollmentPendingEmailVerificationSent="ENROLLMENT_PENDING_EMAIL_VERIFICATION_SENT",e.EnrollmentPendingAccountVerificationSent="ENROLLMENT_PENDING_ACCOUNT_VERIFICATION_SENT"}(x||(x={}));const M=e=>e===x.EnrollmentPendingEmailVerificationSent||e===x.EnrollmentPendingAccountVerificationSent||e===x.EnrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingAccountUIConfirmation||e===x.EnrollmentPendingEmailConfirmation||e===x.EnrollmentPendingAccountConfirmation||e===x.EnrolledEmail||e===x.EnrolledAccount||e===x.CrossOriginEnrolled||e===x.EnrolledViaCookie,P=e=>e===x.EnrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingAccountUIConfirmation,U=e=>!(e===x.EnrollmentPendingAccountUIConfirmation||e===x.EnrollmentPendingEmailUIConfirmation||e===x.UnenrollmentPendingAccountUIConfirmation||e===x.UnenrollmentPendingEmailUIConfirmation||e===x.EnrollmentPendingEmailVerificationSent||e===x.EnrollmentPendingAccountVerificationSent);var F,B,j;t.ApiV2HeaderNames=void 0,(F=t.ApiV2HeaderNames||(t.ApiV2HeaderNames={})).DropboxApiArg="Dropbox-API-Arg",F.DropboxApiSelectAdmin="Dropbox-API-Select-Admin",F.DropboxPathRoot="X-Dropbox-Path-Root",F.DropboxUid="X-Dropbox-Uid",F.DropboxTeamId="X-Dropbox-Teamid",F.DropboxTeamAuthorization="X-Dropbox-Team-Authorization",F.CsrfToken="X-CSRF-Token",F.DropboxForceQuic="X-Dropbox-Force-Quic",function(e){e[e.TeamAdminRole=0]="TeamAdminRole",e[e.MTARole=1]="MTARole",e[e.FederationAdminRole=2]="FederationAdminRole"}(B||(B={})),function(e){e[e.AdminAction=0]="AdminAction",e[e.AssumeAction=1]="AssumeAction",e[e.OnBehalfOfAction=2]="OnBehalfOfAction"}(j||(j={}));class z{constructor(e){this.message=e}toString(){return void 0===this.message?"ApiError":this.message}static parseResponse(e,t,n,r=null){let i="";null==r&&(r=e in q?q[e]:e>=500?G:z);const s={raw:{status:e,responseBody:n},summary:null,error:{},headers:t};try{const e=JSON.parse(n)||{};s.error=e.error,s.summary=e.error_summary,i=null!=e.user_message?e.user_message.text:""}catch(e){}return Object.assign(new r(i||void 0),s)}}class G extends z{}const q={400:class extends z{},401:class extends z{},409:class extends z{},429:class extends z{}};class V extends Error{constructor(e,t){super(t),this.name="FetchAbortError",this.response=e}}class $ extends Error{constructor(e,t){super(t),this.name="FetchFailError",this.response=e}}class W extends Error{constructor(e,t){super(t),this.name="FetchResponseError",this.response=e}}function H(e){return"FetchFailError"===e.name}function K(e){return"FetchResponseError"===e.name}const J=6e4;class Y{constructor(){this.pendingRequests=0,this.subscribers=new Set,this.didNetworkTimeOut=!1,this.next=e=>{this.subscribers.forEach((t=>t(e)))},this.startCleanupTimeout=()=>{this.abortCleanupTimeout();this.cleanupTimeout=window.setTimeout((()=>{this.didNetworkTimeOut=!0,this.pendingRequests=0,this.next("IDLE")}),J)},this.abortCleanupTimeout=()=>{window.clearTimeout(this.cleanupTimeout),this.cleanupTimeout=void 0},this.increment=()=>{this.startCleanupTimeout(),0===this.pendingRequests&&this.next("BUSY"),this.pendingRequests+=1},this.decrement=()=>{this.abortCleanupTimeout(),1===this.pendingRequests?this.next("IDLE"):this.startCleanupTimeout(),this.pendingRequests=Math.max(this.pendingRequests-1,0)},this.subscribe=e=>{this.subscribers.add(e);return()=>{this.subscribers.delete(e)}}}}class X{constructor(){this.pendingResources=new Set,this.subscribers=new Set,this.didNetworkTimeOut=!1,this.next=e=>{this.subscribers.forEach((t=>t(e)))},this.startCleanupTimeout=()=>{this.abortCleanupTimeout();this.cleanupTimeout=window.setTimeout((()=>{this.didNetworkTimeOut=!0,this.pendingResources=new Set,this.next("IDLE")}),J)},this.abortCleanupTimeout=()=>{window.clearTimeout(this.cleanupTimeout),this.cleanupTimeout=void 0},this.add=e=>{e instanceof HTMLImageElement&&!e.src||e instanceof HTMLImageElement&&e.complete||e instanceof HTMLLinkElement&&!e.href||e instanceof HTMLScriptElement&&!e.src||e instanceof HTMLIFrameElement&&!e.src||(this.startCleanupTimeout(),0===this.pendingResources.size&&this.next("BUSY"),this.pendingResources.add(e))},this.remove=e=>{this.abortCleanupTimeout(),this.pendingResources.delete(e),0===this.pendingResources.size?this.next("IDLE"):this.startCleanupTimeout()},this.subscribe=e=>{this.subscribers.add(e);return()=>{this.subscribers.delete(e)}},(null===window||void 0===window?void 0:window.MutationObserver)&&window.addEventListener("load",(()=>{new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof HTMLScriptElement||e instanceof HTMLLinkElement||e instanceof HTMLImageElement||e instanceof HTMLIFrameElement?this.add(e):e.hasChildNodes()&&e instanceof HTMLElement&&e.querySelectorAll("img").forEach(this.add)}))}))})).observe(window.document.documentElement,{childList:!0,subtree:!0}),["load","error"].forEach((e=>{window.document.addEventListener(e,(e=>{(e.target instanceof HTMLScriptElement||e.target instanceof HTMLLinkElement||e.target instanceof HTMLImageElement||e.target instanceof HTMLIFrameElement)&&this.remove(e.target)}),{capture:!0})}))}))}}class Z{constructor(){this.ajaxIdleObservable=new Y,this.resourceLoadingIdleObservable=new X,this.subscribers=new Set,this.ajaxIdle=!0,this.scriptLoadingIdle=!0,this.handleUpdate=e=>t=>{const n=this.ajaxIdle&&this.scriptLoadingIdle;"AJAX"===e&&(this.ajaxIdle="IDLE"===t),"RESOURCE_LOADING"===e&&(this.scriptLoadingIdle="IDLE"===t);const r=this.ajaxIdle&&this.scriptLoadingIdle;n!==r&&this.next(r?"IDLE":"BUSY")},this.next=e=>{this.subscribers.forEach((t=>t(e)))},this.incrementAjaxCount=()=>this.ajaxIdleObservable.increment(),this.decrementAjaxCount=()=>this.ajaxIdleObservable.decrement(),this.isIdle=()=>this.ajaxIdle&&this.scriptLoadingIdle,this.didNetworkTimeOut=()=>this.ajaxIdleObservable.didNetworkTimeOut||this.resourceLoadingIdleObservable.didNetworkTimeOut,this.resetDidNetworkTimeOut=()=>{this.ajaxIdleObservable.didNetworkTimeOut=!1,this.resourceLoadingIdleObservable.didNetworkTimeOut=!1},this.subscribe=e=>{this.subscribers.add(e);return()=>{this.subscribers.delete(e)}},this.ajaxIdleObservable.subscribe(this.handleUpdate("AJAX")),this.resourceLoadingIdleObservable.subscribe(this.handleUpdate("RESOURCE_LOADING"))}}let Q;const ee=()=>(Q||(Q=new Z),Q),te=()=>{},ne="boolean"==typeof RUNNING_IN_REACTSERVER?te:ee().incrementAjaxCount,re="boolean"==typeof RUNNING_IN_REACTSERVER?te:ee().decrementAjaxCount;function ie(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}class se{executeRpc(e,t,n,r,i){return new Promise(((o,a)=>{s.incrementAjaxCount(),ne();const c=()=>{s.decrementAjaxCount(),re()};return fetch(e.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:Object.assign(Object.assign({},t),{"Content-Type":r}),body:n,signal:i}).then((e=>e.text().then((t=>({response:e,responseText:t}))))).then((({response:e,responseText:t})=>{if(e.ok)return{response:e,responseText:t};throw new W(e,t)})).then((({response:e,responseText:t})=>(c(),o({headers:ie(e.headers),result:JSON.parse(t)})))).catch((e=>(c(),K(e)?a(z.parseResponse(e.response.status,ie(e.response.headers),e.message)):a(z.parseResponse(0,{},"")))))}))}executeBinaryRpc(e,t,n,r,i){return new Promise(((o,a)=>(s.incrementAjaxCount(),ne(),fetch(e.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:Object.assign(Object.assign({},t),{"Content-Type":r}),body:n,signal:i}).then((e=>e.ok?e.arrayBuffer().then((t=>({response:e,responseData:t}))):e.text().then((t=>{throw new W(e,t)})))).then((({response:e,responseData:t})=>o({headers:ie(e.headers),result:t}))).catch((e=>K(e)?a(z.parseResponse(e.response.status,ie(e.response.headers),e.message)):a(z.parseResponse(0,{},"")))).finally((()=>{s.decrementAjaxCount(),re()})))))}}class oe extends se{}class ae{constructor(e){this.uploadEndpoints=new Set(["backups/upload_session/append","files/alpha/upload","files/paper/create","files/paper/update","files/upload","files/upload_v2","files/upload_session/append_v2","files/upload_session/append_batch","files/upload_session/finish","files/upload_session/finish_v2","files/upload_session/start","paper/cloud_docs/update","paper/desktop/spaces/upload_log","paper/desktop/upload_log","paper/docs/create","paper/docs/update","support_attachments/upload","hellosign/self_sign","hellosign/send_signature_request","hellosign/create_template","ungated_file_conv_block/convert_to_pdf"]),this.downloadEndpoints=new Set(["backups/download","backups/download_zip","files/download","files/download_zip","files/export","files/get_preview","files/get_thumbnail_v2","paper/docs/download","sharing/get_shared_link_file","sharing/export_shared_link","hellosign/convert_to_pdf_download"]),this.supportedUploadEndpoints=new Set(["backups/upload_session/append","files/paper/create","files/paper/update","files/upload","files/upload_v2","files/upload_session/append_v2","files/upload_session/append_batch","files/upload_session/finish","files/upload_session/finish_v2","files/upload_session/start","paper/cloud_docs/update","paper/desktop/spaces/upload_log","paper/desktop/upload_log","paper/docs/create","paper/docs/update","support_attachments/upload","hellosign/self_sign","hellosign/send_signature_request","hellosign/create_template","ungated_file_conv_block/convert_to_pdf"]),this.supportedDownloadEndpoints=new Set(["backups/download","backups/download_zip","files/download","sharing/get_shared_link_file","sharing/export_shared_link","hellosign/convert_to_pdf_download"]),this.transport=e||new oe}_upload(e,t,n,r){return this._uploadWithResponseHeaders(e,t,n,r).then((e=>e.result))}_uploadWithResponseHeaders(e,n,r,i){if(!this.uploadEndpoints.has(e))throw new Error(e+" does not use the content-upload endpoint format");if(!this.supportedUploadEndpoints.has(e))throw new Error(e+" is not in the supported list of content-upload endpoints");const s=Object.assign({[t.ApiV2HeaderNames.CsrfToken]:this.csrfToken(),[t.ApiV2HeaderNames.DropboxApiArg]:this.http_header_safe_json(n)},this._headers(i));if(Boolean(o.isHTTP3SupportEnabled())&&(s[t.ApiV2HeaderNames.DropboxForceQuic]="true"),"string"==typeof r||void 0===r)return this.executeRpc(e,s,r,"application/octet-stream",i.signal);{const t=new Blob([r],{type:"application/octet-stream"});return this.executeRpc(e,s,t,"application/octet-stream",i.signal)}}_download(e,t,n,r){return this._downloadWithResponseHeaders(e,t,n,r).then((e=>e.result))}_downloadWithResponseHeaders(e,n,r,i){if(void 0===i||!i.hasOwnProperty("dangerouslyFetchUserContent")||!i.dangerouslyFetchUserContent)throw new Error("download requires explicit acknowledgement of the risk");if(!this.downloadEndpoints.has(e))throw new Error(e+" does not use the content-download endpoint format");if(!this.supportedDownloadEndpoints.has(e))throw new Error(e+" is not in the supported list of content-download endpoints");const s=Object.assign({[t.ApiV2HeaderNames.CsrfToken]:this.csrfToken(),[t.ApiV2HeaderNames.DropboxApiArg]:this.http_header_safe_json(n)},this._headers(r));return Boolean(o.isHTTP3SupportEnabled())&&(s[t.ApiV2HeaderNames.DropboxForceQuic]="true"),this.executeBinaryRpc(e,s,"","application/octet-stream",r.signal)}_rpc(e,t,n){return this._rpcWithResponseHeaders(e,t,n).then((e=>e.result))}_rpcWithResponseHeaders(e,n,r){const i=Object.assign({[t.ApiV2HeaderNames.CsrfToken]:this.csrfToken()},this._headers(r));if(Boolean(o.isHTTP3SupportEnabled())&&(i[t.ApiV2HeaderNames.DropboxForceQuic]="true"),this.downloadEndpoints.has(e))throw new Error(e+' does not use the rpc endpoint format. Use "download" instead');if(this.uploadEndpoints.has(e))throw new Error(e+' does not use the rpc endpoint format. Use "upload" instead');const s=JSON.stringify(n||null);return this.executeRpc(e,i,s,"application/json",r.signal)}csrfToken(){return c.Cookies.read("__Host-js_csrf")||""}executeRpc(e,t,n,r,c){return i.__awaiter(this,void 0,void 0,(function*(){const i="client-web.dropbox.com"===window.location.hostname?"client-web.dropbox.com":"www.dropbox.com";let l;o.isRequestTracingEnabled()&&(l={parent_request_id:o.getRequestId()},t["x-dropbox-force-request-tracing"]="ON");const d=a.getAttributionHeader();d&&(t["x-dropbox-client-yaps-attribution"]=d);const u=new s.URI({scheme:"https",authority:i,path:"/2/"+e,query:l});return yield this.transport.executeRpc(u,t,n,r,c)}))}executeBinaryRpc(e,t,n,r,a){return i.__awaiter(this,void 0,void 0,(function*(){const i="client-web.dropbox.com"===window.location.hostname?"client-web.dropbox.com":"www.dropbox.com";let c;o.isRequestTracingEnabled()&&(c={parent_request_id:o.getRequestId()},t["x-dropbox-force-request-tracing"]="ON");const l=new s.URI({scheme:"https",authority:i,path:"/2/"+e,query:c});return yield this.transport.executeBinaryRpc(l,t,n,r,a)}))}http_header_safe_json(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}))}}ae.prototype.ns=function(e){const t=this;return{rpc:function(n,r,i){return t._rpc(e+"/"+n,r,i)},rpcWithResponseHeaders:function(n,r,i){return t._rpcWithResponseHeaders(e+"/"+n,r,i)},upload:function(n,r,i,s){return t._upload(e+"/"+n,r,i,s)},uploadWithResponseHeaders:function(n,r,i,s){return t._uploadWithResponseHeaders(e+"/"+n,r,i,s)},download:function(n,r,i,s){return t._download(e+"/"+n,r,i,s)},downloadWithResponseHeaders:function(n,r,i,s){return t._downloadWithResponseHeaders(e+"/"+n,r,i,s)}}};class ce extends ae{constructor(e){super(e)}_headers(e){return Object.assign({[t.ApiV2HeaderNames.DropboxUid]:String(-1)},e.headers)}}var le=Object.freeze({__proto__:null,NoAuthApiV2Client:ce});class de{constructor(e){Object.assign(this,e)}toString(){return String(this.id)}}class ue{constructor(e,t){this.active_and_paired_user_ids=t,this.users=e}get_users(){return Object.values(this.users).sort(((e,t)=>+e.linked_user_id-+t.linked_user_id))}is_uid_associated(e){return e in this.users}is_paired(){return this.active_and_paired_user_ids.length>1}has_linked_or_paired_users(){return Object.keys(this.users).length>1}get_unauthed_user_by_uid(e){return this.users[e]}}class pe{static get_viewer(){return pe._cached_viewer}static get_role_title(e){return this.get_viewer().get_title_with_correct_team_name(e)}static get_root_name(e){return this.get_viewer().get_root_name_with_correct_team_name(e)}static get_is_signed_in(e){return e.is_signed_in}constructor(e={}){this.replace_viewer_data(e)}replace_viewer_data(e={}){this._authed_users={},this._active_and_paired_authed_users={},this._active_and_paired_users={};const t={},n=e._user_data||[],r=n.map((e=>e.id));for(const i of n){const n=new de(i),s=r.includes(n.id);t[n.id]=n,s&&(this._active_and_paired_users[n.id]=n),i._authed&&(this._authed_users[n.id]=n,s&&(this._active_and_paired_authed_users[n.id]=n)),e.active_user_id&&e.active_user_id===n.id&&(this.active_user=n)}this.linked_users_set=new ue(t,r),this.display_name=e.display_name,this.team_id=e.team_id,this.auth_role=e.auth_role,this.auth_action_type=e.auth_action_type,this.team_dbtid=e.team_dbtid,this.team_name=e.team_name,this.team_type=e.team_type,this.team_is_limited=e.team_is_limited||!1,this.team_is_locked=e.team_is_locked||!1,this.is_assume_user_session=e.is_assume_user_session||!1,this.is_team_assume_user_session=e.is_team_assume_user_session||!1,this.is_signed_in=n.length>0,this.is_paired=n.length>1,e.deprecated_first_user_in_the_cookie_id&&(this.deprecated_first_user_in_the_cookie=this.get_user_by_id(e.deprecated_first_user_in_the_cookie_id)),this._load_cached_users()}get_user_by_role(e,t){const n=this.get_uid_by_role(e);return null!=n?this.get_user_by_id(n,t):void 0}role_exists(e){return null!=this.get_uid_by_role(e)}get_user_by_id(e,t){s.assert(this.is_uid_associated(e),`User ${e} is not associated with this viewer`);const n=(t?this.linked_users_set.users:this._authed_users)[e];return s.assert(!!n,`User ${e} is not signed in`),n}is_role_signed_in(e){const t=this.get_uid_by_role(e);return null!=t&&t in this._authed_users}is_uid_signed_in(e){return e in this._authed_users}is_user_signed_in(e){return null!=e&&this.is_uid_signed_in(e.id)}is_uid_associated(e){return this.linked_users_set.is_uid_associated(e)}get_users(e){let t=this._active_and_paired_authed_users;e&&(t=this._active_and_paired_users);const n=Object.keys(t).map((e=>t[e]));return n.sort(((e,t)=>"personal"===e.role?-1:1)),n}get_user_ids(e){return this.get_users(e).map((e=>e.id))}get_roles(e){return this.get_users(e).map((e=>e.role))}get_account_ids(e){return this.get_users(e).map((e=>e.account_id))}get_email_by_role(e){const t=this.get_user_by_role(e,!0);return t&&t.email}get_uid_by_role(e){"photos"===e&&(e=this.is_paired||!this.is_signed_in?"personal":this._active_and_paired_users[Object.keys(this._active_and_paired_users)[0]].role);for(const t of Object.values(this._active_and_paired_users))if(t.role===e)return t.id}get_title_by_role(e){return"work"===e?this.team_name:this.is_paired?l.PERSONAL_ROLE_STRING:""}get_root_name_by_role(e){return this.get_title_by_role(e)||l.DEFAULT_ROOT_NAME}get_title_with_correct_team_name(e){return this.get_title_by_role(e.role)}get_root_name_with_correct_team_name(e){return this.get_title_with_correct_team_name(e)||l.DEFAULT_ROOT_NAME}_sign_out_user_by_id(e){delete this._authed_users[e],delete this._active_and_paired_users[e],this._load_cached_users()}sign_in_user_by_id(e){s.assert(this.is_uid_associated(e),`User ${e} is not associated with this viewer`),this._authed_users[e]=this.linked_users_set.users[e],this._active_and_paired_users.hasOwnProperty(e)&&(this._active_and_paired_authed_users[e]=this._active_and_paired_users[e]),this._load_cached_users()}_load_cached_users(){this.personal_user=this._authed_users[this.get_uid_by_role("personal")],this.photos_user=this._authed_users[this.get_uid_by_role("photos")],this.work_user=this._authed_users[this.get_uid_by_role("work")],this.personal_email=this.get_email_by_role("personal"),this.work_email=this.get_email_by_role("work"),this.is_personal_user_signed_in=this.is_role_signed_in("personal"),this.is_photos_user_signed_in=this.is_role_signed_in("photos"),this.is_work_user_signed_in=this.is_role_signed_in("work")}}pe._cached_viewer=new pe(l._viewer_properties);class me extends ae{constructor(e){super(e)}_headers(e){const n=pe.get_viewer().get_user_by_id(e.subjectUserId);return Object.assign({[t.ApiV2HeaderNames.DropboxUid]:String(n.id),[t.ApiV2HeaderNames.DropboxPathRoot]:String(n.root_ns_id)},e.headers)}}const he="privacy_consent";var fe,ge,_e,ve,be;!function(e){e.DNS_OPT_IN="dns_opt_in_submitted",e.DNS_OPT_IN_ERROR="dns_opt_in_error",e.DNS_OPT_OUT="dns_opt_out_submitted",e.DNS_OPT_OUT_ERROR="dns_opt_out_error",e.RESEND_EMAIL="resend_email_submitted",e.RESEND_EMAIL_ERROR="resend_email_error",e.IFRAME_LOAD_SUCCESS="ccpa_iframe_load_success",e.IFRAME_LOAD_ERROR="ccpa_iframe_load_error",e.EMAIL_VERIFICATION_PAGE_VISIT="ccpa_email_verification_page_visited",e.EMAIL_VERIFICATION_PAGE_ERROR="ccpa_email_verification_page_error",e.EMAIL_VERIFICATION_CONFIRM_CLICKED="ccpa_email_confirm_clicked",e.EMAIL_VERIFICATION_CANCEL_CLICKED="ccpa_email_cancel_clicked"}(fe||(fe={})),function(e){e.CSRF_TOKEN_ERROR="csrf_token_error",e.UNSUCCESSFUL_RESPONSE="unsuccessful_response"}(ge||(ge={})),function(e){e.SIGNED_IN="signed_in",e.SIGNED_OUT="signed_out",e.SHOULD_USE_APP_AUTH="should_use_app_auth",e.SHOULD_NOT_USE_APP_AUTH="should_not_use_app_auth"}(_e||(_e={})),function(e){e.SETUP_REENTRY_SUCCESS="setup_reentry_success",e.SETUP_REENTRY_FAILURE="setup_reentry_failure",e.SETUP_REENTRY_START="setup_reentry_start"}(ve||(ve={})),function(e){e.CCPA_IFRAME_LOAD_LATENCY="ccpa_iframe_load_latency",e.CROWNPEAK_LOAD_LATENCY="crownpeak_load_latency",e.EVENTS="events",e.CONSENT_IFRAME_RENDERED="consent_iframe_rendered",e.CCPA_IFRAME_RENDERED="ccpa_iframe_rendered"}(be||(be={}));const Ee=new class{constructor(){}get metricsReporter(){return this.metricsReporterInstance||(this.metricsReporterInstance=d.getMetricsReporter$1()),this.metricsReporterInstance}createCounter(e,t={}){return this.metricsReporter.createCounter({ns:he,name:e},t)}createStats(e,t={}){return this.metricsReporter.createStats({ns:he,name:e},t)}logCounter(e,t={}){try{const n=this.createCounter(e,t);n.increment(),n.record()}catch(t){u.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:p.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logError(e,t={},n){this.logCounter(e,t),u.reportException({err:n,severity:p.SEVERITY.CRITICAL,tags:["privacy_consent"],exc_extra:t.event_name})}logDuration(e,t={},n){try{this.createStats(e,t).recordDuration(n,r.TimeUnit.MILLISECONDS)}catch(t){u.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:p.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logStats(e,t={},n){try{this.createStats(e,t).record(n)}catch(t){u.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:p.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}};function we(){var e;if(window.RUNNING_IN_EDISON)return window.EDISON_ACTIVE_USER_ID;if(window.ensemble&&window.ensemble.viewer){const e=window.ensemble.viewer.getActiveUser();if(e)return e.userId}return null===(e=pe.get_viewer().active_user)||void 0===e?void 0:e.id}function ye(){const e=we();return e?pe.get_viewer().get_user_by_id(e):void 0}const Se=()=>pe.get_viewer().is_signed_in,Te=()=>{let e=!0;try{""===Reflect.get(document.constructor.prototype,"cookie",document)&&(e=!1)}catch(t){e=!1}return!e},xe=(e,t)=>({event_name:e,is_signed_in:Se()?_e.SIGNED_IN:_e.SIGNED_OUT,should_use_app_auth:Te()?_e.SHOULD_USE_APP_AUTH:_e.SHOULD_NOT_USE_APP_AUTH,error_type:null==t?"null":t}),Ce=e=>{const t=e&&e.sessionId?e.sessionId:o.getBrowserId();return{user_agent:null==e?void 0:e.userAgent,session_id:t,anon_ip:null==e?void 0:e.anonIp,locale_user_selected:null==e?void 0:e.localeUserSelected,locale_browser_header:null==e?void 0:e.localeBrowserHeader,country:null==e?void 0:e.country,ua_browser_name:null==e?void 0:e.uaBrowserName,ua_browser_version:null==e?void 0:e.uaBrowserVersion,ua_os_name:null==e?void 0:e.uaOsName,ua_os_version:null==e?void 0:e.uaOsVersion}},Ne="https://api.dropboxapi.com",ke=`Basic ${btoa("bvfyoawupclb746:6pv9whg6d9wh8xm")}`;var Oe;!function(e){e.USER_INPUT="UI",e.COOKIE_AUTO="COOKIE_AUTO",e.GPC_UI="GPC_UI",e.GPC_AUTO="GPC_AUTO"}(Oe||(Oe={}));const Ie=(e,t,n,r)=>{if(!e)return void t(!1,"");const i=ye(),s=Ce(n);if(Ee.logCounter(be.EVENTS,xe(fe.RESEND_EMAIL,null)),Se()&&i){const e=(new me).ns("ccpa"),n=pe.get_viewer().get_users().map((e=>e.email));e.rpc("resend_dns_verification_email",{raw_email_addresses:n,logging_context:s},{subjectUserId:i.id}).then((e=>{if(t(e.success,""),!e.success)throw new Error("Resend email failed")})).catch((e=>{t(!1,""),Ee.logError(be.EVENTS,xe(fe.RESEND_EMAIL_ERROR,ge.UNSUCCESSFUL_RESPONSE),e)}))}else if(Te()){if(!r)return t(!1,""),void Ee.logError(be.EVENTS,xe(fe.RESEND_EMAIL_ERROR,ge.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,r)=>{fetch(`${Ne}/2/ccpa/resend_dns_verification_email`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ke},method:"POST",body:JSON.stringify({raw_email_addresses:e,logging_context:r,csrf_token:t})}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{if(n(e.success,""),!e.success)throw new Error("Resend email with app auth failed")})).catch((e=>{n(!1,""),Ee.logError(be.EVENTS,xe(fe.RESEND_EMAIL_ERROR,ge.UNSUCCESSFUL_RESPONSE),e)}))})(e,r,t,s)}else{(new ce).ns("ccpa").rpc("resend_dns_verification_email",{raw_email_addresses:e,logging_context:s},{}).then((e=>{if(t(e.success,""),!e.success)throw new Error("Resend email failed")})).catch((e=>{t(!1,""),Ee.logError(be.EVENTS,xe(fe.RESEND_EMAIL_ERROR,ge.UNSUCCESSFUL_RESPONSE),e)}))}},Ae=(e,t,n,r,i,s,o)=>{e?(Ee.logCounter(be.EVENTS,xe(fe.DNS_OPT_IN,null)),Re(t,n,r,i,s,o)):(Ee.logCounter(be.EVENTS,xe(fe.DNS_OPT_OUT,null)),Le(t,n,r,i,s,o))},Re=(e,t,n,r,i,s)=>{const o=ye(),a=Ce(n);if(Se()&&o){(new me).ns("ccpa").rpc("opt_in_dns",Object.assign({logging_context:a,ccpa_token:r},s),{subjectUserId:o.id}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_IN_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))}else if(Te()){if(!i)return e(!1),void Ee.logError(be.EVENTS,xe(fe.DNS_OPT_IN_ERROR,ge.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,r,i,s)=>{fetch(`${Ne}/2/ccpa/opt_in_dns`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ke},method:"POST",body:JSON.stringify(Object.assign({raw_email_address:n,logging_context:r,ccpa_token:i,csrf_token:t},s))}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS with app auth failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_IN_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))})(e,i,t,a,r,s)}else{(new ce).ns("ccpa").rpc("opt_in_dns",Object.assign({raw_email_address:t,logging_context:a,ccpa_token:r},s),{}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt in DNS failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_IN_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))}},Le=(e,t,n,r,i,s)=>{const o=ye(),a=Ce(n);if(Se()&&o){(new me).ns("ccpa").rpc("opt_out_dns",Object.assign({logging_context:a,ccpa_token:r},s),{subjectUserId:o.id}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_OUT_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))}else if(Te()){if(!i)return e(!1),void Ee.logError(be.EVENTS,xe(fe.DNS_OPT_OUT_ERROR,ge.CSRF_TOKEN_ERROR),new Error("csrf token not found"));((e,t,n,r,i,s)=>{fetch(`${Ne}/2/ccpa/opt_out_dns`,{headers:{"content-type":"text/plain; charset=dropbox-cors-hack",authorization:ke},method:"POST",body:JSON.stringify(Object.assign({raw_email_address:n,logging_context:r,ccpa_token:i,csrf_token:t},s))}).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS with app auth failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_OUT_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))})(e,i,t,a,r,s)}else{(new ce).ns("ccpa").rpc("opt_out_dns",Object.assign({raw_email_address:t,logging_context:a,ccpa_token:r},s),{}).then((t=>{if(e(t.success),!t.success)throw new Error("Opt out DNS failed")})).catch((t=>{e(!1),Ee.logError(be.EVENTS,xe(fe.DNS_OPT_OUT_ERROR,ge.UNSUCCESSFUL_RESPONSE),t)}))}};var De,Me={exports:{}};De=Me,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var s=typeof i;if("string"===s||"number"===s)n.push(i);else if(Array.isArray(i)&&i.length){var o=t.apply(null,i);o&&n.push(o)}else if("object"===s)for(var a in i)e.call(i,a)&&i[a]&&n.push(a)}}return n.join(" ")}De.exports?(t.default=t,De.exports=t):window.classNames=t}();var Pe=Me.exports,Ue=p.getDefaultExportFromCjs(Pe);const Fe=C.createContext({});function Be(e){return Math.floor(e/-4)+2}const je=({className:e,src:t,size:n="medium",isOpticallyAligned:r=!1,height:i,width:s,...o})=>{const{UIIconOverrides:a}=C.useContext(Fe),c=a&&a.size?a.size:n,l="standard"===c?"medium":12===c?"small":20===c?"medium":c,d=a&&void 0!==a.isOpticallyAligned?a.isOpticallyAligned:r,u=Ue("dig-UIIcon",{"dig-UIIcon--small":"small"===l,"dig-UIIcon--standard":"medium"===l,"dig-UIIcon--is-optically-aligned":d},e),p=!o["aria-label"]&&!o["aria-labelledby"],m=function(e,t,n){if(void 0!==t||void 0!==n){if("number"==typeof t)return t;if("number"==typeof n)return n;if(/px$/.test(t||n||"")){const e=(t||n||"0").match(/\d+/),r=e?e.pop():void 0;if(r){const e=parseInt(r,10);if(!isNaN(e))return parseInt(r,10)}}else if(!isNaN(t||n))return parseInt(t||n||"",10)}switch(e){case"small":return 16;case"large":return 32}return 24}(l,i,s),h={marginLeft:Be(m),marginRight:Be(m)};return d?C.createElement("span",{className:u,style:{display:"inline-flex"}},C.createElement(t,{width:m,height:m,role:p?"presentation":void 0,focusable:"false",style:h,...o})):C.createElement(t,{className:u,width:m,height:m,role:p?"presentation":void 0,focusable:"false",...o})};je.displayName="UIIcon";const ze=({className:e,src:t,...n})=>{const r=Ue("dig-PictogramIcon",e),i=!n["aria-label"]&&!n["aria-labelledby"];return C.createElement(t,{className:r,width:64,height:64,focusable:"false",role:i?"presentation":void 0,...n})};ze.displayName="PictogramIcon";const Ge=e=>C.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.772 16.772C13.82 19.725 12 24.512 12 32c0 7.487 1.82 12.276 4.772 15.228C19.725 50.18 24.512 52 32 52c7.487 0 12.276-1.82 15.228-4.772C50.18 44.275 52 39.488 52 32c0-7.487-1.82-12.276-4.772-15.228C44.275 13.82 39.488 12 32 12c-7.487 0-12.276 1.82-15.228 4.772ZM8 32C8 15.85 15.85 8 32 8s24 7.85 24 24-7.85 24-24 24S8 48.15 8 32Z",fill:"currentColor"}),C.createElement("path",{d:"M43.828 26.828 41 24 29.414 35.585 23.828 30 21 32.828l8.414 8.415 14.414-14.415Z",fill:"currentColor"})),qe=e=>C.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m21.353 39.819 9.192-9.193 9.193-9.192 2.828 2.828-18.385 18.385-2.828-2.828Z",fill:"currentColor"}),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.181 21.353 18.385 18.385-2.828 2.828-18.385-18.385 2.828-2.828Z",fill:"currentColor"}),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.832 47.168c2.93 2.93 7.693 4.747 15.168 4.747s12.237-1.817 15.168-4.747c2.93-2.93 4.747-7.693 4.747-15.168s-1.817-12.237-4.747-15.168c-2.93-2.93-7.693-4.747-15.168-4.747s-12.237 1.817-15.168 4.747c-2.93 2.93-4.747 7.693-4.747 15.168s1.817 12.237 4.747 15.168ZM8 32c0 16.15 7.85 24 24 24s24-7.85 24-24S48.15 8 32 8 8 15.85 8 32Z",fill:"currentColor"})),Ve=e=>C.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},C.createElement("path",{d:"M32 8C16.523 8 8 16.523 8 32s8.523 24 24 24 24-8.523 24-24S47.477 8 32 8Zm0 44c-13.271 0-20-6.729-20-20s6.729-20 20-20 20 6.729 20 20-6.729 20-20 20Z",fill:"currentColor"}),C.createElement("path",{d:"M32 22a1.857 1.857 0 0 0-2 2 2 2 0 0 0 4 0 1.857 1.857 0 0 0-2-2Zm-2 5.491V42h4V27.491a4.186 4.186 0 0 1-4 0Z",fill:"currentColor"})),$e=e=>C.createElement("svg",{viewBox:"0 0 64 64",fill:"none",...e},C.createElement("path",{d:"M32 41a2 2 0 1 0 2 2 1.857 1.857 0 0 0-2-2Zm-2-13v11.509a4.186 4.186 0 0 1 4 0V28h-4Z",fill:"currentColor"}),C.createElement("path",{d:"M32 9.008 6.531 53h50.938L32 9.008Zm0 7.983L50.531 49H13.469L32 16.991Z",fill:"currentColor"})),We=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M12 4c-5.159 0-8 2.841-8 8s2.841 8 8 8 8-2.841 8-8-2.841-8-8-8Zm0 14.5c-4.374 0-6.5-2.126-6.5-6.5 0-4.374 2.126-6.5 6.5-6.5 4.374 0 6.5 2.126 6.5 6.5 0 4.374-2.126 6.5-6.5 6.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),C.createElement("path",{d:"m11 13.44-1.97-1.97-1.06 1.06L11 15.56l5.03-5.03-1.06-1.06L11 13.44Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),He=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M5.5 11.5 10 16l8.25-8.25",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Ke=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"m5.25 9.25 6.5 6.25 6.5-6.25",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Je=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"m14.75 5.75-6.25 6.5 6.25 6.5",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Ye=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"m9.25 5.75 6.25 6.5-6.25 6.5",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Xe=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"m17.5 6.5-11 11m11 0-11-11",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:10,vectorEffect:"non-scaling-stroke"})),Ze=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5 4 7.5 8 10l-4 2.5L8 15l4-2.5 4 2.5 4-2.5-4-2.5 4-2.466L16 5l-4 2.5L8 5Zm4 2.5 4 2.5-4 2.5L8 10l4-2.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),C.createElement("path",{d:"m8 16.5 4-2.5 4 2.5-4 2.5-4-2.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),Qe=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M12 4c-5.159 0-8 2.841-8 8s2.841 8 8 8 8-2.841 8-8-2.841-8-8-8Zm0 14.5c-4.374 0-6.5-2.126-6.5-6.5 0-4.374 2.126-6.5 6.5-6.5 4.374 0 6.5 2.126 6.5 6.5 0 4.374-2.126 6.5-6.5 6.5Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),C.createElement("path",{d:"M14.475 8.465 12 10.94 9.525 8.465l-1.06 1.06L10.94 12l-2.475 2.475 1.06 1.06L12 13.06l2.475 2.476 1.06-1.061L13.06 12l2.476-2.475-1.061-1.06Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),et=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M11.75 4C6.535 4 4 6.535 4 11.75s2.535 7.75 7.75 7.75 7.75-2.535 7.75-7.75S16.965 4 11.75 4Zm0 14c-4.322 0-6.25-1.927-6.25-6.25 0-4.322 1.928-6.25 6.25-6.25 4.323 0 6.25 1.928 6.25 6.25 0 4.323-1.927 6.25-6.25 6.25Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),C.createElement("path",{d:"M11.75 8a.75.75 0 1 0 .75.75.71.71 0 0 0-.75-.75ZM11 10.405V15.5h1.5v-5.095a3.01 3.01 0 0 1-1.5 0Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),tt=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M12 10a1.857 1.857 0 0 0-2 2 1.857 1.857 0 0 0 2 2 1.857 1.857 0 0 0 2-2 1.857 1.857 0 0 0-2-2Zm0 6a1.858 1.858 0 0 0-2 2 1.857 1.857 0 0 0 2 2 1.857 1.857 0 0 0 2-2 1.857 1.857 0 0 0-2-2Zm0-8a1.857 1.857 0 0 0 2-2 1.856 1.856 0 0 0-2-2 1.857 1.857 0 0 0-2 2 1.857 1.857 0 0 0 2 2Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"})),nt=e=>C.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},C.createElement("path",{d:"M11.5 10.5v3.595a3.01 3.01 0 0 1 1.5 0V10.5h-1.5Zm.75 4.5a.75.75 0 1 0 .75.75.711.711 0 0 0-.75-.75Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.933 19.5 12.25 3.78l9.317 15.72H2.933Zm16-1.5L12.25 6.722 5.566 18h13.367Z",fill:"currentColor",vectorEffect:"non-scaling-stroke"}));var rt,it;function st(e){var t=function(t){return C.createElement(h.Context.Consumer,null,(function(n){h.invariantIntlContext(n);var r=t.value,i=t.children,s=h.__rest(t,["value","children"]),o="string"==typeof r?new Date(r||0):r;return i("formatDate"===e?n.formatDateToParts(o,s):n.formatTimeToParts(o,s))}))};return t.displayName=it[e],t}function ot(e){var t=function(t){return C.createElement(h.Context.Consumer,null,(function(n){h.invariantIntlContext(n);var r=t.value,i=t.children,s=h.__rest(t,["value","children"]),o=n[e](r,s);if("function"==typeof i)return i(o);var a=n.textComponent||C.Fragment;return C.createElement(a,null,o)}))};return t.displayName=rt[e],t}!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(rt||(rt={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(it||(it={})),ot("formatDate"),ot("formatTime"),ot("formatNumber"),ot("formatList"),ot("formatDisplayName"),st("formatDate"),st("formatTime");const at=()=>h.intl.formatMessage({id:"zd0szP",defaultMessage:"You must confirm your email address to save your preferences. We will send you an email from no-reply@dropbox.com. Open the email and click Confirm Email Address to complete your preference submission."}),ct=h.intl.formatMessage({id:"oQWTes",defaultMessage:"Please Confirm Email:"}),lt=h.intl.formatMessage({id:"D09GlF",defaultMessage:"Resend"}),dt=e=>{const{emails:t}=e;return C.default.createElement("p",{className:"email-confirm-msg"},ct," ",t," ",C.default.createElement("button",{id:"email-resend",className:"email-resend",onClick:e=>Ie(t,ut)},lt),"?")};dt.displayName="EmailConfirmMessage";const ut=e=>{e?m.Notify.success(h.intl.formatMessage({id:"b+akES",defaultMessage:"Success! Email will be sent shortly."})):m.Notify.error(h.intl.formatMessage({id:"6w278K",defaultMessage:"Something went wrong! Try again later."}))},pt=e=>{const{enrollmentState:t,userEmails:n,verifiedEmails:r,unverifiedEmails:i}=e,s=!U(t),o=new Set([...n||[],...r||[],...i||[]]),a=Array.from(o).join(", ");let c;return s||(c=null==i?void 0:i.join(", ")),C.default.createElement("div",null,a&&C.default.createElement("div",null,C.default.createElement("p",{className:"settings-saved-text"},(e=>{const t=h.intl.formatMessage({id:"bnEYxL",defaultMessage:"Settings are saved for the following accounts:"}),n=h.intl.formatMessage({id:"OibIHY",defaultMessage:"Settings will be saved for the following accounts:"});return e?t:n})(!s)),C.default.createElement("div",{className:"dns-emails"},a)),c&&t!==x.CrossOriginEnrolled&&C.default.createElement("div",{className:"unverified-emails"},C.default.createElement(je,{src:nt}),C.default.createElement("span",null,ct," ",C.default.createElement("span",{className:"weight-500"},c)," ",C.default.createElement("button",{id:"email-resend",className:"email-resend",onClick:e=>Ie(i,ut)},lt))),P(t)&&C.default.createElement("p",{className:"email-verification-text"},at()))};pt.displayName="EnrollmentDetails";const mt=e=>{const{email:t,handleEmailChange:n,enrollmentState:r}=e,i=h.intl.formatMessage({id:"XtxsF7",defaultMessage:"Settings are saved for"}),s=!U(r);return C.default.createElement("div",null,C.default.createElement("label",{className:"dns-email-label",htmlFor:"dns-email"},i),C.default.createElement("input",{type:"text",id:"dns-email",name:"dns-email",className:"dns-email",value:t,onChange:e=>{n(e.target.value)},placeholder:"example@dropbox.com"}),s&&C.default.createElement("p",{className:"email-verification-text"},at()))};mt.displayName="EmailInputForm";const ht=e=>{const{enrollmentState:t,userEmails:n,verifiedEmails:r,unverifiedEmails:i,email:s,handleEmailChange:o}=e;return t===x.EnrolledAccount||t===x.EnrolledEmail||t===x.EnrollmentPendingAccountVerificationSent||t===x.EnrollmentPendingAccountConfirmation||t===x.EnrollmentPendingAccountUIConfirmation||t===x.UnenrollmentPendingAccountUIConfirmation||t===x.UnenrollmentPendingEmailUIConfirmation?C.default.createElement(pt,{userEmails:n,verifiedEmails:r,unverifiedEmails:i,enrollmentState:t}):t===x.EnrollmentPendingEmailVerificationSent||t===x.EnrollmentPendingEmailUIConfirmation?C.default.createElement(mt,{enrollmentState:t,email:s,handleEmailChange:o}):t===x.EnrollmentPendingEmailConfirmation?C.default.createElement(dt,{emails:i}):null};ht.displayName="DNSForm";const ft={vis2020:{baseSelector:":root, .dig-Theme",baseClassName:"dig-Theme",modes:{bright:{selector:":root, .dig-Theme--bright",className:"dig-Theme--bright",classList:"dig-Theme dig-Theme--bright dig-Mode--bright",genericModeClassName:"dig-Mode--bright",genericModeSelector:".dig-Mode--bright"},dark:{selector:".dig-Theme--dark",className:"dig-Theme--dark",classList:"dig-Theme dig-Theme--dark dig-Mode--dark",genericModeClassName:"dig-Mode--dark",genericModeSelector:".dig-Mode--dark"}}},vis2023:{baseSelector:".dig-Theme-vis2023",baseClassName:"dig-Theme-vis2023",modes:{bright:{selector:".dig-Theme-vis2023--bright",className:"dig-Theme-vis2023--bright",classList:"dig-Theme-vis2023 dig-Theme-vis2023--bright dig-Mode--bright",genericModeClassName:"dig-Mode--bright",genericModeSelector:".dig-Mode--bright"},dark:{selector:".dig-Theme-vis2023--dark",className:"dig-Theme-vis2023--dark",classList:"dig-Theme-vis2023 dig-Theme-vis2023--dark dig-Mode--dark",genericModeClassName:"dig-Mode--dark",genericModeSelector:".dig-Mode--dark"}}}},gt=C.createContext({mode:null,theme:null}),_t="vis2020",vt=e=>{const{theme:t,mode:n,isInverse:r,additionalClass:i}=e,s=r?bt(n):n;return Ue(ft[t].modes[s].classList,"In-Theme-Provider",i,{"dig-Theme--cancel-inverse":r})},bt=e=>"bright"===e?"dark":"bright",Et=[ft.vis2020.modes.dark.selector,".dig-Mode--dark"],wt=()=>{if("undefined"==typeof document)return"bright";return document.documentElement.matches(Et.join(","))?"dark":"bright"},yt=()=>{if("undefined"==typeof document)return _t;return document.documentElement.classList.contains(ft.vis2023.baseClassName)?"vis2023":"vis2020"},St=()=>{const{theme:e,mode:t,additionalClass:n}=C.useContext(gt),r=!(!e||!t),{globalTheme:i,globalMode:s}=((e=!0)=>{const[t,n]=C.useState(wt()),[r,i]=C.useState(yt());return C.useEffect((()=>{function s(){t!==wt()&&n(wt()),r!==yt()&&i(yt())}if(e){const e=new MutationObserver(s);return e.observe(document.documentElement,{attributes:!0}),s(),()=>{e.disconnect()}}}),[t,r,e]),{globalMode:t,globalTheme:r}})(!r),o=e||i||_t,a=t||s,c=vt({theme:o,mode:a,additionalClass:n}),l=vt({theme:o,mode:a,isInverse:!0,additionalClass:n});return C.useMemo((()=>(({theme:e,mode:t,className:n,inverseClassName:r,styles:i,inverseStyles:s})=>({mode:t,theme:e,getThemeProps:e=>({...e,className:Ue(e&&e.className,n),...((null==e?void 0:e.style)||i)&&{style:{...null==e?void 0:e.style,...i}}}),getInverseProps:e=>({...e,className:Ue(e&&e.className,r),...((null==e?void 0:e.style)||s)&&{style:{...null==e?void 0:e.style,...s}}})}))({theme:o,mode:a,className:c,inverseClassName:l})),[o,a,c,l])};C.forwardRef((({children:e,className:t,href:n,onClick:r,inverse:i=!1,hasNoUnderline:s=!1,isBold:o=!1,variant:a="primary",...c},l)=>{const d=St().getInverseProps().className,u=Ue("dig-Link",t,{"dig-Link--primary":"primary"===a&&!i,"dig-Link--hasNoUnderline":s,"dig-Link--isBold":o,[d]:i}),p={onClick:r};switch(typeof n){case"string":p.href=n;break;case"function":p.href="#",p.onClick=e=>{e.preventDefault(),n(e),r&&r(e)}}return C.createElement("a",{className:u,ref:l,...p,...c},e)})).displayName="Link";var Tt=[["medium","standard"]],xt=e=>{const t=Tt.find((([t,n])=>e===t));return void 0!==t?t[1]:e},Ct=C.forwardRef((({variant:e="paragraph",tagName:t="span",children:n,className:r,color:i="standard",size:s="standard",isBold:o=!1,inverse:a=!1,monospace:c=!1,_withoutLineHeight:l,_withoutWrap:d,...u},p)=>{const m=(e=>{const t=Tt.find((([t,n])=>e===n));return void 0!==t?t[0]:e})(s),h=St().getInverseProps().className,f=Ue("dig-Text",`dig-Text--variant-${e}`,`dig-Text--size-${xt(m)}`,`dig-Text--color-${i}`,{[h]:a,"dig-Text--isBold":o,"dig-Text--withoutLineheight":l,"dig-Text--withoutWrap":d,"dig-Text--monospace":c},r);return C.createElement(t,{ref:p,className:f,...u},n)}));Ct.displayName="Text";var Nt=({tagName:e="h2",children:t,className:n,color:r="standard",size:i="standard",isBold:s=!1,inverse:o=!1,weightVariant:a="normal",...c})=>{const l=St().getInverseProps().className,d=Ue("dig-Title",`dig-Title--size-${xt(i)}`,`dig-Title--color-${r}`,{"dig-Title--isBold":s,"dig-Title--isEmphasized":"emphasized"===a,[l]:o},n);return C.createElement(e,{className:d,...c},t)};Nt.displayName="Title";var kt;p.commonjsGlobal,kt=function(){function e(e){var t=!0,n=!1,r=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function a(e){t=!1}function c(){document.addEventListener("mousemove",l),document.addEventListener("mousedown",l),document.addEventListener("mouseup",l),document.addEventListener("pointermove",l),document.addEventListener("pointerdown",l),document.addEventListener("pointerup",l),document.addEventListener("touchmove",l),document.addEventListener("touchstart",l),document.addEventListener("touchend",l)}function l(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",l),document.removeEventListener("mousedown",l),document.removeEventListener("mouseup",l),document.removeEventListener("pointermove",l),document.removeEventListener("pointerdown",l),document.removeEventListener("pointerup",l),document.removeEventListener("touchmove",l),document.removeEventListener("touchstart",l),document.removeEventListener("touchend",l))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(s(e.activeElement)&&o(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",(function(e){"hidden"==document.visibilityState&&(n&&(t=!0),c())}),!0),c(),e.addEventListener("focus",(function(e){var n,r,a;s(e.target)&&(t||(n=e.target,r=n.type,"INPUT"==(a=n.tagName)&&i[r]&&!n.readOnly||"TEXTAREA"==a&&!n.readOnly||n.isContentEditable))&&o(e.target)}),!0),e.addEventListener("blur",(function(e){var t;s(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1,window.clearTimeout(r)}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&document.documentElement.classList.add("js-focus-visible")}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)},kt();function Ot(e,t){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ot(e,t)}var It={exports:{}},At="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rt=At;function Lt(){}function Dt(){}Dt.resetWarningCache=Lt;var Mt=function(){function e(e,t,n,r,i,s){if(s!==Rt){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Dt,resetWarningCache:Lt};return n.PropTypes=n,n},Pt=h.reactIsExports;It.exports=Mt(Pt.isElement);It.exports;var Ut=!1,Ft=C.default.createContext(null),Bt="unmounted",jt="exited",zt="entering",Gt="entered",qt="exiting",Vt=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=jt,r.appearStatus=zt):i=Gt:i=t.unmountOnExit||t.mountOnEnter?Bt:jt,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ot(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Bt?{status:jt}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==zt&&n!==Gt&&(t=zt):n!==zt&&n!==Gt||(t=qt)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=N.default.findDOMNode(this);t===zt?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===jt&&this.setState({status:Bt})},i.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,s=this.getTimeouts(),o=i?s.appear:s.enter;!t&&!r||Ut?this.safeSetState({status:Gt},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,i),this.safeSetState({status:zt},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:Gt},(function(){n.props.onEntered(e,i)}))}))})))},i.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!Ut?(this.props.onExit(e),this.safeSetState({status:qt},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:jt},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:jt},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Bt)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return C.default.createElement(Ft.Provider,{value:null},n(e,r));var i=C.default.Children.only(n);return C.default.createElement(Ft.Provider,{value:null},C.default.cloneElement(i,r))},r}(C.default.Component);function $t(){}Vt.contextType=Ft,Vt.propTypes={},Vt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$t,onEntering:$t,onEntered:$t,onExit:$t,onExiting:$t,onExited:$t},Vt.UNMOUNTED=0,Vt.EXITED=1,Vt.ENTERING=2,Vt.ENTERED=3,Vt.EXITING=4;var Wt,Ht=Vt,Kt=[["medium","standard"]],Jt=e=>{const t=Kt.find((([t,n])=>e===t));return void 0!==t?t[1]:e},Yt=()=>C.createElement("svg",{className:"dig-Spinner--track",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false","data-testid":"digSpinnerTrack"},C.createElement("rect",{fill:"none",strokeLinecap:"square",strokeWidth:"6",x:"3",y:"3",width:"18",height:"18"})),Xt=({"aria-valuetext":e,className:t,withTrack:n=!0,inverse:r,size:i="medium",monochromatic:s=!1,hasOpaqueTrack:o=!1,...a})=>{const c=(e=>{const t=Kt.find((([t,n])=>e===n));return void 0!==t?t[0]:e})(i),l=St().getInverseProps().className;return C.createElement("div",{role:"progressbar","aria-valuetext":e,className:Ue("dig-Spinner",t,`dig-Spinner--${Jt(c)}`,{[l]:r,"dig-Spinner--monochromatic":s,"dig-Spinner--hasOpaqueTrack":o}),...a},C.createElement("div",{className:"dig-Spinner-content"},n&&C.createElement(Yt,null),C.createElement("div",{className:"dig-Spinner-dot dig-Spinner-dot--one"}),C.createElement("div",{className:"dig-Spinner-dot dig-Spinner-dot--two"})))},Zt=[],Qt="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Wt||(Wt={}));var en,tn=function(e){return Object.freeze(e)},nn=function(e,t){this.inlineSize=e,this.blockSize=t,tn(this)},rn=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,tn(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),sn=function(e){return e instanceof SVGElement&&"getBBox"in e},on=function(e){if(sn(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,s=i.offsetWidth,o=i.offsetHeight;return!(s||o||e.getClientRects().length)},an=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},cn="undefined"!=typeof window?window:{},ln=new WeakMap,dn=/auto|scroll/,un=/^tb|vertical/,pn=/msie|trident/i.test(cn.navigator&&cn.navigator.userAgent),mn=function(e){return parseFloat(e||"0")},hn=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new nn((n?t:e)||0,(n?e:t)||0)},fn=tn({devicePixelContentBoxSize:hn(),borderBoxSize:hn(),contentBoxSize:hn(),contentRect:new rn(0,0,0,0)}),gn=function(e,t){if(void 0===t&&(t=!1),ln.has(e)&&!t)return ln.get(e);if(on(e))return ln.set(e,fn),fn;var n=getComputedStyle(e),r=sn(e)&&e.ownerSVGElement&&e.getBBox(),i=!pn&&"border-box"===n.boxSizing,s=un.test(n.writingMode||""),o=!r&&dn.test(n.overflowY||""),a=!r&&dn.test(n.overflowX||""),c=r?0:mn(n.paddingTop),l=r?0:mn(n.paddingRight),d=r?0:mn(n.paddingBottom),u=r?0:mn(n.paddingLeft),p=r?0:mn(n.borderTopWidth),m=r?0:mn(n.borderRightWidth),h=r?0:mn(n.borderBottomWidth),f=u+l,g=c+d,_=(r?0:mn(n.borderLeftWidth))+m,v=p+h,b=a?e.offsetHeight-v-e.clientHeight:0,E=o?e.offsetWidth-_-e.clientWidth:0,w=i?f+_:0,y=i?g+v:0,S=r?r.width:mn(n.width)-w-E,T=r?r.height:mn(n.height)-y-b,x=S+f+E+_,C=T+g+b+v,N=tn({devicePixelContentBoxSize:hn(Math.round(S*devicePixelRatio),Math.round(T*devicePixelRatio),s),borderBoxSize:hn(x,C,s),contentBoxSize:hn(S,T,s),contentRect:new rn(u,c,S,T)});return ln.set(e,N),N},_n=function(e,t,n){var r=gn(e,n),i=r.borderBoxSize,s=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case Wt.DEVICE_PIXEL_CONTENT_BOX:return o;case Wt.BORDER_BOX:return i;default:return s}},vn=function(e){var t=gn(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=tn([t.borderBoxSize]),this.contentBoxSize=tn([t.contentBoxSize]),this.devicePixelContentBoxSize=tn([t.devicePixelContentBoxSize])},bn=function(e){if(on(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},En=function(){var e=1/0,t=[];Zt.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new vn(t.target),i=bn(t.target);r.push(n),t.lastReportedSize=_n(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},wn=function(e){Zt.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(bn(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},yn=function(){var e,t=0;for(wn(t);Zt.some((function(e){return e.activeTargets.length>0}));)t=En(),wn(t);return Zt.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Qt}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Qt),window.dispatchEvent(e)),t>0},Sn=[],Tn=function(e){if(!en){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Sn.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),en=function(){n.textContent=""+(t?t--:t++)}}Sn.push(e),en()},xn=0,Cn={attributes:!0,characterData:!0,childList:!0,subtree:!0},Nn=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],kn=function(e){return void 0===e&&(e=0),Date.now()+e},On=!1,In=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!On){On=!0;var n,r=kn(e);n=function(){var n=!1;try{n=yn()}finally{if(On=!1,e=r-kn(),!xn)return;n?t.run(1e3):e>0?t.run(e):t.start()}},Tn((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Cn)};document.body?t():cn.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Nn.forEach((function(t){return cn.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Nn.forEach((function(t){return cn.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),An=function(e){!xn&&e>0&&In.start(),!(xn+=e)&&In.stop()},Rn=function(){function e(e,t){this.target=e,this.observedBox=t||Wt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=_n(this.target,this.observedBox,!0);return e=this.target,sn(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Ln=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Dn=new WeakMap,Mn=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Pn=function(){function e(){}return e.connect=function(e,t){var n=new Ln(e,t);Dn.set(e,n)},e.observe=function(e,t,n){var r=Dn.get(e),i=0===r.observationTargets.length;Mn(r.observationTargets,t)<0&&(i&&Zt.push(r),r.observationTargets.push(new Rn(t,n&&n.box)),An(1),In.schedule())},e.unobserve=function(e,t){var n=Dn.get(e),r=Mn(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&Zt.splice(Zt.indexOf(n),1),n.observationTargets.splice(r,1),An(-1))},e.disconnect=function(e){var t=this,n=Dn.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Un=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Pn.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!an(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Pn.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!an(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Pn.unobserve(this,e)},e.prototype.disconnect=function(){Pn.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Fn="undefined"!=typeof window&&"undefined"!=typeof navigator&&"undefined"!=typeof document?n.useLayoutEffect:n.useEffect,Bn=e=>`${e}:not([tabindex="-1"])`,jn=" ",zn="ArrowUp",Gn="ArrowDown",qn=-2,Vn=e=>Array.prototype.concat.apply([],[["button",'[role="button"]','[role="link"]',"[href]"].map(Bn),["select","textarea",'[role="textbox"]'].map(Bn),e,['[tabindex]:not([tabindex="-1"])']]).join(","),$n=(e,t)=>void 0!==e[1].index&&void 0!==t[1].index?e[1].index-t[1].index:-1,Wn=(e,t)=>{let n;switch(t.type){case"UPDATE_ROW":const r=new Map(e.menuRows);r.set(t.payload.key,t.payload.value),n=void 0!==t.payload.value.index?{menuRows:new Map(Array.from(r.entries()).sort($n))}:{menuRows:r};break;case"REMOVE_ROW":const i=new Map(e.menuRows);i.delete(t.payload.key),n={menuRows:i};break;case"SET_SELECTED_INDEX":n={selectedIndex:t.payload.index};break;case"SET_FOCUS_INDEX":n={focusIndex:t.payload.index}}return{...e,...n}},Hn={menuRows:new Map,selectedIndex:qn,focusIndex:qn},Kn=()=>({items:new Map,selectedIndex:qn,setSelectedIndex:()=>!1,addRow:()=>!1,removeRow:()=>!1,updateRow:()=>!1,shouldFocusDisabledRows:!0,focusIndex:qn,setFocusIndex:()=>!1}),Jn=(e,t,n=!1)=>{let r=qn,i=!1;const s=Array.from(e.keys());for(let o=s.length-1;o>=0;o--){const a=s[o];if(i){if(e.has(a)&&e.get(a).focusable){r=o;break}}else if(o===t&&(i=!0,n))return e.get(a).focusable?o:Yn(e,o-1,!0)}return r},Yn=(e,t,n=!1)=>{let r=qn,i=!1;const s=Array.from(e.keys());for(let o=0;o<s.length;o++){const a=s[o];if(i){if(e.has(a)&&e.get(a).focusable){r=o;break}}else if(o===t&&(i=!0,n))return e.get(a).focusable?o:Yn(e,o+1,!0)}return r},Xn=(e,t)=>{if(t<e.size){return-1===t?e.size-1:t}return t},Zn=(e,t)=>{let n=Jn(e,t);return n===qn&&(n=Jn(e,e.size-1,!0)),Xn(e,n)},Qn=(e,t)=>{let n=Yn(e,t);return n===qn&&(n=Yn(e,0,!0)),Xn(e,n)},er=(e,t,n,r=n,i=!1)=>{let s=qn;const o=t.toLowerCase(),a=Array.from(e.values());for(let e=r;e<a.length;e++)if(a[e].focusable&&a[e].textContent.toLowerCase().startsWith(o)){if(i)return e;if(e!==r){s=e;break}}if(s===qn){if(i)return n;s=er(e,t,n,0,!0)}return Xn(e,s)},tr=(e,t)=>e.has(t),nr=(e,t)=>{const n=()=>{e.current&&"focus"in e.current&&e.current.focus({preventScroll:!0})};"number"==typeof t?setTimeout((()=>{n()}),t):n()},rr=(e,t,n=0)=>{setTimeout((()=>{(()=>{const n=Xn(e,t),r=Array.from(e.keys())[n];r&&"focus"in r&&r.focus()})()}),n)},ir=e=>!!e&&"A"===e.tagName,sr=(e,t)=>{const n=C.useRef(!1);C.useEffect((()=>{n.current?e():n.current=!0}),t)},or={open:!1,value:"",performCloseMenu:!1,triggeredByKey:!1,shouldTriggerClick:!0,autoFocusItem:qn,isFocusing:!1};function ar(e,t){let n;switch(t.type){case"OPEN":n={open:t.payload.open};break;case"CLOSE":n={open:!1,shouldTriggerClick:!0,value:void 0};break;case"DEFER_CLOSE":n={performCloseMenu:t.payload.performCloseMenu};break;case"RESET_DEFER_CLOSE_MENU":n={performCloseMenu:!1};break;case"SET_VALUE":n={value:t.payload.value};break;case"SET_SHOULD_TRIGGER_CLICK":n={shouldTriggerClick:t.payload.value};break;case"RESET_SHOULD_TRIGGER_CLICK":n={shouldTriggerClick:!0};break;case"SET_TRIGGERED_BY_KEY":n={triggeredByKey:t.payload.value};break;case"RESET_TRIGGERED_BY_KEY":n={triggeredByKey:!1};break;case"AUTOFOCUS_ITEM":n={autoFocusItem:t.payload.index};break;case"RESET_AUTOFOCUS_ITEM":n={autoFocusItem:qn};break;case"SET_IS_FOCUSING":n={isFocusing:t.payload.isFocusing}}return{...e,...n}}var cr=({triggerRef:e,contentRef:t,onSelection:n,onToggle:r,closeOnSelection:i,shouldFocusDisabledRows:s=!0,allowLetterNavigation:o=!0,allowSpaceBarToOpenMenu:a=!0,focusNextItemImmediately:c=!0,focusMenuRowTriggerKey:l="Tab",interactiveRowSelectors:d,delayFocus:u,shouldHighlightFirstRow:p})=>{const[m,h]=C.useReducer(ar,or),f=((e={})=>{const{shouldFocusDisabledRows:t=!0}=e,[n,r]=C.useReducer(Wn,Hn),i=({disabled:e,focusable:t,ref:n,index:i,itemValue:s})=>{n&&r({type:"UPDATE_ROW",payload:{key:n,value:{textContent:n.textContent||"",disabled:e||!1,focusable:t||!1,index:i,itemValue:s}}})},s=i;return{selectedIndex:n.selectedIndex,setSelectedIndex:e=>{r({type:"SET_SELECTED_INDEX",payload:{index:e}})},items:n.menuRows,addRow:s,removeRow:e=>{e&&r({type:"REMOVE_ROW",payload:{key:e}})},updateRow:i,shouldFocusDisabledRows:t,focusIndex:n.focusIndex,setFocusIndex:e=>{r({type:"SET_FOCUS_INDEX",payload:{index:e}})}}})({shouldFocusDisabledRows:s}),g=({autoFocus:e=!0,index:t=0})=>{h({type:"OPEN",payload:{open:{autoFocus:e,index:t}}})},_=C.useCallback((({autoFocus:e=!1,ref:t})=>{h({type:"CLOSE"}),e&&t&&nr(t,u)}),[u]),v=t=>{const n=t&&t.autoFocus;m.open?_({autoFocus:n,ref:e}):g({autoFocus:n})},b=(t,r,s=!1)=>{if(!((e,t)=>{let n=!1;return e.forEach(((e,r)=>{r===t&&(n=e.disabled)})),n})(f.items,r.target)&&(n&&n(t,r),i&&!s)){const t=(e=>{switch(e.type){case"keydown":case"keypress":case"keyup":return!0;default:return!1}})(r);h({type:"DEFER_CLOSE",payload:{performCloseMenu:{autoFocus:t,ref:e}}})}};sr((()=>{m.performCloseMenu&&(_(m.performCloseMenu),h({type:"RESET_DEFER_CLOSE_MENU"}))}),[m.performCloseMenu]),sr((()=>{if(m.open){if(m.open.autoFocus)h({type:"AUTOFOCUS_ITEM",payload:{index:m.open.index}});else{const e=()=>{t.current&&(t.current.focus({preventScroll:!0}),f.setSelectedIndex(qn),f.setFocusIndex(qn))};"number"==typeof u?setTimeout((()=>{e()}),u):e()}r&&r({isOpen:Boolean(m.open)})}else r&&r({isOpen:Boolean(m.open)})}),[m.open]);const E=C.useCallback((()=>{nr(e)}),[e]);return sr((()=>{m.autoFocusItem!==qn&&(rr(f.items,m.autoFocusItem,u),f.setSelectedIndex(m.autoFocusItem),f.setFocusIndex(m.autoFocusItem),h({type:"RESET_AUTOFOCUS_ITEM"}))}),[m.autoFocusItem]),{isOpen:m.open,openMenu:g,closeMenu:_,toggleMenu:v,value:m.value,setSelected:b,setFocused:(e,t)=>{h({type:"SET_VALUE",payload:{value:e}}),h({type:"SET_IS_FOCUSING",payload:{isFocusing:!1}}),t&&f.setFocusIndex(t)},setSyntheticFocus:()=>{h({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}}),setTimeout((()=>{h({type:"SET_IS_FOCUSING",payload:{isFocusing:!1}})}),0)},getRootProps:(n={})=>{const{onKeyDown:r,onKeyUp:i,...s}=n;return{onKeyDown:n=>{(n=>{if(!m.open)return;const r=n.target;let i=o;switch(n.key){case"Tab":if(!t||!t.current)return;const o=t.current.querySelectorAll(Vn(d));if(tr(f.items,r)&&o.length<=f.items.size)return n.preventDefault(),void _({autoFocus:!0,ref:e});i=!1,n.shiftKey?(0===o.length&&_({autoFocus:!0,ref:e}),document&&document.activeElement===o[0]&&(n.preventDefault(),_({autoFocus:!0,ref:e}))):(0===o.length&&_({autoFocus:!0,ref:e}),document&&-1!==Array.from(o).indexOf(document.activeElement)&&(n.preventDefault(),_({autoFocus:!0,ref:e})));break;case"Escape":i=!1,n.preventDefault(),_({autoFocus:!0,ref:e});break;case Gn:i=!1,n.preventDefault(),n.stopPropagation(),h({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}});const a=()=>{const e=f.selectedIndex===qn?Xn(f.items,0):Qn(f.items,f.selectedIndex);rr(f.items,e),f.setSelectedIndex(e),f.setFocusIndex(e)};c?a():setTimeout((()=>{a()}),0);break;case zn:i=!1,n.preventDefault(),n.stopPropagation(),h({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}});const l=()=>{const e=f.selectedIndex===qn?Xn(f.items,-1):Zn(f.items,f.selectedIndex);rr(f.items,e),f.setSelectedIndex(e),f.setFocusIndex(e)};c?l():setTimeout((()=>{l()}),0);break;case"ArrowLeft":case"ArrowRight":tr(f.items,r)&&(i=!1,n.preventDefault(),n.stopPropagation());break;case jn:i=!1,tr(f.items,r)&&(n.preventDefault(),n.stopPropagation());break;case"Enter":if(i=!1,tr(f.items,r)){if(ir(r)||(s=r)&&"BUTTON"===s.tagName||n.preventDefault(),n.stopPropagation(),ir(r))return;b(m.value,n)}else p&&f.items.values().next().value&&"object"==typeof f.items.values().next().value&&b(f.items.values().next().value.itemValue,n)}var s;if(i){const e=er(f.items,n.key,Math.max(f.selectedIndex,0));rr(f.items,e),f.setSelectedIndex(e),f.setFocusIndex(e)}})(n),r&&r(n)},onKeyUp:e=>{(e=>{if(!m.open)return;const t=e.target;if(e.key===jn&&tr(f.items,t)){if(ir(t))return void window.open(t.href,t.target||"_self");e.preventDefault(),b(m.value,e)}})(e),i&&i(e)},...s}},getTriggerProps:(n={})=>{const{onMouseDown:r,onClick:i,onKeyDown:s,onKeyUp:o,...c}=n;return{ref:e,"aria-haspopup":!0,"aria-expanded":Boolean(m.open),onMouseDown:e=>{h({type:"RESET_TRIGGERED_BY_KEY"}),r&&r(e)},onClick:e=>{if(!m.shouldTriggerClick)return!1;const t=!!m.triggeredByKey;v({autoFocus:t}),h({type:"RESET_TRIGGERED_BY_KEY"}),h({type:"RESET_SHOULD_TRIGGER_CLICK"}),i&&i(e)},onKeyDown:e=>{h({type:"SET_TRIGGERED_BY_KEY",payload:{value:!0}}),(e=>{if(m.open){if(t&&t.current&&e.key===l){const e=t.current.querySelector(Vn(d));e&&(h({type:"SET_IS_FOCUSING",payload:{isFocusing:!0}}),setTimeout((()=>{e&&e.focus()}),0))}}else switch(e.key){case Gn:e.preventDefault(),g({index:0});break;case zn:e.preventDefault(),g({index:-1});break;case jn:a&&e.preventDefault()}})(e),s&&s(e)},onKeyUp:e=>{(e=>{a&&e.key===jn&&(h({type:"SET_SHOULD_TRIGGER_CLICK",payload:{value:!1}}),g({autoFocus:!0}))})(e),o&&o(e)},...c}},getContentProps:(e={})=>({role:"menu",tabIndex:e.tabIndex||-1,...e}),menuRows:f,focusTrigger:E,isFocusing:m.isFocusing}},lr=({interactive:e,disabled:t,ref:n,role:r="menuitem",index:i,itemValue:s},o)=>{const a=!t||o.shouldFocusDisabledRows;return C.useEffect((()=>{if(!e)return;const r=n.current;return o.addRow({disabled:t,focusable:a,ref:r,index:i,itemValue:s}),()=>{o.removeRow(r)}}),[]),C.useEffect((()=>{e&&o.updateRow({disabled:t,focusable:a,ref:n.current,index:i,itemValue:s})}),[t]),{getItemProps:(e={})=>{const{tabIndex:n=-1,...i}=e;return{role:r,tabIndex:n,"aria-disabled":t,...i}}}},dr={};function ur(e,t){let n;switch(t.type){case"CLOSE":n={activeSubmenu:void 0};break;case"REGISTER":n={activeSubmenu:t.payload.activeSubmenu}}return{...e,...n}}"ResizeObserver"in globalThis==0&&(globalThis.ResizeObserver=Un);parseInt("0",10),parseInt("600",10),parseInt("1024",10),parseInt("1600",10),parseInt("1920",10);var pr=e=>e&&e.scrollTop,mr={enter:"cubic-bezier(0, 0.6, 0, 1)",leave:"cubic-bezier(1, 0, 1, 0.5)",transition:"cubic-bezier(0.66, 0, 0, 1)"},hr=e=>{const t=e.filter((({property:e})=>"opacity"===e));return t.length>0?t[t.length-1].value:1},fr=e=>{const t=[0,0];return e.filter((({property:e})=>"up"===e||"down"===e||"left"===e||"right"===e)).forEach((({property:e,value:n})=>{"up"===e?t[1]+=-1*n:"down"===e?t[1]+=n:"left"===e?t[0]+=-1*n:"right"===e&&(t[0]+=n)})),`${t[0]}px, ${t[1]}px`},gr=({children:e,style:t,transitionIn:n,transitionOut:r,onEnter:i,...s})=>{const o={enter:n.duration,exit:r.duration},a={entering:{transitionDuration:`${n.duration}ms`,opacity:hr(n.transitions),transform:`translate(${fr(n.transitions)})`},entered:{opacity:hr(n.transitions),transform:`translate(${fr(n.transitions)})`},exiting:{transitionDuration:`${r.duration}ms`,opacity:hr(r.transitions),transform:`translate(${fr(r.transitions)})`},exited:{opacity:hr(r.transitions),transform:`translate(${fr(r.transitions)})`}},c={entering:mr[n.easing],entered:mr[n.easing],exiting:mr[r.easing],exited:mr[r.easing]},l="function"==typeof i?(e,t)=>{pr(e),i(e,t)}:pr;return C.createElement(Ht,{timeout:o,...s,onEnter:l},(n=>e({state:n,style:{...t,transitionDuration:a[n].transitionDuration,transitionTimingFunction:c[n],...a[n]}})))};const _r=Math.min,vr=Math.max,br={left:"right",right:"left",bottom:"top",top:"bottom"},Er={start:"end",end:"start"};function wr(e,t,n){return vr(e,_r(t,n))}function yr(e,t){return"function"==typeof e?e(t):e}function Sr(e){return e.split("-")[0]}function Tr(e){return e.split("-")[1]}function xr(e){return"x"===e?"y":"x"}function Cr(e){return"y"===e?"height":"width"}function Nr(e){return["top","bottom"].includes(Sr(e))?"y":"x"}function kr(e){return xr(Nr(e))}function Or(e){return e.replace(/start|end/g,(e=>Er[e]))}function Ir(e){return e.replace(/left|right|bottom|top/g,(e=>br[e]))}function Ar(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Rr(e,t,n){let{reference:r,floating:i}=e;const s=Nr(t),o=kr(t),a=Cr(o),c=Sr(t),l="y"===s,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(Tr(t)){case"start":m[o]-=p*(n&&l?-1:1);break;case"end":m[o]+=p*(n&&l?-1:1)}return m}async function Lr(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:m=0}=yr(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(m),f=a[p?"floating"===u?"reference":"floating":u],g=Ar(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),_="floating"===u?{...o.floating,x:r,y:i}:o.reference,v=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),b=await(null==s.isElement?void 0:s.isElement(v))&&await(null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},E=Ar(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:v,strategy:c}):_);return{top:(g.top-E.top+h.top)/b.y,bottom:(E.bottom-g.bottom+h.bottom)/b.y,left:(g.left-E.left+h.left)/b.x,right:(E.right-g.right+h.right)/b.x}}const Dr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:c}=t,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...f}=yr(e,t),g=Sr(r),_=Sr(o)===o,v=await(null==a.isRTL?void 0:a.isRTL(c.floating)),b=u||(_||!h?[Ir(o)]:function(e){const t=Ir(e);return[Or(e),t,Or(t)]}(o));u||"none"===m||b.push(...function(e,t,n,r){const i=Tr(e);let s=function(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}(Sr(e),"start"===n,r);return i&&(s=s.map((e=>e+"-"+i)),t&&(s=s.concat(s.map(Or)))),s}(o,h,m,v));const E=[o,...b],w=await Lr(t,f),y=[];let S=(null==(n=i.flip)?void 0:n.overflows)||[];if(l&&y.push(w[g]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Tr(e),i=kr(e),s=Cr(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ir(o)),[o,Ir(o)]}(r,s,v);y.push(w[e[0]],w[e[1]])}if(S=[...S,{placement:r,overflows:y}],!y.every((e=>e<=0))){var T,x;const e=((null==(T=i.flip)?void 0:T.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(x=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:x.placement;if(!n)switch(p){case"bestFit":{var C;const e=null==(C=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=o}if(r!==n)return{reset:{placement:n}}}return{}}}};const Mr=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=Sr(n),a=Tr(n),c="y"===Nr(n),l=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,u=yr(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&"number"==typeof h&&(m="end"===a?-1*h:h),c?{x:m*d,y:p*l}:{x:p*l,y:m*d}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}},Pr=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=yr(e,t),l={x:n,y:r},d=await Lr(t,c),u=Nr(Sr(i)),p=xr(u);let m=l[p],h=l[u];if(s){const e="y"===p?"bottom":"right";m=wr(m+d["y"===p?"top":"left"],m,m-d[e])}if(o){const e="y"===u?"bottom":"right";h=wr(h+d["y"===u?"top":"left"],h,h-d[e])}const f=a.fn({...t,[p]:m,[u]:h});return{...f,data:{x:f.x-n,y:f.y-r}}}}},Ur=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=yr(e,t),d={x:n,y:r},u=Nr(i),p=xr(u);let m=d[p],h=d[u];const f=yr(a,t),g="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const e="y"===p?"height":"width",t=s.reference[p]-s.floating[e]+g.mainAxis,n=s.reference[p]+s.reference[e]-g.mainAxis;m<t?m=t:m>n&&(m=n)}if(l){var _,v;const e="y"===p?"width":"height",t=["top","left"].includes(Sr(i)),n=s.reference[u]-s.floating[e]+(t&&(null==(_=o.offset)?void 0:_[u])||0)+(t?0:g.crossAxis),r=s.reference[u]+s.reference[e]+(t?0:(null==(v=o.offset)?void 0:v[u])||0)-(t?g.crossAxis:0);h<n?h=n:h>r&&(h=r)}return{[p]:m,[u]:h}}}};function Fr(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Br(e){return Fr(e).getComputedStyle(e)}function jr(e){return $r(e)?(e.nodeName||"").toLowerCase():""}let zr;function Gr(){if(zr)return zr;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(zr=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),zr):navigator.userAgent}function qr(e){return e instanceof Fr(e).HTMLElement}function Vr(e){return e instanceof Fr(e).Element}function $r(e){return e instanceof Fr(e).Node}function Wr(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Fr(e).ShadowRoot||e instanceof ShadowRoot)}function Hr(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Br(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Kr(e){return["table","td","th"].includes(jr(e))}function Jr(e){const t=/firefox/i.test(Gr()),n=Br(e),r=n.backdropFilter||n.WebkitBackdropFilter;return"none"!==n.transform||"none"!==n.perspective||!!r&&"none"!==r||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((e=>n.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=n.contain;return null!=t&&t.includes(e)}))}function Yr(){return!/^((?!chrome|android).)*safari/i.test(Gr())}function Xr(e){return["html","body","#document"].includes(jr(e))}const Zr={x:1,y:1};function Qr(e){const t=!Vr(e)&&e.contextElement?e.contextElement:Vr(e)?e:null;if(!t)return Zr;const n=t.getBoundingClientRect(),r=Br(t);let i=n.width/parseFloat(r.width),s=n.height/parseFloat(r.height);return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}function ei(e,t,n,r){var i,s,o,a;void 0===t&&(t=!1),void 0===n&&(n=!1);const c=e.getBoundingClientRect();let l=Zr;t&&(r?Vr(r)&&(l=Qr(r)):l=Qr(e));const d=Vr(e)?Fr(e):window,u=!Yr()&&n,p=(c.left+(u&&null!=(i=null==(s=d.visualViewport)?void 0:s.offsetLeft)?i:0))/l.x,m=(c.top+(u&&null!=(o=null==(a=d.visualViewport)?void 0:a.offsetTop)?o:0))/l.y,h=c.width/l.x,f=c.height/l.y;return{width:h,height:f,top:m,right:p+h,bottom:m+f,left:p,x:p,y:m}}function ti(e){return(($r(e)?e.ownerDocument:e.document)||window.document).documentElement}function ni(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ri(e){return ei(ti(e)).left+ni(e).scrollLeft}function ii(e,t,n){const r=qr(t),i=ti(t),s=ei(e,!0,"fixed"===n,t);let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==jr(t)||Hr(i))&&(o=ni(t)),qr(t)){const e=ei(t,!0);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else i&&(a.x=ri(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function si(e){if("html"===jr(e))return e;const t=e.assignedSlot||e.parentNode||(Wr(e)?e.host:null)||ti(e);return Wr(t)?t.host:t}function oi(e){return qr(e)&&"fixed"!==Br(e).position?e.offsetParent:null}function ai(e){const t=Fr(e);let n=oi(e);for(;n&&Kr(n)&&"static"===Br(n).position;)n=oi(n);return n&&("html"===jr(n)||"body"===jr(n)&&"static"===Br(n).position&&!Jr(n))?t:n||function(e){let t=si(e);for(;qr(t)&&!Xr(t);){if(Jr(t))return t;t=si(t)}return null}(e)||t}const ci=Math.min,li=Math.max;function di(e){const t=si(e);return Xr(t)?e.ownerDocument.body:qr(t)&&Hr(t)?t:di(t)}function ui(e,t){var n;void 0===t&&(t=[]);const r=di(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=Fr(r);return i?t.concat(s,s.visualViewport||[],Hr(r)?r:[]):t.concat(r,ui(r))}function pi(e,t,n){return"viewport"===t?Ar(function(e,t){const n=Fr(e),r=ti(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const e=Yr();(e||!e&&"fixed"===t)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}(e,n)):Vr(t)?function(e,t){const n=ei(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=qr(e)?Qr(e):{x:1,y:1},o=e.clientWidth*s.x,a=e.clientHeight*s.y,c=i*s.x,l=r*s.y;return{top:l,left:c,right:c+o,bottom:l+a,x:c,y:l,width:o,height:a}}(t,n):Ar(function(e){var t;const n=ti(e),r=ni(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=li(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=li(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+ri(e);const c=-r.scrollTop;return"rtl"===Br(i||n).direction&&(a+=li(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}(ti(e)))}const mi={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=ui(e).filter((e=>Vr(e)&&"body"!==jr(e))),i=null;const s="fixed"===Br(e).position;let o=s?si(e):e;for(;Vr(o)&&!Xr(o);){const e=Br(o),t=Jr(o);(s?t||i:t||"static"!==e.position||!i||!["absolute","fixed"].includes(i.position))?i=e:r=r.filter((e=>e!==o)),o=si(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...s,r],a=o[0],c=o.reduce(((e,n)=>{const r=pi(t,n,i);return e.top=li(r.top,e.top),e.right=ci(r.right,e.right),e.bottom=ci(r.bottom,e.bottom),e.left=li(r.left,e.left),e}),pi(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=qr(n),s=ti(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==jr(n)||Hr(s))&&(o=ni(n)),qr(n))){const e=ei(n);a=Qr(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-o.scrollLeft*a.x+c.x,y:t.y*a.y-o.scrollTop*a.y+c.y}},isElement:Vr,getDimensions:function(e){if(qr(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=ei(e);return{width:t.width,height:t.height}},getOffsetParent:ai,getDocumentElement:ti,getScale:Qr,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||ai,s=this.getDimensions;return{reference:ii(t,await i(n),r),floating:{x:0,y:0,...await s(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===Br(e).direction};const hi=(e,t,n)=>{const r=new Map,i={platform:mi,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(null==o.isRTL?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Rr(l,r,c),p=r,m={},h=0;for(let n=0;n<a.length;n++){const{name:s,fn:f}=a[n],{x:g,y:_,data:v,reset:b}=await f({x:d,y:u,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:l,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=_?_:u,m={...m,[s]:{...m[s],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(l=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=Rr(l,p,c))),n=-1)}return{x:d,y:u,placement:p,strategy:i,middlewareData:m}})(e,t,{...i,platform:s})};var fi="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function gi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!=r--;)if(!gi(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!gi(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function _i(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=void 0===e?{}:e;const[s,o]=C.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,c]=C.useState(t);gi(a,t)||c(t);const l=C.useRef(null),d=C.useRef(null),u=C.useRef(null),p=C.useRef(s),m=function(e){const t=C.useRef(e);return fi((()=>{t.current=e})),t}(i),h=C.useCallback((()=>{l.current&&d.current&&hi(l.current,d.current,{middleware:a,placement:n,strategy:r}).then((e=>{f.current&&!gi(p.current,e)&&(p.current=e,N.flushSync((()=>{o(e)})))}))}),[a,n,r]);fi((()=>{f.current&&h()}),[h]);const f=C.useRef(!1);fi((()=>(f.current=!0,()=>{f.current=!1})),[]);const g=C.useCallback((()=>{if("function"==typeof u.current&&(u.current(),u.current=null),l.current&&d.current)if(m.current){const e=m.current(l.current,d.current,h);u.current=e}else h()}),[h,m]),_=C.useCallback((e=>{l.current=e,g()}),[g]),v=C.useCallback((e=>{d.current=e,g()}),[g]),b=C.useMemo((()=>({reference:l,floating:d})),[]);return C.useMemo((()=>({...s,update:h,refs:b,reference:_,floating:v})),[s,h,b,_,v])}var vi=C.createContext(null),bi=C.forwardRef((({children:e,isPortaled:t=!0,_elevateByZ:n=1,_preferAbsolute:r,className:i,...s},o)=>{if(n<=0)throw new Error("`_elevateByZ` must be a positive number.");const{getThemeProps:a}=St(),c=C.useContext(vi),[l,d,u]=C.useMemo((()=>null===c?[void 0,void 0,void 0]:[c.zIndex,c.portalRootElement,c.preferAbsolute]),[c]),p=Ue("dig-Layer",{"dig-Layer--prefer-absolute":(void 0!==u?u:r)&&!1===t},i),m=(l||0)+n,h=C.createElement("div",{...s,ref:o,className:p,style:{zIndex:m}},e),f=C.createElement("div",{...a()},h);return C.createElement(vi.Provider,{value:{zIndex:m,portalRootElement:d}},("undefined"!=typeof document||d)&&t?N.createPortal(f,d||document.body):h)}));bi.displayName="Layer";var Ei=({onClickOutside:e,shouldPropagateMouseEvents:t=!1,isClickThroughPortaled:n=!0,children:r,isBlock:i=!1,isActive:s=!1,shouldClickOutsideWhenDefaultPrevented:o=!0,className:a,...c})=>{const l=Ue("dig-ClickOutside",{"dig-ClickOutside--block":i}),d=Ue("dig-ClickOutside--backdrop",a),u=C.useRef(null),p=C.useRef(!1),m=()=>{p.current=!0},h=()=>{p.current=!1},f=C.useCallback((t=>{setTimeout((()=>{!o&&t.defaultPrevented||(p.current?p.current=!1:e&&e(t))}),0)}),[e,o]),g=C.useCallback((()=>{u.current=setTimeout((()=>{p.current=!1,document.addEventListener("click",f,{capture:!0}),document.addEventListener("contextmenu",f,{capture:!0}),u.current=null}),0)}),[f,p]),_=C.useCallback((()=>{"number"==typeof u.current&&(clearTimeout(u.current),u.current=null),document.removeEventListener("click",f,{capture:!0}),document.removeEventListener("contextmenu",f,{capture:!0})}),[f]);return C.useEffect((()=>(s?g():_(),()=>_())),[s]),C.createElement("div",{onClickCapture:m,onContextMenuCapture:m,className:l},s&&!t&&C.createElement(bi,{_elevateByZ:10,onClick:h,onContextMenu:h,isPortaled:n,className:d,"data-testid":"digClickOutsideisActiveLayer",...c}),r)};Ei.displayName="ClickOutside";var wi={value:void 0,setSelected:()=>!1,setFocused:()=>!1,isPortaled:!0,parentMenuContext:void 0,menuRows:Kn(),registerActiveSubmenu:()=>!1,closeActiveSubmenu:()=>!1,shouldMatchContainerWidth:!1,isSubmenu:!1,hasActiveSubmenu:!1,slideSubmenu:!1,topLevelTriggerRef:void 0,closeMenu:()=>!1,closeOnSelection:!0},yi=C.createContext(wi);yi.displayName="MenuContext";var Si=C.createContext({placement:"bottom-start",offset:4,isRootMenuOpen:!1});Si.displayName="MenuContentContext";var Ti=({className:e,children:t,...n})=>{const r=Ue("dig-Menu-row-accessory",e);return C.createElement("div",{className:r,...n},t)};Ti.displayName="RowAccessory";var xi=({className:e,children:t,...n})=>{const r=Ue("dig-Menu-row-content",e);return C.createElement("div",{className:r,...n},t)};xi.displayName="RowContent";var Ci=({className:e,children:t,...n})=>{const r=Ue("dig-Menu-row-title",e);return C.createElement("div",{className:r,...n},t)};Ci.displayName="RowTitle";var Ni=({className:e,children:t,...n})=>{const r=Ue("dig-Menu-row-subtitle",e);return C.createElement("div",{className:r,...n},t)};Ni.displayName="RowSubtitle";var ki=C.forwardRef((({tagName:e="div",role:t="menuitem",className:n,children:r,onMouseEnter:i,withTitle:s,withSubtitle:o,withLeftAccessory:a,withRightAccessory:c,disabled:l=!1,interactive:d=!1,tabIndex:u=-1,preferComposition:p=!1,_isSubmenuTrigger:m=!1,onClick:h,_pseudoClass:f,...g},_)=>{const v=C.useRef(null),{menuRows:b,parentMenuContext:E,closeActiveSubmenu:w}=C.useContext(yi),y=m?E&&E.menuRows||Kn():b,{getItemProps:S}=lr({interactive:d,disabled:l,ref:v,role:t},y),T=Ue("dig-Menu-row",{"dig-Menu-row--disabled":l,"dig-Menu-row--interactive":d,"dig-Menu-row--active":"active"===f,"dig-Menu-row--focused":"focus"===f,"dig-Menu-row--hover":"hover"===f},n);return C.useImperativeHandle(_,(()=>({focus:e=>{if(v.current)return v.current.focus(e)},getBoundingClientRect:()=>{if(v.current)return v.current.getBoundingClientRect()}}))),C.createElement(e,{className:T,ref:v,...S({onMouseEnter:e=>{w(),i&&i(e)},onClick:e=>{l?e.preventDefault():h&&h(e)},...g})},p&&r,!p&&C.createElement(C.Fragment,null,a&&C.createElement(Ti,null,a),C.createElement(xi,null,C.createElement(Ci,null,s||r),o&&C.createElement(Ni,null,o)),c&&C.createElement(Ti,null,c)))}));ki.displayName="Row";var Oi=C.forwardRef((({children:e,disabled:t,value:n,onClick:r,onFocus:i,...s},o)=>{const{setFocused:a,setSelected:c}=C.useContext(yi);return C.createElement(ki,{interactive:!0,disabled:t,onClick:e=>{c(n,e),r&&r(e)},onFocus:e=>{a(n),i&&i(e)},...s,ref:o},e)}));Oi.displayName="ActionItem";var Ii=e=>{const{inverse:t,maxHeight:n}=C.useContext(yi),r=St().getInverseProps().className,i=Ue("dig-Menu-canvas",{[r]:t});return C.createElement("div",{className:i,role:"presentation",...e,style:{...e.style,maxHeight:n}})};Ii.displayName="Canvas";var Ai=125,Ri=({animationDirection:e,offset:t,isOpen:n,isRootMenuOpen:r,children:i})=>{const s="up"===e?t:-1*t;return C.createElement(gr,{transitionIn:{transitions:[{property:e,value:0},{property:"opacity",value:1}],easing:"enter",duration:Ai},transitionOut:{transitions:[{property:"opacity",value:0},{property:e,value:s}],easing:"leave",duration:Ai},style:{opacity:0},in:n&&r,mountOnEnter:!0,unmountOnExit:!0},(({state:e,style:t})=>(n||"exited"!==e)&&i({canvasStyle:t,overlayStyle:{}})))};Ri.displayName="AppearMenuMotion";var Li=({submenuMotion:e,isSubmenu:t,animationDirection:n,offset:r,isRootMenuOpen:i,style:s,children:o})=>{const a=((e,t)=>2===e?{transform:"translate(-24px, 0px)",opacity:0}:t?{transform:"translate(48px, 0px)",opacity:0}:{})(e,t),c=0===e||1===e,l="up"===n?r:-1*r;return C.createElement(gr,{transitionIn:{transitions:[{property:"left",value:0},{property:n,value:0},{property:"opacity",value:1}],easing:"transition",duration:Ai},transitionOut:{transitions:[{property:"left",value:t?24:0},{property:n,value:t?0:l},{property:"opacity",value:0}],easing:"transition",duration:Ai},style:{opacity:0},in:c},(({state:r,style:d})=>C.createElement(gr,{transitionIn:{transitions:[{property:"left",value:0},{property:n,value:0},{property:"opacity",value:1}],easing:"transition",duration:Ai},transitionOut:{transitions:[{property:"left",value:t?-48:0},{property:n,value:t?0:l},{property:"opacity",value:0}],easing:"transition",duration:Ai},style:{opacity:0},in:c},(({state:t,style:n})=>{if(!i)return o({canvasStyle:{...s},overlayStyle:{}});if(4===e)return o({canvasStyle:{},overlayStyle:{visibility:"hidden",pointerEvents:"none"}});const l=2===e||0===e,u=c||"exited"!==r||"exited"!==t,p=u?{}:{visibility:"hidden",pointerEvents:"none"},m=u?{...s,...l?{...d}:{...n}}:{...s,...a};return o({canvasStyle:m,overlayStyle:p})}))))};Li.displayName="SlideMenuMotion";var Di=({children:e,submenuMotion:t,isSubmenu:n,slideSubmenu:r,...i})=>r?C.createElement(Ri,{...i},(({canvasStyle:s})=>C.createElement(Li,{isSubmenu:n,submenuMotion:t,slideSubmenu:r,style:s,...i},e))):C.createElement(Ri,{...i},e);Di.displayName="MenuMotion";var Mi=C.forwardRef((({className:e,children:t,placement:n,anchorRef:r,offsetDistance:i=0,auto:s=!1,isPortaled:o=!0,positioningStrategy:a="absolute",style:c,...l},d)=>{const{setMaxMenuHeight:u}=C.useContext(yi),{x:p,y:m,reference:h,floating:f,strategy:g,update:_,placement:v}=_i({placement:n,strategy:a,whileElementsMounted:(e,t,n)=>function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,c=i&&!a,l=c||s?[...Vr(e)?ui(e):e.contextElement?ui(e.contextElement):[],...ui(t)]:[];l.forEach((e=>{c&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));let d,u=null;if(o){let r=!0;u=new ResizeObserver((()=>{r||n(),r=!1})),Vr(e)&&!a&&u.observe(e),Vr(e)||!e.contextElement||a||u.observe(e.contextElement),u.observe(t)}let p=a?ei(e):null;return a&&function t(){const r=ei(e);!p||r.x===p.x&&r.y===p.y&&r.width===p.width&&r.height===p.height||n(),p=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{c&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==(e=u)||e.disconnect(),u=null,a&&cancelAnimationFrame(d)}}(e,t,n,{elementResize:!0}),middleware:[Mr(i),...s?[Dr({fallbackStrategy:"bestFit"})]:[],(b={apply({availableHeight:e}){u&&u(e)}},void 0===b&&(b={}),{name:"size",options:b,async fn(e){const{placement:t,rects:n,platform:r,elements:i}=e,{apply:s=(()=>{}),...o}=yr(b,e),a=await Lr(e,o),c=Sr(t),l=Tr(t),d="y"===Nr(t),{width:u,height:p}=n.floating;let m,h;"top"===c||"bottom"===c?(m=c,h=l===(await(null==r.isRTL?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(h=c,m="end"===l?"top":"bottom");const f=p-a[m],g=u-a[h],_=!e.middlewareData.shift;let v=f,E=g;if(d){const e=u-a.left-a.right;E=l||_?_r(g,e):e}else{const e=p-a.top-a.bottom;v=l||_?_r(f,e):e}if(_&&!l){const e=vr(a.left,0),t=vr(a.right,0),n=vr(a.top,0),r=vr(a.bottom,0);d?E=u-2*(0!==e||0!==t?e+t:vr(a.left,a.right)):v=p-2*(0!==n||0!==r?n+r:vr(a.top,a.bottom))}await s({...e,availableWidth:E,availableHeight:v});const w=await r.getDimensions(i.floating);return u!==w.width||p!==w.height?{reset:{rects:!0}}:{}}}),...s?[Pr({limiter:Ur()})]:[]]});var b;Fn((()=>{h(r.current)}),[h]),C.useImperativeHandle(d,(()=>({update:_})));const E=p?Math.round(p):0,w=m?Math.round(m):0,y=Ue("dig-Menu-Overlay",`dig-Menu-Overlay--${v}`,e);return C.createElement(bi,{_elevateByZ:11,isPortaled:o},C.createElement("div",{className:y,ref:f,style:{...c,position:g,top:"0",left:"0",transform:`translate3d(${E}px,${w}px,0)`},...l},t))}));Mi.displayName="MenuOverlay";var Pi=C.forwardRef((({children:e,className:t,auto:n=!0,placement:r="bottom-start",open:i=!1,triggerRef:s,triggerOffset:o=4,positioningStrategy:a="absolute",onContentOpened:c,tabIndex:l=-1,motionProvider:d=Di,minWidth:u=90,...p},m)=>{const h=C.useRef(null),f=(e=>{switch(e){case"top":case"top-start":case"top-end":default:return"up";case"bottom":case"bottom-start":case"bottom-end":return"down"}})(r),[g,_]=C.useState({}),[v,b]=C.useState(4),{contentRef:E,shouldMatchContainerWidth:w,isPortaled:y,isSubmenu:S,hasActiveSubmenu:T,slideSubmenu:x}=C.useContext(yi),N=Ue("dig-Menu-content",`dig-Menu-content--${r}`,t),{isRootMenuOpen:k}=C.useContext(Si),O=S?k:i,I={placement:r,offset:o,isRootMenuOpen:O};C.useEffect((()=>{x&&b(T?2:0)}),[T,x]),C.useEffect((()=>{x&&b(O?i?1:3:4)}),[i,x,O]),C.useEffect((()=>{i&&s.current&&_({minWidth:w||"matchContainingWidth"===u?s.current.getBoundingClientRect().width:u})}),[i]),C.useImperativeHandle(m,(()=>({update:()=>{h.current&&h.current.update()}}))),C.useEffect((()=>{i&&c&&c()}),[i]);const A=C.useMemo((()=>{let e=0;return"number"==typeof o?e=o:"object"==typeof o&&(e=o.mainAxis||o.crossAxis),e||0}),[o]);return C.createElement(Si.Provider,{value:I},C.createElement(d,{animationDirection:f,offset:A,isOpen:i,isSubmenu:S,submenuMotion:v,slideSubmenu:x,isRootMenuOpen:O},(({canvasStyle:t,overlayStyle:i})=>C.createElement(Mi,{anchorRef:s,auto:n,placement:r,offsetDistance:o,positioningStrategy:a,isPortaled:y,style:{...i,...g},ref:h},C.createElement("nav",{className:N,ref:E,tabIndex:-1,...p},C.createElement(Ii,{style:t},e))))))}));Pi.displayName="Content";var Ui=C.forwardRef((({children:e,disabled:t,href:n,onClick:r,...i},s)=>{const{closeMenu:o,closeOnSelection:a}=C.useContext(yi);return C.createElement(ki,{tagName:"a",href:n,onClick:e=>{a&&o({autoFocus:!1}),r&&r(e)},interactive:!0,disabled:t,...i,ref:s},e)}));Ui.displayName="LinkItem";var Fi=({className:e,children:t,withLabel:n,_withoutPadding:r,...i})=>{const s=Ue("dig-Menu-segment",{"dig-Menu-segment--withoutPadding":r},e);return C.createElement("div",{className:s,...i},n&&C.createElement("div",{className:"dig-Menu-segment-label"},C.createElement(Ct,{size:"small",color:"subtle",isBold:!0},n)),t)};Fi.displayName="Segment";var Bi=({children:e,selected:t=!1,role:n="menuitemradio",...r})=>{const i=!t||C.createElement(je,{src:He});return C.createElement(Oi,{role:n,"aria-checked":t,withLeftAccessory:i,...r},e)};Bi.displayName="SelectItem";var ji="Enter",zi="dig-Menu-row--interactive",Gi=[`.${zi}[role="menuitem"]`,`.${zi}[role="menuitemcheckbox"]`,`.${zi}[role="menuitemradio"]`],qi=C.forwardRef((({className:e,children:t,onSelection:n,onToggle:r,closeOnSelection:i=!0,closeOnBlur:s=!0,isPortaled:o=!0,matchContainingWidth:a=!1,hasMaxHeight:c=!1,shouldPropagateClickOutsideMouseEvents:l=!1,shouldFocusDisabledRows:d=!0,isBlock:u=!1,slideSubmenu:p=!1,_isSubmenu:m=!1,closeOnBlurWhenDefaultPrevented:h=!0,inverse:f=!1,...g},_)=>{const v=St().getInverseProps().className,b=Ue("dig-Menu",{[v]:f},e),[E,w]=(e=>{const[t,n]=C.useState(void 0);return[t,C.useCallback((t=>{let r=t;switch(typeof e){case"number":r=Math.min(e,t);break;case"boolean":r=e?Math.min(200,t):r-8}const i=Math.max(200,r);n(i)}),[e,n])]})(c),y=C.useRef(null),S=C.useRef(null),T=C.useRef(null),{close:x,register:N,hasActiveSubmenu:k}=(()=>{const[e,t]=C.useReducer(ur,dr);return{register:C.useCallback((e=>{t({type:"REGISTER",payload:{activeSubmenu:{close:e}}})}),[t]),close:C.useCallback((()=>{e.activeSubmenu&&(e.activeSubmenu.close({autoFocus:!1}),t({type:"CLOSE"}))}),[e.activeSubmenu]),hasActiveSubmenu:Boolean(e.activeSubmenu)}})(),{isOpen:O,openMenu:I,closeMenu:A,toggleMenu:R,value:L,setSelected:D,setFocused:M,getRootProps:P,getTriggerProps:U,getContentProps:F,menuRows:B,focusTrigger:j}=cr({triggerRef:y,contentRef:S,onSelection:n,onToggle:r,closeOnSelection:i,shouldFocusDisabledRows:d,interactiveRowSelectors:Gi,delayFocus:p?125:void 0});C.useEffect((()=>{O||x()}),[O,x]);const z=C.useCallback((()=>{T.current&&T.current.update()}),[T]),G=C.useContext(yi),q=m?G.slideSubmenu:p,V=C.useCallback((e=>{S&&S.current&&(x(),A(e))}),[A,x,S]),$={isPortaled:o,contentRef:S,value:L,setSelected:D,setFocused:M,maxHeight:E,setMaxMenuHeight:w,isSubmenu:m,hasActiveSubmenu:k,topLevelTriggerRef:m?G.topLevelTriggerRef:y,parentMenuContext:m?G:void 0,menuRows:B,registerActiveSubmenu:N,closeActiveSubmenu:x,closeMenu:A,hasMaxHeight:c,shouldMatchContainerWidth:a,slideSubmenu:q,inverse:f,closeOnSelection:i},W={openMenu:I,closeMenu:V,toggleMenu:R,getTriggerProps:U,getContentProps:e=>({ref:T,open:Boolean(O),triggerRef:y,...F(e)}),menuRows:B,triggerRef:y,contentRef:S},H=C.useCallback((()=>{s&&V({ref:y})}),[s,V,y]),K=m?t&&t(W):C.createElement(Ei,{className:"dig-Menu-backdrop",isBlock:u,onClickOutside:H,shouldPropagateMouseEvents:l,isClickThroughPortaled:o,isActive:Boolean(O),shouldClickOutsideWhenDefaultPrevented:h},t&&t(W));return C.useImperativeHandle(_,(()=>({focusTrigger:j,updateContent:z})),[j,z]),C.createElement(yi.Provider,{value:$},C.createElement("div",{className:b,...P(g)},K))}));qi.displayName="Wrapper";var Vi=({id:e,withTriggerContent:t,withLeftAccessory:n,withRightAccessory:r,auto:i=!0,placement:s="right-start",contentClassName:o,disabled:a,children:c,openDelay:l=0,triggerProps:d,contentProps:u,onSubmenuOpened:p,onSubmenuClosed:m,closeOnSelection:h,motionProvider:f=Di})=>{const g=C.useRef(null),_=C.useRef(),v=C.useRef(!0),{menuRows:b,setSelected:E,registerActiveSubmenu:w,closeActiveSubmenu:y,isPortaled:S,slideSubmenu:T,topLevelTriggerRef:x,inverse:N}=C.useContext(yi),{placement:k,offset:O}=C.useContext(Si),I=()=>{_.current&&(clearTimeout(_.current),_.current=void 0)},A=C.useCallback((()=>{p&&p(e)}),[e,p]),R=({openMenu:e,closeMenu:t,autoFocus:n=!1})=>{I(),v.current=!1,y(),v.current=!0,e({autoFocus:n||T}),w((()=>{L({closeMenu:t,options:T?{autoFocus:!0,ref:g}:void 0})}))},L=({closeMenu:t,options:n})=>{m&&v.current&&m(e),t(n||{})},D=e=>{I(),d&&d.onMouseLeave&&d.onMouseLeave(e)},M=({openMenu:e,closeMenu:t,autoFocus:n=!1})=>r=>{a||(r.stopPropagation(),R({openMenu:e,closeMenu:t,autoFocus:n}))},P=({})=>()=>{y()},U=({})=>e=>{if(e.key===ji)e.stopPropagation(),y()},F=({openMenu:e,closeMenu:t})=>n=>{if(a)return;if(_.current)return;if(T)return;d&&d.onMouseEnter&&d.onMouseEnter(n);const r=()=>{R({openMenu:e,closeMenu:t,autoFocus:!1})};l?_.current=window.setTimeout((()=>{r()}),l):r()},B=({openMenu:e,closeMenu:t})=>n=>{if(!a)switch(d&&d.onKeyDown&&d.onKeyDown(n),n.key){case ji:return n.stopPropagation(),void R({openMenu:e,closeMenu:t,autoFocus:!0});case"ArrowRight":return void R({openMenu:e,closeMenu:t,autoFocus:!0})}},j=({openMenu:e,closeMenu:t})=>n=>{if(d&&d.onKeyUp&&d.onKeyUp(n)," "===n.key){if(a)return;n.stopPropagation(),n.preventDefault(),R({openMenu:e,closeMenu:t,autoFocus:!0})}},z=({menuRows:e})=>t=>{u&&u.onKeyUp&&u.onKeyUp(t)," "===t.key&&tr(e.items,t.target)&&t.preventDefault()},G=({menuRows:e,triggerRef:t,closeMenu:n})=>r=>{switch(u&&u.onKeyDown&&u.onKeyDown(r),r.key){case"Tab":return r.stopPropagation(),void L({closeMenu:n,options:{autoFocus:!0,ref:t}});case"Escape":return r.stopPropagation(),void L(T?{closeMenu:n,options:{autoFocus:!0,ref:x}}:{closeMenu:n,options:{autoFocus:!0,ref:t}});case"ArrowUp":r.stopPropagation(),r.preventDefault();const i=Zn(e.items,e.selectedIndex);return rr(e.items,i),void e.setSelectedIndex(i);case"ArrowDown":r.stopPropagation(),r.preventDefault();const s=Qn(e.items,e.selectedIndex);return rr(e.items,s),void e.setSelectedIndex(s);case"ArrowLeft":return r.stopPropagation(),r.preventDefault(),T?y():L({closeMenu:n,options:{autoFocus:!0,ref:t}}),void(t.current&&"focus"in t.current&&t.current.focus())}};return C.useEffect((()=>()=>{_.current&&clearTimeout(_.current)}),[]),C.createElement(qi,{className:"dig-Menu--submenu",onSelection:(e,t)=>{E(e,t,!1===h)},isPortaled:S,slideSubmenu:T,shouldFocusDisabledRows:b.shouldFocusDisabledRows,_isSubmenu:!0,inverse:N,closeOnSelection:h},(({openMenu:l,closeMenu:p,getContentProps:m,getTriggerProps:h,menuRows:_})=>C.createElement(C.Fragment,null,C.createElement(ki,{id:e,interactive:!0,disabled:a,withLeftAccessory:n,withRightAccessory:r||C.createElement(je,{src:Ye,size:"small"}),_isSubmenuTrigger:!0,...h(d),ref:g,onMouseEnter:F({openMenu:l,closeMenu:p}),onMouseLeave:D,onKeyDown:B({openMenu:l,closeMenu:p}),onKeyUp:j({openMenu:l,closeMenu:p}),onClick:M({openMenu:l,closeMenu:p})},t),!a&&C.createElement(Pi,{...m(u),triggerRef:T?x:g,triggerOffset:T?O:{crossAxis:-8},auto:i,placement:T?k:s,className:o,onKeyDown:G({menuRows:_,triggerRef:g,closeMenu:p}),onKeyUp:z({menuRows:_}),onContentOpened:A,motionProvider:f},T&&C.createElement(Fi,null,C.createElement(ki,{interactive:!0,disabled:a,withLeftAccessory:C.createElement(je,{src:Je,size:"small"}),onClick:P({closeMenu:p}),onKeyDown:U({closeMenu:p})},t)),c))))};Vi.displayName="Submenu";var $i={ActionItem:Oi,Canvas:Ii,Content:Pi,LinkItem:Ui,Row:ki,RowAccessory:Ti,RowContent:xi,RowSubtitle:Ni,RowTitle:Ci,Segment:Fi,SelectItem:Bi,Submenu:Vi,Wrapper:qi},Wi=({href:e,disabled:t=!1,type:n})=>{const r={type:n};let i="button";return e?(i="a",r.href=e,r.role="button",r["aria-disabled"]=t):r.disabled=t,[i,r]},Hi=[["medium","standard"]],Ki=e=>{const t=Hi.find((([t,n])=>e===t));return void 0!==t?t[1]:e},Ji=e=>{const t=Hi.find((([t,n])=>e===n));return void 0!==t?t[0]:e};function Yi(e){return"small"===(e||"medium")?"small":"medium"}var Xi=C.forwardRef((({children:e,className:t,variant:n,inverse:r=!1,size:i="medium",withDropdownIcon:s=!1,withIconLeft:o,withIconStart:a,withIconEnd:c,hasNoUnderline:l=!1,href:d,fullWidth:u=!1,isLoading:p=!1,disabled:m=p,_hasRightMargin:h,_hasCollapsedMargins:f,_hasSquaredSize:g=!1,type:_,...v},b)=>{const E=Ji(i),w=a||o;if(u){if("transparent"===n)throw new Error("`fullWidth` can only be applied to non-transparent variants.");if("large"!==E&&"xlarge"!==E)throw new Error('`fullWidth` can only be applied to "large" and "xlarge" sizes.')}const[y,S]=Wi({href:d,disabled:m||p,type:_}),T=St().getInverseProps().className,x=Ue("dig-Button",`dig-Button--${n}`,`dig-Button--${Ki(E)}`,{"dig-Button--fullWidth":u,"dig-Button--isLoading":p,"dig-Button--withDropdownIcon":s,"dig-Button--withIconStart":w,"dig-Button--withIconEnd":c,"dig-Button--hasNoUnderline":"transparent"===n&&l,"dig-Button--hasRightMargin":h,"dig-Button--hasCollapsedMargins":f,"dig-Button--hasSquaredSize":g,[T]:r},t);return C.createElement(y,{className:x,ref:b,...S,...v},C.createElement("span",{className:"dig-Button-content"},w&&C.createElement("span",{className:"dig-Button-icon-start-wrapper"},C.createElement(Fe.Provider,{value:{UIIconOverrides:{size:Yi(E),isOpticallyAligned:!0}}},w)),e,c&&C.createElement("span",{className:"dig-Button-icon-end-wrapper"},C.createElement(Fe.Provider,{value:{UIIconOverrides:{size:Yi(E),isOpticallyAligned:!0}}},c)),s&&C.createElement(je,{className:"dig-Button-icon",src:Ke,size:"small","data-testid":"digButtonDropdownIcon",isOpticallyAligned:!0})),p&&C.createElement("span",{className:"dig-Button-spinner","data-testid":"digButtonSpinner"},C.createElement(Xt,{monochromatic:!0,hasOpaqueTrack:"primary"===n,size:"xsmall"})))}));Xi.displayName="Button";function Zi(e){switch(e||"medium"){case"small":return"small";case"medium":default:return"medium";case"large":case"xlarge":return"large"}}var Qi=C.forwardRef((({children:e,className:t,disabled:n=!1,variant:r,inverse:i=!1,isRounded:s,shape:o,size:a="medium",withDropdownIcon:c=!1,href:l,type:d,...u},p)=>{const[m,h]=Wi({href:l,disabled:n,type:d}),f=Ji(a),g=o||(!0===s?"circular":"standard"),_=St().getInverseProps().className;var v;v="`withDropdownIcon` only applies to non-circular icon buttons.",!(c&&"circular"===g)||console.error("dig-components:",v);const b=Ue("dig-IconButton",`dig-IconButton--${r}`,`dig-IconButton--${Ki(f)}`,{[_]:i,"dig-IconButton--circular":"circular"===g,"dig-IconButton--withDropdownIcon":c&&"circular"!==g},t);return C.createElement(m,{className:b,ref:p,...h,...u},C.createElement("span",{className:"dig-IconButton-content"},C.createElement(Fe.Provider,{value:{UIIconOverrides:{size:Zi(f)}}},e),c&&"circular"!==g&&C.createElement(je,{src:Ke,size:"small","data-testid":"digIconButtonDropdownIcon"})))}));Qi.displayName="IconButton";var es=C.forwardRef((({className:e,children:t,renderMenu:n,variant:r,inverse:i=!1,size:s="medium",fullWidth:o=!1,isLoading:a=!1,disabled:c=a,...l},d)=>{const u=Ji(s),p=St().getInverseProps().className,m=Ue("dig-SplitButton",`dig-SplitButton--${r}`,`dig-SplitButton--${Ki(u)}`,{"dig-SplitButton--fullWidth":o,[p]:i},e),h={buttonProps:{variant:r,size:u,inverse:i,disabled:c||a,className:"dig-SplitButton-menu-button",withDropdownIcon:!0,_hasSquaredSize:!0}};return C.createElement("span",{role:"group",className:m},C.createElement(Xi,{ref:d,className:"dig-SplitButton-button",variant:r,size:u,isLoading:a,disabled:c,...l,_hasRightMargin:"primary"===r||"opacity"===r,_hasCollapsedMargins:"outline"===r||"filled"===r},t),n(h))}));es.displayName="SplitButton",C.forwardRef((({cursor:e="default",circular:t=!1,children:n,className:r,...i},s)=>{const o=Ue("dig-StylelessButton",r,{"dig-StylelessButton--pointer":"pointer"===e,"dig-StylelessButton--circular":t});return C.createElement("button",{className:o,ref:s,...i},C.createElement("span",{className:"dig-StylelessButton-content"},n))})).displayName="StylelessButton";var ts="digButtonBarShadow-",ns=({children:e,menuTrigger:t})=>{const[n,r]=C.useState(new Map),i=C.useRef(null),s=C.useRef(),o=!Array.from(n.values()).every((e=>e));return C.useEffect((()=>{const e=e=>{e.forEach((e=>{const t=e.target.id;r((n=>{const r=new Map(n);return r.set(t,e.isIntersecting),r}))}))};return window.IntersectionObserver?(s.current=new IntersectionObserver(e,{root:i.current,threshold:1}),i.current&&Array.from(i.current.children).forEach((e=>{s.current&&s.current.observe(e)}))):i.current&&Array.from(i.current.children).forEach(((e,t)=>{r((n=>{const r=new Map(n);return r.set(e.id,0===t),r}))})),()=>{s.current&&(s.current.disconnect(),s.current=void 0)}}),[]),C.createElement("div",{className:"dig-ButtonBar-overflow"},C.createElement("div",{className:"dig-ButtonBar-overflow-content"},C.Children.map(e,(e=>{if(C.isValidElement(e)&&n.get(`${ts}${e.props.id}`))return e})),o&&C.createElement($i.Wrapper,{className:"dig-ButtonBar-menu"},(({getContentProps:r,getTriggerProps:i})=>C.createElement(C.Fragment,null,C.isValidElement(t)&&C.cloneElement(t,{...i()}),C.createElement($i.Content,{...r()},C.createElement($i.Segment,null,C.Children.map(e,(e=>{if(C.isValidElement(e)){const r=`${ts}${e.props.id}`;if(!n.get(r))return C.createElement($i.ActionItem,{key:e.props.id,...(t=e.props,{id:t.id,children:t.children,disabled:t.disabled,onClick:t.onClick,href:t.href,value:t.href,"aria-label":t["aria-label"],withLeftAccessory:t.withIconStart||t.withIconLeft,withRightAccessory:t.withIconEnd,...t.menuItemProps})},e.props.children)}var t})))))))),C.createElement("div",{className:"dig-ButtonBar-overflow-content dig-ButtonBar-overflow-content-shadow","aria-hidden":"true"},C.createElement("div",{className:"dig-ButtonBar-overflow-buttons",ref:i},C.Children.map(e,(e=>{if(C.isValidElement(e))return C.cloneElement(e,{id:`${ts}${e.props.id}`,"aria-hidden":!0,tabIndex:-1})}))),o&&C.createElement($i.Wrapper,null,(()=>C.createElement(C.Fragment,null,C.isValidElement(t)&&C.cloneElement(t,{"data-testid":`${ts}${t.props["data-testid"]}`}))))))};ns.displayName="ButtonBarOverflow";var rs=C.forwardRef((({variant:e,size:t="medium",disabled:n,...r},i)=>{const s=Ue("dig-ButtonBar-menu-trigger",`dig-ButtonBar-menu-trigger--${t}`);return C.createElement(Xi,{className:s,variant:e,size:t,disabled:n,ref:i,"data-testid":"digButtonBarMenuTrigger",...r},C.createElement(je,{size:"small",src:tt}))})),is=C.forwardRef((({children:e,className:t,variant:n,disabled:r=!1,size:i="medium",...s},o)=>{const a=Ue("dig-ButtonBar-button",t),c={...s};return delete c.menuItemProps,C.createElement(Xi,{id:s.id,...c,className:a,variant:n,size:i,disabled:r,ref:o},e)})),ss=C.forwardRef((({children:e,className:t,variant:n,size:r="medium",disabled:i=!1,buttonGroupProps:s,...o},a)=>{const c=Ue("dig-ButtonBar",`dig-ButtonBar--${n}`,{"dig-ButtonBar--disabled":i},t);return C.createElement("div",{className:c,ref:a,...o},C.createElement(ns,{menuTrigger:C.createElement(rs,{variant:n,size:r,disabled:i})},s.map((e=>C.createElement(is,{key:e.id,...e,variant:n,size:r,disabled:i||e.disabled,ref:e.ref},e.children)))))}));ss.displayName="ButtonBar";var os=(e,t)=>{e||console.error("dig-components:",t)},as=({className:e="",children:t})=>{const n=Ue("dig-Banner-message",e);return C.createElement(Ct,{className:n},t)};as.displayName="Banner.Message";var cs=({className:e="",children:t,...n})=>C.createElement("span",{className:Ue("dig-Banner-actions",e),...n},t);cs.displayName="Banner.Actions";var ls=(e,t)=>{if("basic"===e)switch(t){case"attention":default:return et;case"success":return We;case"warning":return nt;case"alert":return Qe}else switch(t){case"attention":default:return Ve;case"success":return Ge;case"warning":return $e;case"alert":return qe}},ds=({variant:e="basic",type:t="neutral",withLeftIcon:n,withLeftPictogram:r})=>{const i="dig-Banner-icon";return"basic"===e?!n||!0===n&&"neutral"===t?null:!0===n?C.createElement(je,{className:i,src:ls(e,t),size:"medium"}):(os(n.type===je,"The Banner component only accepts `<UIIcon />` in the `withLeftIcon` prop."),C.createElement("span",{className:i},n)):!r&&"neutral"===t||null===r?null:r?(os(r.type===ze,"The Banner component only accepts `<PictogramIcon />` in the `withLeftPictogram` prop."),C.createElement("div",{className:i},r)):C.createElement(ze,{className:i,src:ls(e,t)})};ds.displayName="BannerIcon";var us=e=>{const{children:t,className:n,type:r="neutral",onRequestClose:i,withCloseButton:s,withLeftIcon:o=!0,withLeftPictogram:a,variant:c="basic",...l}=e;return C.createElement("div",{role:"alert",className:Ue("dig-Banner",n,`dig-Banner--${r}`,`dig-Banner--${c}`,{"dig-Banner--withCloseButton":s,"dig-Banner--withPictogram":a,"dig-Banner--withIcon":o}),...l},C.createElement(ds,{variant:c,type:r,withLeftIcon:o,withLeftPictogram:a}),C.createElement("span",null,t),!!s&&C.createElement(Qi,{variant:"transparent",className:"dig-Banner-close","aria-label":s,"data-testid":"digBannerCloseButton",onClick:i},C.createElement(je,{src:Xe})))};us.displayName="Banner",us.Actions=cs,us.Message=as;const ps=e=>{const t=Ue({"consent-switch-slider":!0,slideron:e.checked,disabled:e.disabled});return C.createElement("label",{className:"consent-switch",style:{flexShrink:0,alignSelf:"flex-start"},"aria-checked":e.checked,"aria-labelledby":e.labelledby,"aria-describedby":e.describedby,"data-uxa-log":"privacy_consent_toggle_"+e.id+"_"+!e.checked},C.createElement("input",{type:"checkbox",id:e.id,name:e.name,"aria-labelledby":e.labelledby,"aria-describedby":e.describedby,"aria-checked":e.checked,checked:e.checked,disabled:e.disabled,onChange:t=>{e.onChange(t.target.checked,e.id,e.gdprCount)}}),C.createElement("div",{className:t}))};ps.displayName="PreferencesSlider";const ms=e=>C.createElement("div",{className:hs},C.createElement("label",{id:e.id+"-label",className:e.titleClassName,htmlFor:e.id},e.title,C.createElement(ps,Object.assign({},e,{labelledby:e.id+"-label",describedby:e.id+"-blurb",name:e.id,onChange:e.onChange}))),C.createElement("p",{id:e.id+"-toggle-label",className:"prc-tp-cat-all-toggle-label"},e.buttonLabel),C.createElement("p",{id:e.id+"-blurb",className:e.descClassName},e.blurb));ms.displayName="PreferencesCategory";const hs=Ue({"border-top":!0,"dns-pref":!0}),fs=h.intl.formatMessage({id:"JFt8fI",defaultMessage:"Global Privacy Control enabled. Disable to modify cookie categories."}),gs=h.intl.formatMessage({id:"B/scGc",defaultMessage:"Do not sell or share my information"}),_s=h.intl.formatMessage({id:"/BLodS",defaultMessage:"Do not sell or share my personal information is now active. You may close this window."}),vs=h.intl.formatMessage({id:"5g1q9D",defaultMessage:'You have successfully unenrolled in CCPA\'s "Do not sell or share my personal information". You may now close this window.'}),bs=()=>C.createElement("div",null,C.createElement("span",{className:"gpc-info"},C.createElement(je,{className:"gpc-info-icon",src:et}),C.createElement("label",{id:"gpc-label",className:"gpc-label",htmlFor:"gpc"},fs)));bs.displayName="GPCInfo";const Es=e=>{const t=h.intl.formatMessage({id:"brKQ8K",defaultMessage:'Do not sell or share my personal data to third-parties when I visit this website. Enabling this option will disable all cookies except for those classified as "strictly necessary". Visit our <button>Cookie FAQ page</button> for more information.'},{button:t=>C.createElement("button",{id:"cookie-faq-link",onClick:e.onCookieFAQLinkClick},t)});return C.createElement("div",{"data-uxa-log":"privacy_consent_detailed_view","data-uxa-interactions":"shown click"},C.createElement(ms,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,title:gs,id:"dns",blurb:t,buttonLabel:"",onCookieFAQLinkClick:e.onCookieFAQLinkClick,titleClassName:"dns-label",descClassName:"dns-blurb",gdprCount:0}),e.children)};Es.displayName="CCPAPreferencesWithGDPR";const ws=e=>{const t=h.intl.formatMessage({id:"brKQ8K",defaultMessage:'Do not sell or share my personal data to third-parties when I visit this website. Enabling this option will disable all cookies except for those classified as "strictly necessary". Visit our <button>Cookie FAQ page</button> for more information.'},{button:t=>C.createElement("button",{id:"cookie-faq-link",onClick:e.onCookieFAQLinkClick,"data-uxa-log":"privacy_consent_detailed_view_ccpa_cookie_faq_link"},t)});return C.createElement("div",{className:"","data-uxa-log":"privacy_consent_detailed_view_ccpa_only","data-uxa-interactions":"shown click"},C.createElement(je,{src:Ze,size:"large"}),C.createElement(Nt,{className:"dns-label"},gs),C.createElement("div",{style:{display:"flex",marginBottom:"24px"}},C.createElement("label",{id:"dns-blurb",className:"dns-blurb",htmlFor:"dns",style:{marginRight:"40px"}},t),C.createElement(ps,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,labelledby:"dns-label",describedby:"dns-blurb",id:"dns",name:"dns",gdprCount:0})),e.children)};var ys;ws.displayName="CCPAPreferencesCCPAOnly",function(e){e[e.GDPR_EMBEDDED=0]="GDPR_EMBEDDED",e[e.CCPA_ONLY=1]="CCPA_ONLY"}(ys||(ys={}));const Ss=e=>{const t=C.createElement(ht,{enrollmentState:e.enrollmentState,email:e.email,handleEmailChange:e.handleEmailChange,userEmails:e.userEmails,verifiedEmails:e.verifiedEmails,unverifiedEmails:e.unverifiedEmails});let n;n=e.displayVariant===ys.GDPR_EMBEDDED?C.createElement(Es,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,onCookieFAQLinkClick:e.onCookieFAQLinkClick},t):C.createElement(ws,{checked:e.checked,disabled:e.disabled,onChange:e.onChange,onCookieFAQLinkClick:e.onCookieFAQLinkClick},t);const r=e.enrollmentState===x.EnrollmentPendingEmailVerificationSent||e.enrollmentState===x.EnrollmentPendingAccountVerificationSent;return C.createElement(C.Fragment,null,e.gpcEnabled&&C.createElement(bs,null),n,e.isFlowComplete&&C.createElement(us,{type:"attention"},C.createElement(us.Message,null,r?_s:vs)))};Ss.displayName="CCPAPreferences";const Ts={id:"w66F93",defaultMessage:"Categories"},xs={id:"8JKczD",defaultMessage:"Strictly Necessary"},Cs={id:"xXrEoN",defaultMessage:"Cookies that are used to operate the website and services, such as to log you in and keep your account secure."},Ns={id:"UsqM4D",defaultMessage:"General Marketing and Advertising"},ks={id:"bAd1ZE",defaultMessage:"Cookies that are used by Dropbox and our partners to better understand the types of individuals who are interested in our products and services and how we can promote those services based on that information."},Os={id:"ekVM/q",defaultMessage:"Social Media Advertising"},Is={id:"nxal8t",defaultMessage:"Cookies that are used by Dropbox and our partners to understand the effectiveness of our advertisements on social media services. These cookies also help them understand your advertising preferences so they can more effectively show you our advertisements which are relevant to your interests."},As={id:"jqNTx9",defaultMessage:"Analytics"},Rs={id:"ZqHM1c",defaultMessage:"Cookies that help us and our partners understand how our websites are engaged with, such as usage statistics or to reconstruct viewed UI elements, in order to improve and customize our services."},Ls={id:"birN7L",defaultMessage:"Performance and Functionality"},Ds={id:"7MTBdr",defaultMessage:"Cookies which help us remember your preferences and settings in order to improve your experience when interacting with our sites and services."},Ms={id:"KNW3g/",defaultMessage:"Cancel"},Ps={id:"r50p0h",defaultMessage:"Save Preferences"},Us={id:"Wo8/gx",defaultMessage:"Update cookie preferences"},Fs={id:"NIyD8N",defaultMessage:"Send Verification"},Bs="all_categories",js="strictly_necessary_inactive",zs="general_marketing_and_advertising",Gs="social_media_marketing",qs="analytics",Vs="performance_and_functionality",$s=e=>{return C.createElement(C.Fragment,null,C.createElement(ms,Object.assign({},e,{checked:e.allGdprToggle,disabled:e.disabled,onChange:e.onChange,title:h.intl.formatMessage(Ts),id:Bs,blurb:"",buttonLabel:(t=h.intl,n=e.gdprCount,t.formatMessage({id:"+mECBN",defaultMessage:"{num} of 4 allowed"},{num:n})),titleClassName:"prefdiag-categoryheader",descClassName:"prefdiag-categorydesc"})),C.createElement(ms,Object.assign({},e,{checked:e.strictlyToggle,disabled:!0,onChange:e.onChange,title:h.intl.formatMessage(xs),id:js,blurb:h.intl.formatMessage(Cs),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),C.createElement(ms,Object.assign({},e,{checked:e.generalToggle,disabled:e.disabled,onChange:e.onChange,title:h.intl.formatMessage(Ns),id:zs,blurb:h.intl.formatMessage(ks),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),C.createElement(ms,Object.assign({},e,{checked:e.socialToggle,disabled:e.disabled,onChange:e.onChange,title:h.intl.formatMessage(Os),id:Gs,blurb:h.intl.formatMessage(Is),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),C.createElement(ms,Object.assign({},e,{checked:e.analyticsToggle,disabled:e.disabled,onChange:e.onChange,title:h.intl.formatMessage(As),id:qs,blurb:h.intl.formatMessage(Rs),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})),C.createElement(ms,Object.assign({},e,{checked:e.performanceToggle,disabled:e.disabled,onChange:e.onChange,title:h.intl.formatMessage(Ls),id:Vs,blurb:h.intl.formatMessage(Ds),buttonLabel:"",titleClassName:"prefdiag-header",descClassName:"prefdiag-categorydesc"})));var t,n};$s.displayName="GDPRPreferences";"dropbox.com".split(".").length;const Ws=C.createContext({document:document,window:window});var Hs;!function(e){e.LOADING="loading",e.SUCCESS="success",e.FAILED="failed",e.FORCE_RENDERED="force-rendered"}(Hs||(Hs={}));var Ks=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var l=s[c];if(!a(l))return!1;var d=e[l],u=t[l];if(!1===(i=n?n.call(r,d,u,l):void 0)||void 0===i&&d!==u)return!1}return!0},Js=p.getDefaultExportFromCjs(Ks);function Ys(e){function t(e,r,c,l,p){for(var m,h,f,g,E,y=0,S=0,T=0,x=0,C=0,R=0,D=f=m=0,P=0,U=0,F=0,B=0,j=c.length,z=j-1,G="",q="",V="",$="";P<j;){if(h=c.charCodeAt(P),P===z&&0!==S+x+T+y&&(0!==S&&(h=47===S?10:47),x=T=y=0,j++,z++),0===S+x+T+y){if(P===z&&(0<U&&(G=G.replace(u,"")),0<G.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:G+=c.charAt(P)}h=59}switch(h){case 123:for(m=(G=G.trim()).charCodeAt(0),f=1,B=++P;P<j;){switch(h=c.charCodeAt(P)){case 123:f++;break;case 125:f--;break;case 47:switch(h=c.charCodeAt(P+1)){case 42:case 47:e:{for(D=P+1;D<z;++D)switch(c.charCodeAt(D)){case 47:if(42===h&&42===c.charCodeAt(D-1)&&P+2!==D){P=D+1;break e}break;case 10:if(47===h){P=D+1;break e}}P=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;P++<z&&c.charCodeAt(P)!==h;);}if(0===f)break;P++}if(f=c.substring(B,P),0===m&&(m=(G=G.replace(d,"").trim()).charCodeAt(0)),64===m){switch(0<U&&(G=G.replace(u,"")),h=G.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=A}if(B=(f=t(r,U,f,h,p+1)).length,0<L&&(E=a(3,f,U=n(A,G,F),r,k,N,B,h,p,l),G=U.join(""),void 0!==E&&0===(B=(f=E.trim()).length)&&(h=0,f="")),0<B)switch(h){case 115:G=G.replace(w,o);case 100:case 109:case 45:f=G+"{"+f+"}";break;case 107:f=(G=G.replace(_,"$1 $2"))+"{"+f+"}",f=1===I||2===I&&s("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=G+f,112===l&&(q+=f,f="")}else f=""}else f=t(r,n(r,G,F),f,l,p+1);V+=f,f=F=U=D=m=0,G="",h=c.charCodeAt(++P);break;case 125:case 59:if(1<(B=(G=(0<U?G.replace(u,""):G).trim()).length))switch(0===D&&(m=G.charCodeAt(0),45===m||96<m&&123>m)&&(B=(G=G.replace(" ",":")).length),0<L&&void 0!==(E=a(1,G,r,e,k,N,q.length,l,p,l))&&0===(B=(G=E.trim()).length)&&(G="\0\0"),m=G.charCodeAt(0),h=G.charCodeAt(1),m){case 0:break;case 64:if(105===h||99===h){$+=G+c.charAt(P);break}default:58!==G.charCodeAt(B-1)&&(q+=i(G,m,h,G.charCodeAt(2)))}F=U=D=m=0,G="",h=c.charCodeAt(++P)}}switch(h){case 13:case 10:47===S?S=0:0===1+m&&107!==l&&0<G.length&&(U=1,G+="\0"),0<L*M&&a(0,G,r,e,k,N,q.length,l,p,l),N=1,k++;break;case 59:case 125:if(0===S+x+T+y){N++;break}default:switch(N++,g=c.charAt(P),h){case 9:case 32:if(0===x+y+S)switch(C){case 44:case 58:case 9:case 32:g="";break;default:32!==h&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===x+S+y&&(U=F=1,g="\f"+g);break;case 108:if(0===x+S+y+O&&0<D)switch(P-D){case 2:112===C&&58===c.charCodeAt(P-3)&&(O=C);case 8:111===R&&(O=R)}break;case 58:0===x+S+y&&(D=P);break;case 44:0===S+T+x+y&&(U=1,g+="\r");break;case 34:case 39:0===S&&(x=x===h?0:0===x?h:x);break;case 91:0===x+S+T&&y++;break;case 93:0===x+S+T&&y--;break;case 41:0===x+S+y&&T--;break;case 40:if(0===x+S+y){if(0===m)if(2*C+3*R==533);else m=1;T++}break;case 64:0===S+T+x+y+D+f&&(f=1);break;case 42:case 47:if(!(0<x+y+T))switch(S){case 0:switch(2*h+3*c.charCodeAt(P+1)){case 235:S=47;break;case 220:B=P,S=42}break;case 42:47===h&&42===C&&B+2!==P&&(33===c.charCodeAt(B+2)&&(q+=c.substring(B,P+1)),g="",S=0)}}0===S&&(G+=g)}R=C,C=h,P++}if(0<(B=q.length)){if(U=r,0<L&&(void 0!==(E=a(2,q,U,e,k,N,B,l,p,l))&&0===(q=E).length))return $+q+V;if(q=U.join(",")+"{"+q+"}",0!=I*O){switch(2!==I||s(q,2)||(O=0),O){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}O=0}}return $+q+V}function n(e,t,n){var i=t.trim().split(f);t=i;var s=i.length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<s;++a)t[a]=r(e,t[a],n).trim();break;default:var c=a=0;for(t=[];a<s;++a)for(var l=0;l<o;++l)t[c++]=r(e[l]+" ",i[a],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",a=2*t+3*n+4*r;if(944===a){e=o.indexOf(":",9)+1;var c=o.substring(e,o.length-1).trim();return c=o.substring(0,e).trim()+c+";",1===I||2===I&&s(c,1)?"-webkit-"+c+c:c}if(0===I||2===I&&!s(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(c=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+c+o;case 1005:return m.test(o)?o.replace(p,":-webkit-")+o.replace(p,":-moz-")+o:o;case 1e3:switch(t=(c=o.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=o.replace(E,"tb");break;case 232:c=o.replace(E,"tb-rl");break;case 220:c=o.replace(E,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+c+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(c=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:o=o.replace(c,"-webkit-"+c)+";"+o;break;case 207:case 102:o=o.replace(c,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(c,"-webkit-"+c)+";"+o.replace(c,"-ms-"+c+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return c=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+c+"-ms-flex-"+c+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(c,"-webkit-"+c)+o.replace(c,"-moz-"+c.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function s(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(T,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(y," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,s,o,a,c,d){for(var u,p=0,m=t;p<L;++p)switch(u=R[p].call(l,e,m,n,r,i,s,o,a,c,d)){case void 0:case!1:case!0:case null:break;default:m=u}if(m!==t)return m}function c(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?I=1:(I=2,D=e):I=0),c}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<L){var i=a(-1,n,r,r,k,N,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var s=t(A,r,n,0,0);return 0<L&&(void 0!==(i=a(-2,s,r,r,k,N,s.length,0,0,0))&&(s=i)),"",O=0,N=k=1,s}var d=/^\0+/g,u=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,_=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,y=/([\s\S]*?);/g,S=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,N=1,k=1,O=0,I=1,A=[],R=[],L=0,D=null,M=0;return l.use=function e(t){switch(t){case void 0:case null:L=R.length=0;break;default:if("function"==typeof t)R[L++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},l.set=c,void 0!==e&&c(e),l}var Xs={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Zs=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Qs=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return Zs.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var to=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},no=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!h.reactIsExports.typeOf(e)},ro=Object.freeze([]),io=Object.freeze({});function so(e){return"function"==typeof e}function oo(e){return e.displayName||e.name||"Component"}function ao(e){return e&&"string"==typeof e.styledComponentId}var co="data-styled",lo="undefined"!=typeof window&&"HTMLElement"in window,uo="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||"undefined"!=typeof process&&void 0||!1,po=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null};function mo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ho=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(co))return r}}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(co,"active"),r.setAttribute("data-styled-version","5.2.0");var o=po();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},fo=function(){function e(e){var t=this.element=ho(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}mo(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),go=function(){function e(e){var t=this.element=ho(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),_o=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),vo=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&mo(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=0,c=t.length;a<c;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+=this.tag.getRule(s)+"/*!sc*/\n";return t},e}(),bo=new Map,Eo=new Map,wo=1,yo=function(e){if(bo.has(e))return bo.get(e);var t=wo++;return bo.set(e,t),Eo.set(t,e),t},So=function(e){return Eo.get(e)},To=function(e,t){t>=wo&&(wo=t+1),bo.set(e,t),Eo.set(t,e)},xo="style["+co+'][data-styled-version="5.2.0"]',Co=new RegExp("^"+co+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),No=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},ko=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(Co);if(a){var c=0|parseInt(a[1],10),l=a[2];0!==c&&(To(l,c),No(e,l,a[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},Oo=lo,Io={isServer:!lo,useCSSOMInjection:!uo},Ao=function(){function e(e,t,n){void 0===e&&(e=Io),void 0===t&&(t={}),this.options=eo({},Io,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&lo&&Oo&&(Oo=!1,function(e){for(var t=document.querySelectorAll(xo),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(co)&&(ko(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return yo(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(eo({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new _o(i):r?new fo(i):new go(i),new vo(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(yo(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(yo(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(yo(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var s=So(i);if(void 0!==s){var o=e.names.get(s),a=t.getGroup(i);if(void 0!==o&&0!==a.length){var c=co+".g"+i+'[id="'+s+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+a+c+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ro=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Lo=function(e){return Ro(5381,e)},Do=/^\s*\/\/.*$/gm,Mo=[":","[",".","#"];function Po(e){var t,n,r,i,s=void 0===e?io:e,o=s.options,a=void 0===o?io:o,c=s.plugins,l=void 0===c?ro:c,d=new Ys(a),u=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,s,o,a,c,l,d,u){switch(n){case 1:if(0===d&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===u?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){u.push(e)})),m=function(e,r,s){return 0===r&&Mo.includes(s[n.length])||s.match(i)?e:"."+t};function h(e,s,o,a){void 0===a&&(a="&");var c=e.replace(Do,""),l=s&&o?o+" "+s+" { "+c+" }":c;return t=a,n=s,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(o||!s?"":s,l)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,m))},p,function(e){if(-2===e){var t=u;return u=[],t}}])),h.hash=l.length?l.reduce((function(e,t){return t.name||mo(15),Ro(e,t.name)}),5381).toString():"",h}var Uo=C.default.createContext();Uo.Consumer;var Fo=C.default.createContext(),Bo=(Fo.Consumer,new Ao),jo=Po();function zo(){return n.useContext(Uo)||Bo}function Go(e){var t=n.useState(e.stylisPlugins),r=t[0],i=t[1],s=zo(),o=n.useMemo((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),a=n.useMemo((function(){return Po({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return n.useEffect((function(){Js(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),C.default.createElement(Uo.Provider,{value:o},C.default.createElement(Fo.Provider,{value:a},e.children))}var qo=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=jo);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return mo(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=jo),this.name+e.hash},e}(),Vo=/([A-Z])/,$o=new RegExp(Vo,"g"),Wo=/^ms-/,Ho=function(e){return"-"+e.toLowerCase()};function Ko(e){return Vo.test(e)?e.replace($o,Ho).replace(Wo,"-ms-"):e}var Jo=function(e){return null==e||!1===e||""===e};function Yo(e,t,n,r){if(Array.isArray(e)){for(var i,s=[],o=0,a=e.length;o<a;o+=1)""!==(i=Yo(e[o],t,n,r))&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}return Jo(e)?"":ao(e)?"."+e.styledComponentId:so(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:Yo(e(t),t,n,r):e instanceof qo?n?(e.inject(n,r),e.getName(r)):e:no(e)?function e(t,n){var r,i,s=[];for(var o in t)t.hasOwnProperty(o)&&!Jo(t[o])&&(no(t[o])?s.push.apply(s,e(t[o],o)):so(t[o])?s.push(Ko(o)+":",t[o],";"):s.push(Ko(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Xs?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(s,["}"]):s}(e):e.toString();var c}function Xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return so(e)||no(e)?Yo(to(ro,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Yo(to(e,n))}var Zo=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Qo=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ea(e,t,n){var r=e[n];Zo(t)&&Zo(r)?ta(r,t):e[n]=t}function ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(Zo(o))for(var a in o)Qo(a)&&ea(e,o[a],a)}return e}var na=/(a)(d)/gi,ra=function(e){return String.fromCharCode(e+(e>25?39:97))};function ia(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ra(t%52)+n;return(ra(t%52)+n).replace(na,"$1-$2")}function sa(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(so(n)&&!ao(n))return!1}return!0}var oa=Lo("5.2.0"),aa=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&sa(e),this.componentId=t,this.baseHash=Ro(oa,t),this.baseStyle=n,Ao.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var s=Yo(this.rules,e,t,n).join(""),o=ia(Ro(this.baseHash,s.length)>>>0);if(!t.hasNameForId(r,o)){var a=n(s,"."+o,void 0,r);t.insertRules(r,o,a)}i.push(o),this.staticRulesId=o}else{for(var c=this.rules.length,l=Ro(this.baseHash,n.hash),d="",u=0;u<c;u++){var p=this.rules[u];if("string"==typeof p)d+=p;else if(p){var m=Yo(p,e,t,n),h=Array.isArray(m)?m.join(""):m;l=Ro(l,h+u),d+=h}}if(d){var f=ia(l>>>0);if(!t.hasNameForId(r,f)){var g=n(d,"."+f,void 0,r);t.insertRules(r,f,g)}i.push(f)}}return i.join(" ")},e}(),ca=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,la=/(^-|-$)/g;function da(e){return e.replace(ca,"-").replace(la,"")}function ua(e){return"string"==typeof e&&!0}var pa=C.default.createContext();pa.Consumer;var ma={};function ha(e,t,r){var i=ao(e),s=!ua(e),o=t.displayName,a=void 0===o?function(e){return ua(e)?"styled."+e:"Styled("+oo(e)+")"}(e):o,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":da(e);ma[n]=(ma[n]||0)+1;var r=n+"-"+function(e){return ia(Lo(e)>>>0)}("5.2.0"+n+ma[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,d=t.attrs,u=void 0===d?ro:d,p=t.displayName&&t.componentId?da(t.displayName)+"-"+t.componentId:t.componentId||l,m=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,f=t.shouldForwardProp;i&&e.shouldForwardProp&&(f=f?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var g,_=new aa(r,p,i?e.componentStyle:void 0),v=function(e,t){return function(e,t,r){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,d=e.target,u=function(e,t,n){void 0===e&&(e=io);var r=eo({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,s,o=e;for(t in so(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],s=o[t],n&&s?n+" "+s:n||s):o[t]})),[r,i]}(function(e,t,n){return void 0===n&&(n=io),e.theme!==n.theme&&e.theme||t||n.theme}(t,n.useContext(pa),o)||io,t,i),p=u[0],m=u[1],h=function(e,t,r,i){var s=zo(),o=n.useContext(Fo)||jo;return e.isStatic&&!t?e.generateAndInjectStyles(io,s,o):e.generateAndInjectStyles(r,s,o)}(s,i.length>0,p),f=r,g=m.$as||t.$as||m.as||t.as||d,_=ua(g),v=m!==t?eo({},t,{},m):t,b=c||_&&Qs,E={};for(var w in v)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?E.as=v[w]:b&&!b(w,Qs)||(E[w]=v[w]));return t.style&&m.style!==t.style&&(E.style=eo({},t.style,{},m.style)),E.className=Array.prototype.concat(a,l,h!==l?h:null,t.className,m.className).filter(Boolean).join(" "),E.ref=f,n.createElement(g,E)}(g,e,t)};return v.displayName=a,(g=C.default.forwardRef(v)).attrs=m,g.componentStyle=_,g.displayName=a,g.shouldForwardProp=f,g.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ro,g.styledComponentId=p,g.target=i?e.target:e,g.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),s=n&&n+"-"+(ua(e)?e:da(oo(e)));return ha(e,eo({},i,{attrs:m,componentId:s}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?ta({},e.defaultProps,t):t}}),g.toString=function(){return"."+g.styledComponentId},s&&h.y(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var fa=function(e){return function e(t,n,r){if(void 0===r&&(r=io),!h.reactIsExports.isValidElementType(n))return mo(1,String(n));var i=function(){return t(n,r,Xo.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,eo({},r,{},i))},i.attrs=function(i){return e(t,n,eo({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(ha,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){fa[e]=fa(e)})),function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=sa(e),Ao.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(Yo(this.rules,t,n,r).join(""),""),s=this.componentId+e;n.insertRules(s,s,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ao.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=po();return"<style "+[n&&'nonce="'+n+'"',co+'="true"','data-styled-version="5.2.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?mo(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return mo(2);var n=((t={})[co]="",t["data-styled-version"]="5.2.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=po();return r&&(n.nonce=r),[C.default.createElement("style",eo({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ao({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?mo(2):C.default.createElement(Go,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return mo(3)}}();var ga=fa;const _a={default:"rgb(247, 245, 242)",hover:"#0061ff"},va={default:"rgb(30, 25, 25)",hover:"#0061ff"},ba=ga.button`
  background-color: ${e=>_a.default};
  color: black;
  padding: 9px 20px;
  border-radius: 1px;
  outline: 0;
  text-transform: capitalize;
  cursor: pointer;
  box-shadow: 0px 2px 2px lightgray;
  transition: ease background-color 150ms;
  font-size: 18px;
  border: 1px solid rgb(0, 0, 0);
  line-height: 26px;
  flex-direction: column;
  font-weight: 500px;
  display: inline-block;
  &:hover {
    background-color: ${e=>_a.hover};
    color: white;
  }
  &:disabled {
    cursor: default;
    opacity: 0.7;
  }
`,Ea=ga.button`
  background-color: ${e=>va.default};
  color: white;
  padding: 9px 20px;
  border-radius: 1px;
  outline: 0;
  text-transform: capitalize;
  margin-left: 16px;
  cursor: pointer;
  box-shadow: 0px 2px 2px lightgray;
  transition: ease background-color 150ms;
  font-size: 18px;
  border: 1px solid rgb(0, 0, 0);
  line-height: 26px;
  flex-direction: column;
  font-weight: 500px;
  display: inline-block;
  &:hover:enabled {
    background-color: ${e=>va.hover};
  }
  &:disabled {
    cursor: default;
    opacity: 0.25;
  }
`,wa=e=>C.createElement("div",{className:"button-footer"},C.createElement(ba,{disabled:!1,onClick:()=>e.onChange(!1),id:"consent-detailed-view-cancel-button","data-uxa-log":"privacy_consent_detailed_view_cancel_button"},e.declineButtonText),C.createElement(Ea,{disabled:e.disabled,onClick:()=>e.onChange(!0),id:"consent-detailed-view-save-button","data-uxa-log":"privacy_consent_detailed_view_save_button"},e.acceptButtonText));wa.displayName="PreferencesButton";const ya="ccpa_consent_banner",Sa="accept_all_cookies_button",Ta="decline_cookies_button",xa=e=>{const t=h.intl.formatMessage({id:"Z0ME6Q",defaultMessage:"We use cookies to provide, improve, protect and promote our services. Visit our <privacy>Privacy Policy</privacy> and <faq>Privacy Policy FAQs</faq> to learn more. You can manage your personal preferences, including your Do not sell or share my personal data to third parties setting in our <tool>Cookie Consent Tool</tool>."},{privacy:t=>C.default.createElement("button",{id:"privacy-page-link",onClick:e.onPrivacyPageLinkClick,"data-uxa-log":"privacy_consent_banner_privacy_page_link"},t),faq:t=>C.default.createElement("button",{id:"privacy-policy-faq-link",onClick:e.onPrivacyPolicyFaqLinkClick,"data-uxa-log":"privacy_consent_banner_privacy_policy_faq_link"},t),tool:t=>C.default.createElement("button",{id:"manage-consent-cookies-link",onClick:e.onSettingsClick,"data-uxa-log":"privacy_consent_banner_detailed_view_link"},t)});return n.useEffect((()=>{e.onConsentBannerLoad()})),C.default.createElement(C.default.Fragment,null,C.default.createElement(Aa,{id:ya,"data-uxa-log":"privacy_consent_banner","data-uxa-interactions":"shown click"},C.default.createElement(Ra,null,t),C.default.createElement(La,Object.assign({},e,{id:Ta,onClick:t=>{e.onClick(Ta)},"data-uxa-log":"privacy_consent_banner_decline_all_button"}),Ca),C.default.createElement(Da,Object.assign({},e,{id:Sa,onClick:t=>{e.onClick(Sa)},"data-uxa-log":"privacy_consent_banner_accept_all_button"}),Na)))};xa.displayName="ConsentBanner";const Ca=h.intl.formatMessage({id:"TrrEUN",defaultMessage:"Decline"}),Na=h.intl.formatMessage({id:"OyAa/t",defaultMessage:"Accept All"}),ka=ga.div`
  width: auto;
  display: flex;
  flex: 1 1 0%;
  background: rgb(247, 245, 242);
  font-size: 14px;
  color: rgb(51, 51, 51);
  padding: 24px;
  z-index: 10001;
  box-sizing: border-box;
  position: fixed;
  left: 20px;
  right: 20px;
  bottom: 10px;
  text-size-adjust: 100%;
  visibility: visible;
  max-height: 100%;
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.102); /* Gives container elevation */

  @media (max-width: 601px) {
    flex-direction: column;
    padding: 0px 24px;
  }
`,Oa=ga.div`
  width: auto;
  display: flex;
  flex: 1 1 0%;
  background: rgb(247, 245, 242);
  font-size: 14px;
  color: rgb(51, 51, 51);
  padding: 24px;
  z-index: 10001;
  box-sizing: border-box;
  position: fixed;
  left: 20px;
  right: 20px;
  bottom: 10px;
  text-size-adjust: 100%;
  visibility: visible;
  top: 0px;
  max-height: 100%;
  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.102); /* Gives container elevation */

  @media (max-width: 601px) {
    flex-direction: column;
    padding: 0px 24px;
  }
`,Ia=navigator.userAgent.toLowerCase(),Aa=Ia.includes("iphone")||Ia.includes("ipod")?Oa:ka,Ra=ga.div`
  margin-right: 48px;
  color: rgb(30, 25, 25);
  font-size: 12px;
  font-weight: 400;
  line-height: 16px;
  text-align: left;
  width: 100%;
  align-self: center;

  @media (max-width: 601px) {
    padding: 24px 0px;
    margin-right: 0px;
  }
`,La=ga.button`
  display: flex;
  flex-flow: column nowrap;
  flex-shrink: 0;
  justify-content: center;
  align-self: center;
  border: 1px solid rgb(30, 25, 25);
  background: rgb(247, 245, 242);
  color: rgb(30, 25, 25);
  padding: 9px 20px;
  cursor: pointer;
  font-size: 16px;
  line-height: 26px;
  order: 2;
  &:hover {
    background-color: var(--color_primary--light) !important;
    border: 1px solid var(--color_primary--light) !important;
    color: #fff !important;
  }
  @media (max-width: 601px) {
    width: 100%;
    margin: 5px;
    align-items: center;
  }
`,Da=ga.button`
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-self: center;
  flex-shrink: 0;
  border: 1px solid rgb(30, 25, 25);
  color: rgb(250, 250, 250);
  background: rgb(30, 25, 25);
  padding: 9px 20px;
  cursor: pointer;
  margin: 0px 0px 0px 16px;
  font-size: 16px;
  line-height: 26px;
  order: 3;
  &:hover {
    background-color: var(--color_primary--light) !important;
    border: 1px solid var(--color_primary--light) !important;
    color: #fff !important;
  }
  @media (max-width: 601px) {
    width: 100%;
    margin: 5px;
    align-items: center;
  }
`,Ma="__Secure-dbx_consent",Pa="__Secure-dbx_ccpa_token",Ua="__Secure-dbx_do_not_sell",Fa=Ua+"_dev_",Ba="Domain",ja="Path",za="Expires",Ga="Secure",qa="SameSite",Va="None",$a=new Set([Ma,Ua,Pa]);function Wa(e){return(function(e){try{return String(document.cookie||"").split(";").map((e=>e.split("="))).map((e=>e.length>1?e:["",e[0]])).map((e=>[e[0],e.slice(1).join("=")].map((e=>e.replace(/^[ \t]+|[ \t]+$/g,""))))).map((([e,t])=>({name:e,value:t}))).filter((({name:t,value:n})=>t+n&&(void 0===e||t===e)))}catch(e){return[]}}(e)[0]||{name:e,value:""}).value}var Ha,Ka;function Ja(e,t,n,r,i){(e=>!!$a.has(e)||!!e.startsWith(Fa))(t)&&(document.cookie=function(e,t,n,r,i){const s={[Ba]:e,[ja]:"/",[za]:r,[qa]:i||Va,[Ga]:""},o=[[t,JSON.stringify(n).replace(/[;]|[^ -~]/g,(e=>"\\u"+(65536+e.charCodeAt(0)).toString(16).substring(1)))],...Object.keys(s).map((e=>[e,s[e]]))].map((([e,t])=>t?`${e}=${t}`:`${e}`));return o.join(";")}(e,t,n,r,i))}!function(e){e[e.OptIn=1]="OptIn"}(Ha||(Ha={})),function(e){e.StrictlyNecessary="strictly necessary",e.MarketingAdvertising="general marketing and advertising",e.Analytics="analytics",e.PerformanceFunctionality="performance and functionality",e.SocialMediaAdvertising="social media advertising",e.AllCookies="all"}(Ka||(Ka={}));const Ya={cookieDomain:"dropbox.com",consentDurationMonths:6};class Xa{constructor(e,t){const n=Object.assign(Object.assign({},Ya),e);this.cookieDomain=n.cookieDomain,this.consentDurationMonths=n.consentDurationMonths,this.numDots=n.cookieDomain.split(".").length-1,this.log=t}hasUserInteracted(){var e;return!!(null===(e=this.getCurrentCookieObj(Ma))||void 0===e?void 0:e.userInteracted)}bakeShadowCookie(e){const t=new Date(e.expireDate).toUTCString();Ja(this.cookieDomain,Ma,e,t,Va)}bakeDNSCookie(e){const t=new Date(e.expireDate).toUTCString();Ja(this.cookieDomain,Ua,e,t)}bakeCCPATokenCookie(e){const t=new Date(e.expireDate).toUTCString();Ja(this.cookieDomain,Pa,e,t)}createShadowCookieValue(e,t){const n=this.getCurrentCookieObj(Ma),r=!!n.userInteracted,i=!(!r&&t)&&n.consentDate?new Date(n.consentDate):new Date,s=new Date(i);return s.setMonth(i.getMonth()+this.consentDurationMonths),{consentType:Ha.OptIn,consentDate:i.toISOString(),expireDate:s.toISOString(),consentMonths:this.consentDurationMonths,categories:e,userInteracted:r||t,numDots:this.numDots}}mapCookies(e){var t;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=r.toLowerCase();Object.values(Ka).includes(i)?n[i]=e[r]:null===(t=this.log)||void 0===t||t.logInvalidCookieCategoryException(i)}return n}havePreferencesChanged(e){var t;const n=this.getCurrentCookieObj(Ma);if(n)try{const t=JSON.stringify(n.categories);return JSON.stringify(e)!==t}catch(e){return null===(t=this.log)||void 0===t||t.logCookieParseException(Ma,Wa(Ma)),!1}return!0}getAllowedCategories(e){const t=e||this.getCurrentCookieObj(Ma),n=null==t?void 0:t.categories,r=Object.keys(Ka);let i=[];return n&&(n[Ka.AllCookies]?i=[...r]:r.forEach((e=>{n[Ka[e]]&&i.push(e)}))),i}getAllowedCategoriesMap(e){const t=e||this.getCurrentCookieObj(Ma),n=null==t?void 0:t.categories,r={};return n&&Object.keys(Ka).forEach((e=>{const t=Ka[e];t!==Ka.AllCookies&&(r[t]=t===Ka.StrictlyNecessary||!!n[t])})),r}onlyStrictlyNecessaryConsent(e){const t=Object.entries(e).filter((([e,t])=>!0===t)).map((([e])=>e));if(t.length<1)throw new Error("malformed consent categories map, at least this category should be allowed: "+Ka.StrictlyNecessary);return 1===t.length&&t[0]===Ka.StrictlyNecessary}clearDNSCookie(){const e=new Date,t={[Ba]:this.cookieDomain,[ja]:"/",[za]:e.toUTCString(),[qa]:Va,[Ga]:""},n=Object.keys(t).map((e=>void 0!==t[e]?`${e}=${t[e]}`:`${e}`));document.cookie=Ua+"=; "+n.join(";")}getCurrentCookieObj(e){var t;const n=Wa(e);if(n)try{return JSON.parse(n)}catch(r){return null===(t=this.log)||void 0===t||t.logCookieParseException(e,n),null}return{}}splitPair(e){const t=e.indexOf("=");let n=[e,""];return t>=0&&(n=[e.slice(0,t),e.slice(t+1)]),n=n.map((e=>e.replace(/^[ \t]*|[ \t]*$/g,""))),[n[0],n[1]]}hasPreviouslyDeclinedConsent(){if(!this.hasUserInteracted())return!1;const e=this.getCurrentCookieObj(Ma);return e&&e.categories&&0===Object.keys(e.categories).length}}const Za="ccpa-reentry-popout-button",Qa="ccpa-reentry-popout-toggle",ec="ccpa-reentry-popout-container",tc=e=>C.createElement(C.Fragment,null,C.createElement(sc,{id:ec,"data-uxa-log":"privacy_consent_reentry_button","data-uxa-interactions":"shown click"},!e.isCollapsed&&C.createElement(C.Fragment,null,C.createElement(rc,Object.assign({},e,{id:Za,onClick:t=>{e.onClick(Za,t)},"data-uxa-log":"privacy_consent_reentry_button_into_detailed_view"}),nc)),C.createElement(ic,{id:Qa,onClick:t=>{e.onClick(Qa,t)},"data-uxa-log":e.isCollapsed?"privacy_consent_reentry_button_expand":"privacy_consent_reentry_button_collapse"},e.isCollapsed?C.createElement(C.Fragment,null,"  "):C.createElement(C.Fragment,null,"  "))));tc.displayName="CcpaReentryPopout";const nc=h.intl.formatMessage({id:"43UMTR",defaultMessage:"Cookies & CCPA preferences"}),rc=ga.button`
  padding: 12px 9px;
  cursor: pointer;
  text-decoration: none;
  background: rgb(255, 255, 255);
  font-size: 12px;
  line-height: 16px;
  color: rgb(102, 102, 102);
  border-top: 1px solid rgba(166, 158, 146, 0.6);
  border-right: 1px solid rgba(166, 158, 146, 0.6);
  border-bottom: 1px solid rgba(166, 158, 146, 0.6);
  border-image: initial;
  border-left: none;
  margin: 0px 0px 16px;
  white-space: nowrap;
  display: inline-block;
  visibility: visible;
`,ic=ga.button`
  padding: 12px 5px;
  cursor: pointer;
  text-decoration: none;
  background: rgb(255, 255, 255);
  font-size: 12px;
  line-height: 16px;
  color: rgb(102, 102, 102);
  border-top: 1px solid rgba(166, 158, 146, 0.6);
  border-right: 1px solid rgba(166, 158, 146, 0.6);
  border-bottom: 1px solid rgba(166, 158, 146, 0.6);
  border-image: initial;
  border-left: none;
  margin: 0px 0px 16px;
  white-space: nowrap;
  display: inline-block;
  visibility: visible;
`,sc=ga.div`
  display: inline-block;
  float: bottom;
  position: fixed;
  bottom: 0;
`,oc=()=>{const e=cc.get("parent_domain_dns_cookie");return!!e&&"null"!==e},ac=()=>{const e=cc.get("csrf_origin");return null!==e&&!String(e).endsWith(".dropbox.com")},cc=new URLSearchParams(window.location.search),lc=h.intl.formatMessage({id:"MURQNI",defaultMessage:"Success! Do not sell or share my personal information is now active."}),dc=h.intl.formatMessage({id:"T6SVre",defaultMessage:"Success! Settings are saved."}),uc=h.intl.formatMessage({id:"6w278K",defaultMessage:"Something went wrong! Try again later."}),pc="settings",mc="floating_button",hc="floating_button_closed",fc="banner",gc="nothing",_c=e=>{const{consentIframeOrigin:t,dnsState:r,userEmails:i,verifiedEmails:s,unverifiedEmails:o,loggingContext:a,ccpaToken:c,isGpcEnabled:l,localizedTextOverrides:d,csrfToken:u}=e,p=r===y.LOGGED_IN_ENROLLED||r===y.LOGGED_IN_NOT_ENROLLED||r===y.LOGGED_IN_EMAIL_PENDING,f="true"===cc.get("hide_gdpr"),g=l||navigator.globalPrivacyControl,_="true"===cc.get("should_disable_banner")||g||r>2,v="true"===cc.get("should_auto_open_options"),b=cc.get("parent_domain_consent_cookie"),E=b?JSON.parse(decodeURIComponent(b)):void 0,w=new Xa({}),S=E?E.userInteracted:w.hasUserInteracted(),T=navigator.userAgent.toLowerCase(),N=T.includes("iphone")||T.includes("ipod"),k=n.useRef(null);n.useEffect((()=>{const e=(e=>e===x.EnrolledAccount||e===x.EnrollmentPendingAccountConfirmation)(U)||(e=>e===x.NotEnrolled)(U),n=new Date;if(n.setMonth(n.getMonth()+12),window.parent.postMessage({message_type:"CCPA_IFRAME_INIT",dns_enrolled:M(U),localized_text_overrides:d,expireDate:e?n:null},t),g&&window.parent.postMessage({message_type:"DNS_GPC_SIGNAL"},t),null!=u&&""!==u)try{const e=JSON.parse(atob(u.split(".")[1])).origin;window.top.postMessage({message_type:"CSRF_HANDSHAKE_START",token:u},e)}catch(e){}Ne(L,be)&&(ke(),he(!1)),Ie(),ze(),window.parent.postMessage({message_type:"IFRAME_FINISHED_LOADING"},t)}),[]);const[O,I]=n.useState((()=>"")),[A,R]=n.useState(!1),[L,D]=n.useState((e=>e===y.LOGGED_IN_ENROLLED?x.EnrolledAccount:e===y.LOGGED_IN_EMAIL_PENDING?x.EnrollmentPendingAccountConfirmation:e===y.LOGGED_OUT_ENROLLED?x.EnrolledEmail:e===y.LOGGED_OUT_EMAIL_PENDING?x.EnrollmentPendingEmailConfirmation:e===y.LOGGED_OUT_GPC_ENABLED?x.EnrollmentPendingEmailUIConfirmation:e===y.CROSS_ORIGIN_ENROLLED?x.CrossOriginEnrolled:e===y.ENROLLED_VIA_COOKIES?x.EnrolledViaCookie:x.NotEnrolled)(r)),[U,F]=n.useState(L),[B,j]=n.useState(!1),[z,G]=n.useState({}),[q,V]=n.useState(!1),[$,W]=n.useState(0),[H,K]=n.useState(!1),[J]=n.useState(!0),[Y,X]=n.useState(!1),[Z,Q]=n.useState(!1),[ee,te]=n.useState(!1),[ne,re]=n.useState(!1),[ie,se]=n.useState(!1),[oe,ae]=n.useState(!1),[ce,le]=n.useState(h.intl.formatMessage(Ps)),[de]=n.useState(h.intl.formatMessage(Ms)),[ue,pe]=n.useState(!0),[me,he]=n.useState(!(S||v||g||M(U))),[fe,ge]=n.useState(v||f),[_e,ve]=n.useState(!1),[be]=n.useState(w.getAllowedCategoriesMap(E)),[Ee]=n.useState(w.getAllowedCategoriesMap(E)),we=()=>{const e=M(U),t=Ve(),n=q?u:void 0;e?Ae(e,Fe,O,a,c,n,t):e||Ae(e,Be,O,a,c,n,t)},ye=e=>{if(e.origin===t)switch(e.data.message_type){case"DNS_SETTINGS_CONFIRMED":we();break;case"DNS_SETTINGS_CANCELLED":ae(!1),F(L);break;case"PRIVACY_CONSENT_PAGE_INFO":(e=>{const t={};e.hostname&&(t.hostname=e.hostname),e.foreign_session_id&&(t.foreign_session_id=e.foreign_session_id),e.client_info&&(t.client_info=e.client_info),G(t)})(e.data);break;case"CSRF_HANDSHAKE_END":e.data.token===u&&V(!0);break;case"SHOW_SETTINGS":ge(!0);break;case"ENABLE_AND_SHOW_FLOATING_BUTTON":ve(!0)}};n.useEffect((()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&Se(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[k]),n.useEffect((()=>{xe()}),[t]),n.useEffect((()=>(window.addEventListener("message",ye),()=>{window.removeEventListener("message",ye)})),[U,O,z,q]),n.useEffect((()=>{(B||g)&&(P(U)?window.parent.postMessage({message_type:"DNS_PENDING_ENABLED",logged_in:p},t):(e=>e===x.UnenrollmentPendingEmailUIConfirmation||e===x.UnenrollmentPendingAccountUIConfirmation)(U)?window.parent.postMessage({message_type:"DNS_PENDING_DISABLED"},t):(U===L||((e,t)=>t&&e===x.NotEnrolled)(U,!!g))&&window.parent.postMessage({message_type:"DNS_PENDING_RESET",dns_enabled:M(U)},t))}),[U]),n.useEffect((()=>{(B||g)&&(A?(ae(!1),window.parent.postMessage({message_type:"DNS_EMAIL_VALID"},t)):(ae(!0),window.parent.postMessage({message_type:"DNS_EMAIL_INVALID"},t)))}),[A]);const Se=e=>{e?(Ce(),Me(),L!==U?we():Ue()):Ie(),ge(f)},Te=()=>{var e;if(!N){const n=null===(e=document.getElementById("ccpa_consent_banner"))||void 0===e?void 0:e.offsetHeight;n&&window.parent.postMessage({message_type:"CCPA_IFRAME_RESIZE",height:n+10},t)}},xe=()=>N?void 0:(window.addEventListener("resize",Te),()=>{window.removeEventListener("resize",Te)}),Ce=()=>{U===x.NotEnrolled||U===x.UnenrollmentPendingEmailUIConfirmation||U===x.UnenrollmentPendingAccountUIConfirmation?(be[Ka.StrictlyNecessary]=!0,be[Ka.MarketingAdvertising]=Y,be[Ka.PerformanceFunctionality]=ne,be[Ka.SocialMediaAdvertising]=Z,be[Ka.Analytics]=ee):Pe()},Ne=(e,t)=>Boolean(M(e)&&(0===Object.keys(be).length||!w.onlyStrictlyNecessaryConsent(be))),ke=()=>{Pe(),Me(),Ue(!0)},Ie=()=>{X(Ee.hasOwnProperty(Ka.MarketingAdvertising)&&!0===Ee[Ka.MarketingAdvertising]),re(Ee.hasOwnProperty(Ka.PerformanceFunctionality)&&!0===Ee[Ka.PerformanceFunctionality]),Q(Ee.hasOwnProperty(Ka.SocialMediaAdvertising)&&!0===Ee[Ka.SocialMediaAdvertising]),te(Ee.hasOwnProperty(Ka.Analytics)&&!0===Ee[Ka.Analytics]);let e=0;Object.values(Ka).forEach((t=>{t!==Ka.StrictlyNecessary&&t!==Ka.AllCookies&&Ee.hasOwnProperty(t)&&!0===Ee[t]&&++e})),K(e>0),W(e),F(L),se(L!==x.NotEnrolled),ae(!1),le(h.intl.formatMessage(Ps)),Object.values(Ka).forEach((e=>{be[e]=Ee[e]}))},Re=(e,t,n)=>{if(j(!0),t===Bs)K(e),X(e),Q(e),te(e),re(e),W(e?4:0);else{n=void 0===n?0:n,t===zs?X(e):t===Gs?Q(e):t===qs?te(e):t===Vs&&re(e);const r=e?n+1:n-1;W(r),K(0!==r)}},Le=n.useCallback((e=>{const n={message_type:"DISPLAY_STATE_CHANGED",display_state:e};window.parent.postMessage(n,t)}),[t]);n.useEffect((()=>{var e;fe?(Le(pc),pe(!0),he(!1),null===(e=k.current)||void 0===e||e.focus()):Le(!me||_||fe?!_e||me&&!_||fe?gc:hc:fc)}),[fe,me,_e,_,Le]);const De=()=>{Object.values(Ka).forEach((e=>{e!==Ka.AllCookies&&(be[e]=!0)}))},Me=()=>{Object.values(Ka).forEach((e=>{Ee[e]=be[e]}))},Pe=()=>{Object.values(Ka).forEach((e=>{e!==Ka.AllCookies&&(be[e]=e===Ka.StrictlyNecessary)}))},Ue=e=>{window.parent.postMessage({message_type:"CONSENT_CHANGED_VIA_CCPA",categories:be,should_avoid_reload:e},t)},Fe=e=>{e?m.Notify.success(lc):m.Notify.error(uc),p?(F(x.EnrollmentPendingAccountVerificationSent),D(x.EnrollmentPendingAccountConfirmation)):ac()?(F(x.CrossOriginEnrolled),D(x.CrossOriginEnrolled)):(F(x.EnrollmentPendingEmailVerificationSent),D(x.EnrollmentPendingEmailConfirmation));const n=new Date;n.setMonth(n.getMonth()+12),window.parent.postMessage({message_type:"DNS_ENABLED",logged_in:p,isOptInToDNS:!0,expireDate:n},t),f||Ue()},Be=e=>{e?m.Notify.success(dc):m.Notify.error(uc),F(x.NotEnrolled),D(x.NotEnrolled),window.parent.postMessage({message_type:"DNS_DISABLED"},t),f||Ue()},ze=()=>{window.parent.postMessage({message_type:"CONSENT_CALLBACK",categories:be,callback_type:"PRIOR_CONSENT"},t)},Ge=e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_PRIVACY_PAGE_CLICK"},t)},qe=e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_COOKIE_FAQ_CLICK"},t)},Ve=()=>({opt_in_source:g?Oe.GPC_UI:Oe.USER_INPUT,opt_in_domain:z.hostname,opt_in_client:z.client_info,foreign_session_id:z.foreign_session_id}),$e=h.intl.formatMessage({id:"bYgnak",defaultMessage:"Dropbox uses different categories of cookies to provide, protect, improve, and promote our website and services. Information on these categories and their purposes are described below. For more information please see our <privacy>Privacy Policy</privacy> and <faq>Cookie FAQ page</faq>."},{privacy:e=>C.default.createElement("button",{id:"privacy-page-link",onClick:Ge,"data-uxa-log":"privacy_consent_detailed_view_privacy_page_link"},e),faq:e=>C.default.createElement("button",{id:"cookie-faq-link",onClick:qe,"data-uxa-log":"privacy_consent_detailed_view_cookie_faq_link"},e)});return C.default.createElement(C.default.Fragment,null,fe&&C.default.createElement("div",{className:"migration-ccpa",ref:k,tabIndex:0,style:{outline:"none"}},C.default.createElement("div",{className:"scrollable-contents"},!f&&C.default.createElement(C.default.Fragment,null,C.default.createElement(je,{src:Ze,size:"large",display:"inline-block"}),C.default.createElement("div",{className:"title-divider"}),C.default.createElement("label",{id:"consent-title-label",className:"consent-title-label"},h.intl.formatMessage(Us)),C.default.createElement("p",{id:"consent-title-blurb",className:"consent-title-blurb"},$e)),C.default.createElement(Ss,{displayVariant:f?ys.CCPA_ONLY:ys.GDPR_EMBEDDED,checked:M(U),disabled:!!g,isFlowComplete:(We=L,He=U,We!==x.NotEnrolled&&He===x.NotEnrolled||He===x.EnrollmentPendingEmailVerificationSent||He===x.EnrollmentPendingAccountVerificationSent),onChange:e=>{j(!0),e?L===x.NotEnrolled?p?F(x.EnrollmentPendingAccountUIConfirmation):(F(x.EnrollmentPendingEmailUIConfirmation),ae(!A),le(h.intl.formatMessage(Fs))):L===x.EnrolledEmail||L===x.EnrollmentPendingEmailConfirmation||L===x.CrossOriginEnrolled||L===x.EnrolledViaCookie?F(L):L!==x.EnrolledAccount&&L!==x.EnrollmentPendingAccountConfirmation||F(L):(L===x.EnrolledEmail||L===x.EnrollmentPendingEmailConfirmation||L===x.CrossOriginEnrolled||L===x.EnrolledViaCookie?F(x.UnenrollmentPendingEmailUIConfirmation):L===x.EnrolledAccount||L===x.EnrollmentPendingAccountConfirmation?F(x.UnenrollmentPendingAccountUIConfirmation):L===x.NotEnrolled&&F(x.NotEnrolled),le(h.intl.formatMessage(Ps)),ae(!1)),se(e)},onCookieFAQLinkClick:qe,gpcEnabled:!!g,enrollmentState:U,email:O,handleEmailChange:e=>{I(e);null!==e.match(/^.+@.+\..+$/)?R(!0):R(!1)},userEmails:i,verifiedEmails:s,unverifiedEmails:o}),!f&&C.default.createElement($s,{checked:M(U),disabled:ie,onChange:Re,onCookieFAQLinkClick:qe,gdprCount:$,setGdprCount:W,allGdprToggle:H,strictlyToggle:J,generalToggle:Y,socialToggle:Z,analyticsToggle:ee,performanceToggle:ne})),C.default.createElement(wa,{disabled:oe,onChange:Se,acceptButtonText:ce,declineButtonText:de})),!fe&&me&&!_&&C.default.createElement(xa,{onClick:e=>{e===Sa?(De(),Me(),Re(!0,Bs,0)):e===Ta&&Pe(),Ue(!0),he(!1)},onSettingsClick:e=>{e.preventDefault(),e.stopPropagation(),ge(!0),he(!1)},onPrivacyPageLinkClick:Ge,onPrivacyPolicyFaqLinkClick:e=>{e.preventDefault(),window.parent.postMessage({message_type:"CCPA_PRIVACY_POLICY_FAQ_CLICK"},t)},onConsentBannerLoad:Te}),!fe&&!me&&_e&&C.default.createElement(tc,{onClick:(e,t)=>{e===Za?(ge(!0),t.stopPropagation()):e===Qa&&(pe(!ue),Le(ue?mc:hc))},isCollapsed:ue}));var We,He};_c.displayName="CCPAIFrame";const vc=function(e,t,n=[],r={}){class s extends C.Component{static getCombinedCssPaths(){return s.combinedCssPaths}constructor(e,t){super(e),this._isUnmounted=!1,this.getWrappedComponent=()=>this.refs.wrapped,this._handleCssLoaded=()=>{r.onCssResponse&&r.onCssResponse(),this._isUnmounted||this.setState({cssMode:Hs.SUCCESS},(()=>"function"==typeof this.props.onCssLoad?this.props.onCssLoad():void 0))},this._handleCssFailed=()=>{r.onCssResponse&&r.onCssResponse(),this._isUnmounted||this.setState({cssMode:Hs.FAILED},(()=>"function"==typeof this.props.onCssFail?this.props.onCssFail(this._forceRender):void 0))},this._forceRender=()=>{this._isUnmounted||this.setState({cssMode:Hs.FORCE_RENDERED})},m.registerCSSForPreload(),this.state={cssMode:e.skipCss||m.is_loaded(s.combinedCssPaths,t.document)?Hs.FORCE_RENDERED:Hs.LOADING}}UNSAFE_componentWillMount(){this.state.cssMode===Hs.LOADING&&(r.onWillLoadCss&&r.onWillLoadCss(),m.require_css_multi(s.combinedCssPaths,this._handleCssLoaded,this._handleCssFailed,this.context.document,"js:requireCssWithComponent"))}componentWillUnmount(){this._isUnmounted=!0}render(){const t=this.props,{cssPlaceholder:n,onCssFail:r,onCssLoad:s,skipCss:o}=t,a=i.__rest(t,["cssPlaceholder","onCssFail","onCssLoad","skipCss"]);if([Hs.FORCE_RENDERED,Hs.SUCCESS].includes(this.state.cssMode)){if("string"!=typeof(c=e)&&!function(e){return!!(e&&e.prototype&&e.prototype.render)}(c)){const t=e;return C.createElement(t,Object.assign({},a))}const t=e;return C.createElement(t,Object.assign({ref:"wrapped"},a))}var c;return null!=n?n:null}}return s.displayName=`Css(${function(e,t="Component"){return e.displayName||e.name||t}(e)})`,s.wrappedClass=e,s.combinedCssPaths=Object.keys(t.concat.apply(t,n.map((e=>void 0!==e.getCombinedCssPaths?e.getCombinedCssPaths():[]))).reduce(((e,t)=>(e[t]=!0,e)),{})),s.defaultProps={cssPlaceholder:null,onCssFail:e=>e(),onCssLoad:null,skipCss:!!window.jasmine},s.contextType=Ws,h.y(s,e)}(_c,["/static/metaserver/static/css/dig-components/index.web-vfleuI413.css","/static/metaserver/static/css/dig-components/tokens-vfli391ls.css"]),bc=function(e){"complete"===document.readyState&&(e=>{window.setTimeout((()=>e.apply(e)),0)})(e),window.addEventListener("load",e,!1)};const Ec=!(!window.performance||!window.performance.now);let wc=0;var yc;!function(e){e[e.Span=1]="Span",e[e.AsyncSpan=2]="AsyncSpan",e[e.Trace=3]="Trace"}(yc||(yc={}));class Sc{constructor(e,t,n,r=!1,i){this.name=e,this.strictAssert=t,this.activeSpans={},this.aggregateSpans={},this._annotations=Object.assign({},i),this.spanStack=[],this.stopwatchTags=n||[],this.detached=r}reset(){this.activeSpans={},this.spanStack=[],this.aggregateSpans={},this._annotations={}}get annotations(){return this._annotations}addAnnotation(e,t){this._annotations[e]=t}removeAnnotation(e){delete this._annotations[e]}popResolvedSpans(){if(this.detached)return{};{const e=this.aggregateSpans;return this.aggregateSpans={},e}}peekResolvedSpans(){return this.detached?{}:this.aggregateSpans}static newSpanID(){const e=String(wc);return wc++,e}static resolveTime(e){return void 0===e&&(e=window.performance.now()),Math.round(e)}_resolveParent(e){if(e.type!==yc.Span)return void(e.parent="");const t=this.spanStack[this.spanStack.length-1];if(t)if(t!==e.name)this._report_sw_misuse(`Closing ${t} while the latest open span is ${e.name}.\n        You are either mixing sync and async spans or closing sync spans out of order.`);else{this.spanStack.pop();let t="";for(const e of this.spanStack)t+=`${e}#`;e.parent=t}else this._report_sw_misuse(`${e.name} isn't a synchronous span and has to be started with "async:true".`)}recordTrace(e,t={}){const n=Sc.resolveTime(t.traceTime),r=Sc.newSpanID(),i={name:e,span_id:r,start_time:0,end_time:n,annotations:Object.assign({},t.annotations),type:yc.Trace,parent:""};return this.recordSpan(this.stopwatchTags,i),r}start(e,t={}){e||this._report_sw_misuse("Reporting a span without a name");const n=Sc.resolveTime(t.startTime);t.async||this.spanStack.push(e);const r=Sc.newSpanID(),i={name:e,span_id:r,start_time:n||0,annotations:Object.assign({},t.annotations),type:t.async?yc.AsyncSpan:yc.Span};return e in this.activeSpans||(this.activeSpans[e]=[]),this.activeSpans[e].push(i),r}end(e,t={}){const n=this.findTimerDataIndex(e,t.spanId);if(-1===n)return;const r=this.activeSpans[e],i=r[n];r.splice(n,1),this._resolveParent(i);const s=Sc.resolveTime(t.endTime);if(!(s<i.start_time))return i.end_time=s,this.recordSpan(this.stopwatchTags,i),i.span_id;this._report_sw_misuse(`span ${e} has set an endTime earlier than start_time`)}addSpanAnnotation(e,t,n,r){const i=this.findTimerDataIndex(e,r);if(-1===i)return;this.activeSpans[e][i].annotations[t]=n}attach(){this.detached=!1}findTimerDataIndex(e,t){if(!(e in this.activeSpans)||0===this.activeSpans[e].length)return this._report_sw_misuse(`tried to find ${e} but that span doesn't exist`),-1;let n=-1;const r=this.activeSpans[e];if(void 0===t)n=0;else for(let e=0;e<r.length;e++)if(r[e].span_id===t){n=e;break}return-1===n&&this._report_sw_misuse(`tried to find ${e} with id ${t} but that span doesn't exist`),n}_report_sw_misuse(e){e=`JSBasicStopwatch ${this.name}: ${e}`,this.strictAssert?s.assert(!1,e):u.reportStack(e,{severity:p.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}recordSpan(e,t){const n=`${t.parent}${t.name}`;n in this.aggregateSpans||(this.aggregateSpans[n]={name:t.name,start_time:t.start_time,total_time:0,num_calls:0,annotations:Object.keys(t.annotations).length>0?t.annotations:void 0,parent:t.parent||"",stopwatch_tags:e.length>0?e:void 0,type:t.type});const r=this.aggregateSpans[n];if(void 0!==t.end_time){if(r.type===yc.Trace?(r.total_time=t.end_time-t.start_time,r.num_calls=1):(r.total_time+=t.end_time-t.start_time,r.num_calls+=1),Object.keys(t.annotations).length>0)if(r.annotations)for(const e in t.annotations)t.annotations.hasOwnProperty(e)&&(r.annotations[e]=t.annotations[e]);else r.annotations=t.annotations}else this._report_sw_misuse(`Span ${n} reported with undefined end_time`)}}const Tc=new class{constructor(){this.name="",this.annotations={}}reset(){}attach(){}addAnnotation(e,t){}removeAnnotation(e){}popResolvedSpans(){return{}}peekResolvedSpans(){return{}}start(e,t){}end(e,t){}recordTrace(e,t){}addSpanAnnotation(e,t,n,r){}};function xc(e,t,n,r=!1,i){return Ec?new Sc(e,t,n,r,i):Tc}k.REDIRECT_SAFE_ORIGINS;function Cc(e=window){return e.location.href}const Nc=[];class kc{constructor(e){this.id=e}}kc.REQUEST_ID=new kc("dropbox.js_client_stopwatch.request_id"),kc.CORRELATION_ID=new kc("dropbox.js_client_stopwatch.correlation_id"),kc.URL=new kc("dropbox.js_client_stopwatch.url");class Oc{constructor(){this.GLOBAL_SW_NAME="GLOBAL_STOPWATCH",this.flush_interval=6e4,this.debugEnabled=!0,this.strictAssert=!1,this.intervalId=null,this.clientStopwatchCounter=1,this.reset()}reset(){this.globalStopwatches={},this.clientStopwatches={},this.clientStopwatchCounter=1,this.sentInitialData=!1,this.create_stopwatch(this.GLOBAL_SW_NAME),this.intervalId&&clearInterval(this.intervalId),this.intervalId=null}reset_individual_stopwatch(e){this.stopwatch_exists(e)?this.globalStopwatches[e].reset():this._report_sw_misuse(`tried to reset the stopwatch ${e} but it does not exist`)}stopwatch_exists(e){return e in this.globalStopwatches}create_stopwatch(e,t){this.stopwatch_exists(e)?this._report_sw_misuse(`tried to create a new stopwatch ${e} but it already exists`):this.globalStopwatches[e]=xc(e,this.strictAssert,t)}createDetachedStopwatch(e,t={}){const n=xc(e,this.strictAssert,t.tags,!0,t.annotations),r=new Ac(this.clientStopwatchCounter++,e,n,t.request_id,t.correlation_id,t.url);return this.clientStopwatches[r.id]=r,r}deleteStopwatch(e){delete this.clientStopwatches[e.id]}create_stopwatch_if_not_exist(e,t){this.stopwatch_exists(e)||this.create_stopwatch(e,t)}getStopwatch(e){return this.stopwatch_exists(e)?this.globalStopwatches[e]:(this._report_sw_misuse(`${e} doesn't exist`),null)}recordTrace(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null==n)return;const r={traceTime:t.traceTime};return n.recordTrace(e,r)}startSpan(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null==n)return;const r={startTime:t.startTime,async:t.async};return n.start(e,r)}endSpan(e,t={}){const n=this.getStopwatch(t.stopwatchName||this.GLOBAL_SW_NAME);if(null!=n)return n.end(e,{spanId:t.spanId,endTime:t.endTime})}addSpanAnnotation(e,t,n,r={}){const i=this.getStopwatch(r.stopwatchName||this.GLOBAL_SW_NAME);null!=i&&i.addSpanAnnotation(e,t,n,r.spanId)}log_stored_results(){this.sentInitialData?this._report_sw_misuse("ClientStopwatch tried to log stored results, but the stopwatch is set to log immediately"):(this.flush_current_data(),this.sentInitialData=!0,this.intervalId=setInterval(this.flush_current_data.bind(this),this.flush_interval))}_report_sw_misuse(e){e=`ClientStopwatch: ${e}`,this.strictAssert?s.assert(!1,e):u.reportStack(e,{severity:p.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}flush_current_data(){for(const e in this.globalStopwatches)this.globalStopwatches.hasOwnProperty(e)&&Oc.logStopwatchData(this.globalStopwatches[e]);for(const e in this.clientStopwatches)this.clientStopwatches.hasOwnProperty(e)&&Oc.logStopwatchData(this.clientStopwatches[e].stopwatch)}static logStopwatchData(e){const t=e.popResolvedSpans(),n=e.name,r={};if(Object.keys(t).length>Oc.MAXSPANS){let i=0;r[n]={};for(const s in t)t.hasOwnProperty(s)&&(r[n][s]=t[s],i===Oc.MAXSPANS&&(r[n].annotations=e.annotations,Oc.send_spans(r),i=0,r[n]={}),i++)}else r[n]=t;0!==Object.keys(r[n]).length&&(r[n].annotations=e.annotations,Oc.send_spans(r))}static send_spans(e){const t=JSON.stringify(e),n={request_id:o.getRequestId(),url:Cc().replace("/dws2",""),aggregated_sw_data:t};a.sendXhr("/log_js_sw_data",n)}print_stopwatches_debug(){const e=this.get_debug_data();console.table&&console.groupCollapsed&&console.groupEnd&&e&&e.length>0&&(console.groupCollapsed("Request timeline"),console.table(e),console.groupEnd())}get_debug_data(){const e=[];for(const t in this.globalStopwatches)if(this.globalStopwatches.hasOwnProperty(t)){const n=this.globalStopwatches[t].peekResolvedSpans();for(const r in n)if(n.hasOwnProperty(r)){const i=n[r],s={stopwatchName:t,spanName:i.name,time:i.start_time+i.total_time};i.type!==yc.AsyncSpan&&i.type!==yc.Span||(s.startTime=i.start_time),i.type===yc.Span&&(s.info=`Total time: ${i.total_time}ms`),e.push(s)}}return e.sort(((e,t)=>e.time-t.time)),e}}Oc.MAXSPANS=2e3;const Ic=new Oc;class Ac{constructor(e,t,n,r,i,s){this.sentInitialData=!1,this.strictAssert=!1,this.id=e,this.stopwatch=n,this._request_id=r,this._correlation_id=i,this._url=s,this._request_id&&this.stopwatch.addAnnotation(kc.REQUEST_ID.id,this._request_id),this._correlation_id&&this.stopwatch.addAnnotation(kc.CORRELATION_ID.id,this._correlation_id),this._url&&this.stopwatch.addAnnotation(kc.URL.id,this._url)}set request_id(e){this._request_id=e,this._request_id?this.stopwatch.addAnnotation(kc.REQUEST_ID.id,this._request_id):this.stopwatch.removeAnnotation(kc.REQUEST_ID.id)}set correlation_id(e){this._correlation_id=e,this._correlation_id?this.stopwatch.addAnnotation(kc.CORRELATION_ID.id,this._correlation_id):this.stopwatch.removeAnnotation(kc.CORRELATION_ID.id)}set url(e){this._url=e,this._url?this.stopwatch.addAnnotation(kc.URL.id,this._url):this.stopwatch.removeAnnotation(kc.URL.id)}startSpan(e,t){return this.stopwatch.start(e,t)}endSpan(e,t){return this.stopwatch.end(e,t)}addSpanAnnotation(e,t,n,r){this.stopwatch.addSpanAnnotation(e,t,n,r)}recordTrace(e,t,n){this.stopwatch.recordTrace(e,{traceTime:t,annotations:n})}recordEntries(e){for(const t of e)if(t.type===yc.Trace)this.recordTrace(t.name,t.endTime,t.annotations);else{const e=t.startTime||0,n=this.startSpan(t.name,{startTime:Math.min(e,t.endTime),async:t.type===yc.AsyncSpan,annotations:t.annotations});t.endTime<e&&this.addSpanAnnotation(t.name,"negativeSpanLength",(t.endTime-e).toString(),n),this.endSpan(t.name,{spanId:n,endTime:Math.max(e,t.endTime)})}}logData(){this.sentInitialData?this.reportMisuse("ClientStopwatch tried to log stored results, but the stopwatch is set to log immediately"):(this.stopwatch.attach(),this.sentInitialData=!0,setTimeout((()=>{Ic.flush_current_data()}),0))}addAnnotation(e,t){this.stopwatch.addAnnotation(e,t)}removeAnnotation(e){this.stopwatch.removeAnnotation(e)}reportMisuse(e){e=`ClientStopwatch: ${e}`,this.strictAssert?s.assert(!1,e):u.reportStack(e,{severity:p.SEVERITY.NONCRITICAL,tags:["log_js_stopwatch"]})}}var Rc;!function(e){e.DWS="dws",e.MODULE="module",e.OTHER="other",e.UNKNOWN="unknown"}(Rc||(Rc={}));const Lc=[Rc.DWS,Rc.MODULE,Rc.OTHER,Rc.UNKNOWN];function Dc(){let e=[];var t;return window.ensemble&&window.ensemble.getJSStopwatchData&&(e=e.concat((t=window.ensemble.getJSStopwatchData(),Object.keys(t).map((e=>{const n=t[e];return{measurement:{jsExecutionType:Uc(e),name:e,startTime:n.start,totalTime:n.end-n.start},annotations:n.annotations}}))).map((({measurement:e})=>e)))),window.requireContexts&&(e=e.concat(Pc(window.requireContexts))),e}function Mc(e){if(e.require&&e.require.perfMeasurements){let t=0;return e.require.perfMeasurements.map((({name:e,startTime:n,totalTime:r})=>(e.endsWith("anon")&&(e+="-"+t++),{jsExecutionType:Fc(e),name:e,startTime:n,totalTime:r})))}{const t=e.module_callback_times;return Object.keys(t).filter((e=>t[e].callbackDuration&&t[e].callbackTime)).map((e=>({jsExecutionType:Fc(e),name:e,startTime:t[e].callbackTime,totalTime:t[e].callbackDuration})))}}function Pc(e){let t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];t=t.concat(Mc(r))}return t}function Uc(e){return e.startsWith("dws-processChunk")?Rc.DWS:Rc.UNKNOWN}function Fc(e){return e.startsWith("execCb.anon")||e.startsWith("overhead.anon")||e.startsWith("execCb.require-tier")||e.startsWith("overhead.require-tier")?Rc.OTHER:e.startsWith("execCb")||e.startsWith("overhead")?Rc.MODULE:Rc.UNKNOWN}const Bc=e=>{const{name:t,initiatorType:n}=e,r=t.lastIndexOf("."),i=t.substring(r);if(t.includes(".")){if([".png",".gif",".jpg",".svg"].includes(i))return{resourceType:"img",shouldLogSize:!0};if(".js"===i)return{resourceType:"script",shouldLogSize:!0};if(".css"===i)return{resourceType:"css",shouldLogSize:!0};if(".json"===i)return{resourceType:"json",shouldLogSize:!0}}return["css","img","script","link"].includes(n)?{resourceType:n,shouldLogSize:!1}:"video"===n?{resourceType:"video",shouldLogSize:!0}:"xmlhttprequest"===n?{resourceType:"ajax",shouldLogSize:!1}:{resourceType:"other",shouldLogSize:!1}};function jc(e){!function(e){const t=window.requireContexts;if(!t)return;const n=Pc(t),r=Ic.createDetachedStopwatch("resource_init_timeline",e);n.forEach((e=>{const t=r.startSpan(e.name,{startTime:e.startTime});r.addSpanAnnotation(e.name,"totalTimeNs",Math.round(1e6*e.totalTime).toString(),t),r.endSpan(e.name,{endTime:e.startTime+e.totalTime,spanId:t})})),r.logData()}(e),function(e){const t="resource_timeline",n=Ic.createDetachedStopwatch(t,e),r={},i=window.performance.getEntriesByType("resource");if(i instanceof Array)for(const e of i){let t=Gc(e);if(!t)continue;const i=r[t]||0;r[t]=i+1,i>0&&(t=`${t}-${i}`);const s=n.startSpan(t,{startTime:e.startTime,async:!0}),{resourceType:o}=Bc(e);n.addSpanAnnotation(t,"type",o,s),0===e.transferSize?n.addSpanAnnotation(t,"cached","true",s):void 0===e.transferSize?n.addSpanAnnotation(t,"cached","unknown",s):n.addSpanAnnotation(t,"cached","false",s),e.responseEnd<e.startTime?(n.addSpanAnnotation(t,"negativeSpanLength",(e.responseEnd-e.startTime).toString(),s),n.endSpan(t,{endTime:e.startTime,spanId:s})):n.endSpan(t,{endTime:e.responseEnd,spanId:s})}n.logData()}(e)}const zc=document&&document.createElement?document.createElement("a"):null;function Gc(e){if(zc){if(zc.href=e.name,zc.host.match(/dropboxstatic.com$/)&&zc.pathname.match(/^\/static/)){let e=zc.pathname;const t=e.match(/vfl[a-zA-Z0-9]*\.[a-z]*$/);t&&t.index&&(e=e.substring(0,t.index-1));const n="/static/";return e.startsWith(n)&&(e=e.substring(n.length)),e}return zc.host.match(/photos-[0-9]+.dropbox.com$/)&&zc.pathname.match(/^\/t\/2/)?"/thumbnail":void 0}}function qc(e){Ic.create_stopwatch_if_not_exist("resource_timeline");const t=(e=>{const t={};return e instanceof Array&&e.forEach((e=>{const{resourceType:n,shouldLogSize:r}=Bc(e);t[n]||(t[n]={count:0,totalTime:0,lastTransferEnd:0});const i=t[n];i.count++,i.totalTime+=e.duration,i.lastTransferEnd=Math.max(i.lastTransferEnd,e.responseEnd),r&&void 0!==e.transferSize&&void 0!==e.encodedBodySize&&e.encodedBodySize<Number.MAX_SAFE_INTEGER&&(i.transferSize||(i.transferSize=0),0!==e.transferSize&&(i.transferSize+=e.encodedBodySize),i.totalSize||(i.totalSize=0),i.totalSize+=e.encodedBodySize)})),t})(e),n={};for(const[e,r]of Object.entries(t)){const t="totalSize"in r?{total_size:r.totalSize}:null,i="transferSize"in r?{transfer_size:r.transferSize}:null;n[e]=Object.assign(Object.assign(Object.assign({count:r.count,total_time:r.totalTime},t),i),{last_transfer_end:r.lastTransferEnd})}return{total:n}}class Vc{static getFromNavigation(e){switch(e.type){case e.TYPE_NAVIGATE:return Vc.NAVIGATE;case e.TYPE_RELOAD:return Vc.RELOAD;case e.TYPE_BACK_FORWARD:return Vc.BACK_FORWARD}}}Vc.NAVIGATE="navigate",Vc.RELOAD="reload",Vc.BACK_FORWARD="back_forward";class $c{constructor(e,t,n=!1,r=!0){this.name=e,this.flag=1<<t,this.triggersLogging=n,this.ordered=r,$c.allEvents.push(this)}}$c.allEvents=[],$c.APPLICATION_START=new $c("application_code_start",1),$c.LOAD_END=new $c("load_end",2,!0,!1),$c.FETCHED_DATA_FOR_TTI=new $c("fetched_data_required_for_tti",3),$c.MARK_TIME_TO_INTERACTIVE=new $c("mark_time_to_interactive",4),$c.TIME_TO_INTERACTIVE=new $c("time_to_interactive",5,!0,!0);class Wc{static generateCorrelationId(){return Math.random().toString(36).substring(2)}static getNow(){return Date.now()}static newContext(e,t="unnamed_timer"){let n;n=e?Wc.getNow():Date.now()-performance.now();return{initialized:!1,is_pagelet:!1,is_dws:!1,is_dws2:!1,is_early_ensemble:!1,log_time_to_interactive:!1,tti_at_dom_interactive:!1,source_type:"web",subtypes:{},tti_exclusion_flow:"",have_logged_web_timing:!1,delayed_tti_for_css:!1,is_build_time_prefetches_enabled:!1,skip_btp_prefetch_duration_threshold:0,is_css_preload_enabled:!1,timing_results:null,start_time:n,time_to_interactive:null,correlation_id:Wc.generateCorrelationId(),timesStagesWereReached:{},context_name:t}}}class Hc{constructor(e){this.canceled=!1,this.callback=e}exec(){this.canceled||this.callback()}cancel(){this.canceled=!0}isCanceled(){return this.canceled}}class Kc{constructor(){this.storage={}}clear(){this.storage={}}getItem(e){return this.storage[e]}key(e){return Object.keys(this.storage)[e]}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}}class Jc{constructor(e){this.initFn=e}get storage(){return this.initFn&&(this._storage=function(e){let t;try{t=e()||new Kc}catch(e){t=new Kc}try{const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),t}catch(e){return t&&Yc(e)?t:new Kc}}(this.initFn),delete this.initFn),this._storage}get(e){if(this.storage){const t=this.storage.getItem(e);return t?"undefined"===t?void 0:JSON.parse(t):t}}set(e,t){if(this.storage)try{return null===t?this.delete(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){if(Yc(e))return;throw e}}delete(e){return this.storage?this.storage.removeItem(e):void 0}reset(){return this.storage?this.storage.clear():void 0}}function Yc(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}const Xc=new Jc((()=>window.sessionStorage)),Zc=new Jc((()=>window.localStorage));new class{constructor(e){this.idPrefix="userId:",this.browserStorage=e}get(e,t){return this.browserStorage.get(this.formatKey(e,t))}set(e,t,n){return this.browserStorage.set(this.formatKey(e,t),n)}clearOtherUsers(e){Object.keys(this.browserStorage.storage).map((t=>{if(t.startsWith(this.idPrefix)){const n=t.substring(this.idPrefix.length,t.indexOf("."));e.includes(Number(n))||this.browserStorage.delete(t)}}))}delete(e,t){return this.browserStorage.delete(this.formatKey(e,t))}formatKey(e,t){return`${this.idPrefix}${e}.${t}`}}(Zc);const Qc="@udcl:version",el="@udcl:measure_id",tl="@udcl:request_id",nl="udcl:web_client",rl=4,il="@udcl:browser",sl="@udcl:user_id",ol="@udcl:team_id",al="@udcl:authed_users",cl="@udcl:session_id",ll="@udcl:referrer",dl="@udcl:locale";function ul(){var e;const t=pe.get_viewer(),n=we(),i=t.team_id,s=t.get_user_ids(!0),a=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href,c=o.getBrowserId();return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[il]:r.getBrowserShortName()},n&&{[sl]:n}),i&&{[ol]:i}),(null==s?void 0:s.length)&&{[al]:s}),c&&{[cl]:c}),a&&{[ll]:a}),{[dl]:h.localeToBcp47LangTag(o.getPageLocale())})}const pl="udcl";const ml="udcl",hl="track",fl="mark",gl="measure",_l=":";function vl(e,...t){return[ml,...t,e].join(_l)}function bl(e,...t){const n=vl("",...t);return 0===e.indexOf(n)?e.slice(n.length):e}function El(e,...t){return"string"==typeof e?vl(e,...t):e}function wl(e,t=1){const n=d.getMetricsReporter$1().createCounter({ns:"udcl",name:"xray/entries_captured"},{type:e,yaps_deployment:o.getYapsDeployment()});n.increment(t),n.record()}function yl(e){const t=d.getMetricsReporter$1().createCounter({ns:"udcl",name:"xray/flush_attempts"},{status:e,yaps_deployment:o.getYapsDeployment()});t.increment(),t.record()}const Sl="udcl/retry_count",Tl=[function(e,t){var n;if(window.EDISON_LOCALMODE)return;let r;const i=t.detail[el];delete t.detail[el];const s={id:e,detail:JSON.stringify(t.detail),tags:null===(n=t.detail)||void 0===n?void 0:n["@udcl:tags"],[Qc]:rl};r=t instanceof window.PerformanceMeasure?Object.assign(Object.assign({type:"measure",name:bl(t.name,gl)},s),{start_time_ms:t.startTime,duration_ms:t.duration}):Object.assign(Object.assign({type:"event",name:bl(t.name,hl)},s),{measure_id:i,timestamp:t.startTime});xl.push(r)},function(e,t){const n=Xc.get("DBX_UDCL_DEV_TOOL_MODE_ACTIVE"),r="DBX_UDCL_LOG";if(!n)return void Xc.delete(r);let i;try{i=Xc.get(r)||[]}catch(e){i=[]}i.push({startTime:t.startTime>6048e5?t.startTime:t.startTime+performance.timeOrigin,duration:t.duration,detail:t.detail,name:t.name}),Xc.set(r,i)}],xl=new class{constructor(e,t=3e4,n=1/0){this.storage=Xc,this.flush=()=>{var e;const t=null!==(e=this.storage.get(pl))&&void 0!==e?e:[];this.storage.delete(pl),t.length>0&&this.onFlush(t)},this.push=(...e)=>{var t;let n=(null!==(t=this.storage.get(pl))&&void 0!==t?t:[]).concat(e);n.length>this.size&&(n=n.slice(-this.size)),this.storage.set(pl,n)},this.cleanup=()=>{window.clearInterval(this.interval)},this.onFlush=e,this.interval=window.setInterval(this.flush,t),this.size=n}}((function(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){const n=e.filter((e=>e[Qc]>=rl));if(0!==n.length){yl("start");try{yield function(e,t,n){const r=pe.get_viewer().active_user,i={events:n.filter((e=>"event"===e.type)),measures:n.filter((e=>"measure"===e.type)),detail:JSON.stringify(ul()),sdk_version:JSON.stringify(rl)};return r?e.ns("udcl").rpc("log_timing",i,{subjectUserId:null==r?void 0:r.id}):t.ns("udcl").rpc("log_timing",i,{})}(Cl,Nl,n),yl("success"),r=kl(),d.getMetricsReporter$1().createStats({ns:"udcl",name:"xray/retry_count"},{yaps_deployment:o.getYapsDeployment()}).record(r),Xc.delete(Sl)}catch(e){!function(){const e=kl();Xc.set(Sl,(e+1).toString())}();const n=null===(t=null==e?void 0:e.raw)||void 0===t?void 0:t.status;0===n?yl("network_error"):400<=n&&n<=499?yl("server_rejected"):500<=n&&n<=599?yl("server_error"):(yl("unknown_error"),u.reportException({err:e,force:!0,severity:p.SEVERITY.CRITICAL,tags:[nl]}))}var r}}))}),void 0,1e4),Cl=new me,Nl=new ce;function kl(){return Number.parseInt(Xc.get(Sl)||"0",10)}const Ol=(()=>{let e,t;const n=[];for(e=0,t=e;e<=255;e++,t=e)n.push((t+256).toString(16).substr(1));return n})();function Il(e){return e.map((e=>Ol[e])).join("")}const Al={getRandomBytes(){const e=new Uint8Array(16);return window.crypto&&window.crypto.getRandomValues(e),e},v4(){var e;if(null===(e=window.crypto)||void 0===e?void 0:e.randomUUID)return window.crypto.randomUUID();const t=this.getRandomBytes();t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.prototype.slice.call(t);return[n.slice(0,4),n.slice(4,6),n.slice(6,8),n.slice(8,10),n.slice(10,16)].map(Il).join("-")}};const Rl=new class{constructor(e){this.track=(e,{startTime:t=performance.now(),measureId:n,detail:r}={})=>{wl("event");const i=Al.v4(),s=vl(e,hl);try{const e=performance.mark(s,{startTime:t,detail:Object.assign(Object.assign({},r),{[el]:n,[tl]:o.getRequestId()})});if(!e)throw new Error("UDCL: performance.mark did not throw or return a PerformanceEntry");this.exportEntry(i,e)}catch(e){u.reportException({err:e,severity:p.SEVERITY.NONCRITICAL,force:!0,tags:[nl]})}return i},this.mark=(e,{startTime:t=performance.now()}={})=>{const n=vl(e,fl);performance.mark(n,{startTime:t})},this.measure=(e,{start:t,end:n,detail:r,_measureId:i})=>{wl("measure");const s=vl(e,gl),a=El(t,fl),c=El(n,fl);try{const e=null!=i?i:Al.v4(),t=performance.measure(s,{start:a,end:c,detail:Object.assign(Object.assign({},r),{[tl]:o.getRequestId()})});if(!t)throw new Error("UDCL: performance.measure did not throw or return a PerformanceEntry");return this.exportEntry(e,t),e}catch(e){u.reportException({err:e,severity:p.SEVERITY.NONCRITICAL,force:!0,tags:[nl]})}},this.exportEntry=e}}((function(e,t){window.RUNNING_IN_REACTSERVER||Tl.forEach((n=>n(e,t)))})),Ll=(e,t)=>{let n=window.performance.timeOrigin;t.start&&(n+=t.start);const r=n+t.duration;return Rl.measure(e,{start:n,end:r,detail:t.detail})},Dl=e=>{var t,n,r,i,s,o,a,c,l,d,u,p,m;let h=null;return e.attribution&&("CLS"===e.name?h={largestShiftTarget:null===(t=e.attribution)||void 0===t?void 0:t.largestShiftTarget,largestShiftValue:null===(n=e.attribution)||void 0===n?void 0:n.largestShiftValue,loadState:null===(r=e.attribution)||void 0===r?void 0:r.loadState}:"FCP"===e.name?h={loadState:null===(i=e.attribution)||void 0===i?void 0:i.loadState}:"INP"===e.name?h={eventTarget:null===(s=e.attribution)||void 0===s?void 0:s.eventTarget,eventType:null===(o=e.attribution)||void 0===o?void 0:o.eventType,duration:null===(c=null===(a=e.attribution)||void 0===a?void 0:a.eventEntry)||void 0===c?void 0:c.duration,loadState:null===(l=e.attribution)||void 0===l?void 0:l.loadState}:"LCP"===e.name&&(h={element:null===(d=e.attribution)||void 0===d?void 0:d.element,resourceLoadDelay:null===(u=e.attribution)||void 0===u?void 0:u.resourceLoadDelay,resourceLoadTime:null===(p=e.attribution)||void 0===p?void 0:p.resourceLoadTime,elementRenderDelay:null===(m=e.attribution)||void 0===m?void 0:m.elementRenderDelay})),Object.assign({delta:e.delta,web_vitals_id:e.id,navigationType:e.navigationType},h&&{attribution:h})};var Ml,Pl,Ul,Fl,Bl,jl=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},zl=function(e){if("loading"===document.readyState)return"loading";var t=jl();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},Gl=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ql=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:Gl(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Vl=-1,$l=function(){return Vl},Wl=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Vl=t.timeStamp,e(t))}),!0)},Hl=function(){var e=jl();return e&&e.activationStart||0},Kl=function(e,t){var n=jl(),r="navigate";return $l()>=0?r="back-forward-cache":n&&(document.prerendering||Hl()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Jl=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Yl=function(e,t,n,r){var i,s;return function(o){t.value>=0&&(o||r)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Xl=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Zl=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Ql=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},ed=-1,td=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},nd=function(e){"hidden"===document.visibilityState&&ed>-1&&(ed="visibilitychange"===e.type?e.timeStamp:0,id())},rd=function(){addEventListener("visibilitychange",nd,!0),addEventListener("prerenderingchange",nd,!0)},id=function(){removeEventListener("visibilitychange",nd,!0),removeEventListener("prerenderingchange",nd,!0)},sd=function(){return ed<0&&(ed=td(),rd(),Wl((function(){setTimeout((function(){ed=td(),rd()}),0)}))),{get firstHiddenTime(){return ed}}},od=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},ad=[1800,3e3],cd=function(e,t){t=t||{},od((function(){var n,r=sd(),i=Kl("FCP"),s=Jl("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-Hl(),0),i.entries.push(e),n(!0)))}))}));s&&(n=Yl(e,i,ad,t.reportAllChanges),Wl((function(r){i=Kl("FCP"),n=Yl(e,i,ad,t.reportAllChanges),Xl((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},ld=[.1,.25],dd=function(e,t){!function(e,t){t=t||{},cd(Ql((function(){var n,r=Kl("CLS",0),i=0,s=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}})),i>r.value&&(r.value=i,r.entries=s,n())},a=Jl("layout-shift",o);a&&(n=Yl(e,r,ld,t.reportAllChanges),Zl((function(){o(a.takeRecords()),n(!0)})),Wl((function(){i=0,r=Kl("CLS",0),n=Yl(e,r,ld,t.reportAllChanges),Xl((function(){return n()}))})),setTimeout(n,0))})))}((function(t){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:ql(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:zl(t.startTime)})}}var r;e.attribution={}}(t),e(t)}),t)},ud=function(e,t){cd((function(t){!function(e){if(e.entries.length){var t=jl(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:zl(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:zl($l())}}(t),e(t)}),t)},pd={passive:!0,capture:!0},md=new Date,hd=function(e,t){Ml||(Ml=t,Pl=e,Ul=new Date,_d(removeEventListener),fd())},fd=function(){if(Pl>=0&&Pl<Ul-md){var e={entryType:"first-input",name:Ml.type,target:Ml.target,cancelable:Ml.cancelable,startTime:Ml.timeStamp,processingStart:Ml.timeStamp+Pl};Fl.forEach((function(t){t(e)})),Fl=[]}},gd=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){hd(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,pd),removeEventListener("pointercancel",r,pd)};addEventListener("pointerup",n,pd),addEventListener("pointercancel",r,pd)}(t,e):hd(t,e)}},_d=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,gd,pd)}))},vd=[100,300],bd=function(e,t){t=t||{},od((function(){var n,r=sd(),i=Kl("FID"),s=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=function(e){e.forEach(s)},a=Jl("first-input",o);n=Yl(e,i,vd,t.reportAllChanges),a&&Zl(Ql((function(){o(a.takeRecords()),a.disconnect()}))),a&&Wl((function(){var r;i=Kl("FID"),n=Yl(e,i,vd,t.reportAllChanges),Fl=[],Pl=-1,Ml=null,_d(addEventListener),r=s,Fl.push(r),fd()}))}))},Ed=function(e,t){bd((function(t){!function(e){var t=e.entries[0];e.attribution={eventTarget:ql(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:zl(t.startTime)}}(t),e(t)}),t)},wd=0,yd=1/0,Sd=0,Td=function(e){e.forEach((function(e){e.interactionId&&(yd=Math.min(yd,e.interactionId),Sd=Math.max(Sd,e.interactionId),wd=Sd?(Sd-yd)/7+1:0)}))},xd=function(){return Bl?wd:performance.interactionCount||0},Cd=function(){"interactionCount"in performance||Bl||(Bl=Jl("event",Td,{type:"event",buffered:!0,durationThreshold:0}))},Nd=[200,500],kd=0,Od=function(){return xd()-kd},Id=[],Ad={},Rd=function(e){var t=Id[Id.length-1],n=Ad[e.interactionId];if(n||Id.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ad[r.id]=r,Id.push(r)}Id.sort((function(e,t){return t.latency-e.latency})),Id.splice(10).forEach((function(e){delete Ad[e.id]}))}},Ld=function(e,t){!function(e,t){t=t||{},od((function(){var n;Cd();var r,i=Kl("INP"),s=function(e){e.forEach((function(e){e.interactionId&&Rd(e),"first-input"===e.entryType&&!Id.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Rd(e)}));var t,n=(t=Math.min(Id.length-1,Math.floor(Od()/50)),Id[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=Jl("event",s,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Yl(e,i,Nd,t.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),Zl((function(){s(o.takeRecords()),i.value<0&&Od()>0&&(i.value=0,i.entries=[]),r(!0)})),Wl((function(){Id=[],kd=xd(),i=Kl("INP"),r=Yl(e,i,Nd,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:ql(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:zl(t.startTime)}}else e.attribution={}}(t),e(t)}),t)},Dd=[2500,4e3],Md={},Pd=function(e,t){!function(e,t){t=t||{},od((function(){var n,r=sd(),i=Kl("LCP"),s=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-Hl(),0),i.entries=[t],n())},o=Jl("largest-contentful-paint",s);if(o){n=Yl(e,i,Dd,t.reportAllChanges);var a=Ql((function(){Md[i.id]||(s(o.takeRecords()),o.disconnect(),Md[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(a,0)}),!0)})),Zl(a),Wl((function(r){i=Kl("LCP"),n=Yl(e,i,Dd,t.reportAllChanges),Xl((function(){i.value=performance.now()-r.timeStamp,Md[i.id]=!0,n(!0)}))}))}}))}((function(t){!function(e){if(e.entries.length){var t=jl();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],s=Math.max(0,t.responseStart-n),o=Math.max(s,i?(i.requestStart||i.startTime)-n:0),a=Math.max(o,i?i.responseEnd-n:0),c=Math.max(a,r?r.startTime-n:0),l={element:ql(r.element),timeToFirstByte:s,resourceLoadDelay:o-s,resourceLoadTime:a-o,elementRenderDelay:c-a,navigationEntry:t,lcpEntry:r};return r.url&&(l.url=r.url),i&&(l.lcpResourceEntry=i),void(e.attribution=l)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(t),e(t)}),t)},Ud=[800,1800],Fd=function e(t){document.prerendering?od((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Bd=function(e,t){t=t||{};var n=Kl("TTFB"),r=Yl(e,n,Ud,t.reportAllChanges);Fd((function(){var i=jl();if(i){var s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Hl(),0),n.entries=[i],r(!0),Wl((function(){n=Kl("TTFB",0),(r=Yl(e,n,Ud,t.reportAllChanges))(!0)}))}}))},jd=function(e,t){Bd((function(t){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),s=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:s-i,requestTime:e.value-s,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(t),e(t)}),t)};let zd=!1;const Gd=()=>{if(!zd){zd=!0;const e=c.Cookies.read("enable_ttvc_debugging");try{s.init({debug:"ON"===e,idleTimeout:1e3})}catch(e){u.reportException({err:e,severity:"non-critical",force:!0,tags:["user_centric_perf","ttvc"]})}}};class qd{constructor(){this.ttiSubscribers=new Set,this.onTTFB=jd,this.onFCP=ud,this.onLCP=Pd,this.onCLS=dd,this.onFID=Ed,this.onINP=Ld,this.onTTVC=s.onTTVC,Gd(),window.PerformanceObserver&&(this.performanceObserver=new PerformanceObserver(((e,t)=>{const n=this.getTTIValue(e);n&&(this.ttiSubscribers.forEach((e=>e(n))),t.disconnect())})),this.performanceObserver.observe({entryTypes:["mark"]}))}getTTI(e){this.ttiSubscribers.add(e);const t=this.getTTIValue(performance);return t&&e(t),()=>this.ttiSubscribers.delete(e)}getTTIValue(e){let t;const n=e.getEntriesByName("time_to_interactive","mark");if(n.length){t=n[0].startTime}return t}}class Vd{constructor(){this.stats=new $d}}class $d{constructor(){this.rate_stats={}}_val(e,t){return e.hasOwnProperty(t)?e[t]:0}onPushEvent(e){for(const t of["*",e]){const e="enqueue:"+t;this.rate_stats[e]=this._val(this.rate_stats,e)+1}}onDrain(e){let t=0;for(const n in e)if(e.hasOwnProperty(n)){const r=e[n].map((e=>e.size())).reduce(((e,t)=>e+t),0),i="dequeue:"+n;this.rate_stats[i]=this._val(this.rate_stats,i)+r,t+=r}const n="dequeue:*";this.rate_stats[n]=this._val(this.rate_stats,n)+t}onReEnqueueBatch(e,t){for(const n of["*",e]){const e="reEnqueue:"+n;this.rate_stats[e]=this._val(this.rate_stats,e)+t.size()}}getAndReset(){const e=JSON.stringify({"rate-stats":this.rate_stats});return this.rate_stats={},e}}class Wd extends Vd{constructor(e){super(),this.compressionCodec=e,this.existing_batches={},this._pushEventCallbacks=[]}_append_batch_to_category(e,t){this.existing_batches[e]||(this.existing_batches[e]=[]),this.existing_batches[e].push(t)}_get_or_create_batch(e){let t=this.existing_batches[e];return t&&0!==t.length||(this._add_new_batch_for_category(e),t=this.existing_batches[e]),t[t.length-1]}_add_new_batch_for_category(e){const t=new Hd(e,100,this.compressionCodec);return this._append_batch_to_category(e,t),t}pushEvent(e,t){const n=JSON.parse(JSON.stringify(t));this.stats.onPushEvent(e);if(!this._get_or_create_batch(e).tryAppend(n)){this._add_new_batch_for_category(e).tryAppend(n)}for(const e of this._pushEventCallbacks)"function"==typeof e&&e()}reEnqueueBatch(e,t){return this.stats.onReEnqueueBatch(e,t),this._append_batch_to_category(e,t)}subscribeToPushEvent(e){this._pushEventCallbacks.push(e)}drain(e){let t=e;const n={};for(const e in this.existing_batches)if(this.existing_batches.hasOwnProperty(e)){if(t<=0)break;const r=this.existing_batches[e].splice(0,t);if(t-=r.length,r.length>0){for(const e of r)e.close();n[e]=r}}return this.stats.onDrain(n),n}}class Hd{constructor(e,t,n){this.category=e,this.maxMessages=t,this.compressionCodec=n,this.numReportAttempts=0,this.messages=[]}isFull(){return this.messages.length>=this.maxMessages}size(){return this.messages.length}tryAppend(e){return!this.isFull()&&!this.closed&&(this.messages.push(e),this.isFull()&&this.close(),!0)}close(){this.closed||(this.closed=!0)}records(){return this.messages}markFailure(){if(!this.closed)throw new Error("Attempted to send an open batch");this.numReportAttempts++}}class Kd{inflate(e){return e}deflate(e){return e}}class Jd{static initClass(){this.__stack=[],this.CLEAR="dbmodal:clear"}static pop(e){null!=e?Jd.remove(e):e=Jd.__stack.pop(),null!=e&&e._hide();const t=Jd.top();null!=t?t._show():this.trigger(Jd.CLEAR)}static push(e){Jd.remove(e);const t=Jd.top();(null!=t?t.visible:void 0)&&t._hide(),Jd.__stack.push(e),e._show()}static top(){const{length:e}=Jd.__stack;return e?Jd.__stack[e-1]:null}static remove(e){const t=[];for(const n of Array.from(Jd.__stack))n!==e&&t.push(n);Jd.__stack=t}static clear(){for(let e=Jd.__stack.length-1;e>=0;e--){const t=Jd.__stack[e];t.visible&&t._hide()}this.trigger(Jd.CLEAR),Jd.__stack=[]}static register(e,t){document.addEventListener(e,t),document.addEventListener(Jd.CLEAR,(()=>document.removeEventListener(e,t)))}static unregister(e,t){document.removeEventListener(e,t)}static trigger(e,t){document.dispatchEvent(function(e,t={detail:null}){if("function"==typeof CustomEvent)return new CustomEvent(e,t);const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t.detail),n}(e,{detail:t}))}}Jd.initClass();const Yd={complete:{},handled(e){if(!e)return!1;const t=!!Yd.complete[e];return Yd.complete[e]=!0,t},peek:e=>!!e&&!!Yd.complete[e]},Xd={show(e){var t;if(!e)return;null===(t=Jd.top())||void 0===t||t.hide();const n=document.createElement("div");n.id="modal-progress-overlay",n.style.position="fixed",n.style.width="100%",n.style.height="100%",n.style.display="none",n.classList.add("fade-out"),document.body.appendChild(n);const r=document.createElement("div");r.id="modal-progress-content",r.style.display="none",r.classList.add("fade-out");const i=document.createElement("div");i.id="modal-progress-bar";const s=function(e,t=300){const n=t.toString()+"px",r=document.createElement("div");r.classList.add("outer-progress-bar");const i=document.createElement("div");i.style.width=n,i.id=`pb_${e}`,i.classList.add("inner-progress-bar");const s=document.createElement("div");s.style.width=n,s.classList.add("under-pb"),s.classList.add("progress-bar");const o=document.createElement("div");o.style.display="none",o.id=`pb_${e}_over`,o.classList.add("over-pb"),o.classList.add("progress-bar");const a=document.createElement("div");a.style.width=n,a.id=`pb_${e}_upct`,a.classList.add("pb-percentage");const c=document.createElement("div");return c.style.width=n,c.id=`pb_${e}_opct`,c.classList.add("pb-percentage"),s.appendChild(a),o.appendChild(c),i.appendChild(s),i.appendChild(o),r.appendChild(i),r}("modal-progress",150);i.appendChild(s);const o=document.createElement("div");o.id="modal-progress-text",o.textContent=e;const a=document.createElement("modal-progress-container");a.id="modal-progress-container",a.appendChild(i),a.appendChild(o),r.appendChild(a),document.body.appendChild(r),n.style.display="",n.classList.add("fade-to"),n.classList.remove("fade-out"),r.style.display="",r.classList.add("fade-in"),r.classList.remove("fade-out")},update(e){const t="progress";e.indexOf(t)>-1&&(e=e.substring(8)),function(e,t){const n=document.querySelector(`#pb_${e}_over`);if(!n)return;const r=t.split("/").map(Number),i=r.length>1?r[0]/r[1]:r[0],s=isNaN(i)?0:i;n.style.width=100*Math.min(s,1)+"%",n.style.display="",n.style.backgroundColor="#348DD3",n.style.overflow="hidden"}("modal-progress",e)},hide(){const e=document.querySelector("#modal-progress-overlay");e&&(e.classList.add("fade-out"),e.classList.remove("fade-to"),window.setTimeout((()=>{e.remove()}),250));const t=document.querySelector("#modal-progress-content");t&&(t.classList.add("fade-out"),t.classList.remove("fade-in"),window.setTimeout((()=>{t.remove()}),250))}},Zd={};function Qd(e){return null===e?String(e):Zd[toString.call(e)]||"object"}function eu(e){return function(e){return"object"===Qd(e)}(e)&&!function(e){return null!==e&&e===e.window}(e)&&Object.getPrototypeOf(e)===Object.prototype}["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"].forEach((e=>{Zd["[object "+e+"]"]=e.toLowerCase()}));const tu=function(e,t=!1){const n=[];return n.add=function(e,t){(function(e){return"function"===Qd(e)})(t)&&(t=t()),void 0!==t&&(null===t&&(t=""),n.push(encodeURIComponent(e)+"="+encodeURIComponent(t)))},nu(n,e,t),n.join("&").replace(/%20/g,"+")};function nu(e,t,n=!1,r=""){let i;const s=Array.isArray(t),o=eu(t);Object.entries(t).forEach((([t,a])=>{i=Qd(a),r&&(t=n?r:r+"["+(o||"object"===i||"array"===i?t:"")+"]"),!r&&s?e.add(a.name,a.value):"array"===i||!n&&"object"===i?nu(e,a,n,t):e.add(t,a)}))}function ru(e){return e}const iu="err:",su="htmlerr:",ou="async_task_err:",au="done:";function cu(e,t){null==e&&(e={}),null==t&&(t=[]);const n=new pu(e),r=du(n,t),i=r.options().type||"POST",o=r.data(),a=r.dataType(),c=r.headers();let l=String(r.url());const d={method:i,mode:"cors",credentials:"same-origin",headers:c,signal:e.signal};"POST"===i.toUpperCase()?d.body=tu(o,!0):l=function(e,t){const n=e.startsWith("//"),r=n||e.includes("://")?n?"http:":"":"http://example",i=new URL(r+e),s={};i.searchParams.forEach((function(e,t){s[t]=e})),Object.keys(t).forEach((e=>{let n=t[e];null===n&&(n=""),void 0!==n&&(s[e]=n)}));const o=[];Object.entries(s).forEach((([e,t])=>{o.push(tu({[e]:t},!0))})),i.search=o.join("&");let a=i.toString();return a=a.slice(r.length),a}(l,o),c.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.incrementAjaxCount(),ne();const u=fetch(l,d);return new Promise((function(e,t){u.then((e=>e.text().then((t=>({response:e,responseText:t}))))).then((({response:t,responseText:n})=>{if(!t.ok)throw new W(t,n);if("abort"===t.statusText)throw new V(t,t.statusText);if("failed"===t.statusText)throw new $(t,t.statusText);e({response:t,responseText:n})})).catch((e=>t(e)))})).then((({response:e,responseText:t})=>{if("json"===a)try{const n=JSON.parse(t);r.success(n,t,"success",e),r.complete(e,"success",t)}catch(t){r.error(e,"parsererror",t),r.complete(e,"parsererror")}else r.success(void 0,t,"success",e),r.complete(e,"success",t)})).catch((e=>{const t=new Response;H(e)?(r.error(e.response,"failed",e),r.complete(e.response,"failed")):K(e)?(r.error(e.response,"error",e),r.complete(e.response,"error")):!function(e){return"FetchAbortError"===e.name}(e)?"AbortError"===e.name?(r.error(t,"aborted",e),r.complete(t,"aborted")):(r.error(t,"error",e),r.complete(t,"error")):(r.error(e.response,"aborted",e),r.complete(e.response,"aborted"))})).finally((()=>{s.decrementAjaxCount(),re()})),r.request(u),u}function lu(e){return e.type===uu.CHAINED}const du=function(e,t){const n=[e];for(const e of Array.from(t.slice(0).reverse()))n.push(new e);let r=e;for(const e of n)r&&lu(e)&&(e.next=r),r=e;return r};var uu;!function(e){e.BASE="base",e.CHAINED="chained"}(uu||(uu={}));class pu{constructor(e){this.type=uu.BASE;const t=e||{};this.options=()=>t,this.url=()=>String(t.url||""),this.data=()=>t.data||{},this.dataType=()=>t.dataType||"text",this.headers=()=>t.headers||new Headers,this.success=t.success||ru,this.error=t.error||ru,this.complete=t.complete||ru,this.request=ru}}class mu{constructor(){this.type=uu.CHAINED}options(){return this.next.options()}url(){return this.next.url()}contentType(){return this.next.contentType()}data(){return this.next.data()}dataType(){return this.next.dataType()}headers(){return this.next.headers()}success(e,t,n,r){this.next.success(e,t,n,r)}error(e,t,n){this.next.error(e,t,n)}complete(e,t,n){this.next.complete(e,t,n)}request(e){this.next.request(e)}}class hu extends mu{constructor(){super(...arguments),this.SUPPORTED_TLDS=["dropbox.com"]}static initClass(){}data(){if(this.options().skipInjectCsrf)return this.next.data();s.assert(this._is_db_domain(),"injecting CSRF token into request to non-dropbox domain");const e={is_xhr:!0};return"GET"!==(this.options().type||"POST").toUpperCase()&&(e.t=c.readCsrfToken()),Object.assign(Object.assign({},e),this.next.data())}_is_db_domain(){const e=s.URI.parse(String(this.url())).getAuthority();if(!e)return!0;const t=e.split(".");return this.SUPPORTED_TLDS.reduce((function(e,n){const r=n.split("."),i=t.slice(-1*r.length).join(".");return e||n===i}),!1)}}hu.initClass();class fu extends mu{data(){const e=this.next.data(),t=this.options();return t.subject_user&&!e._subject_uid&&(e._subject_uid=String(t.subject_user)),e}headers(){const e=this.next.headers(),t=this.options();return t.subject_user&&e.set("X-DROPBOX-UID",String(t.subject_user)),e}}class gu extends mu{headers(){var e;const t=this.next.headers(),n=this.options().teamAuthParams||{},r=n.team_id||pe.get_viewer().team_id;if(r){const{subject_user:n}=this.options(),i=this.next.data()._subject_uid,s=("number"==typeof n?n:null==n?void 0:n.id)||("string"==typeof i?parseInt(i,10):i);s&&s===(null===(e=pe.get_viewer().work_user)||void 0===e?void 0:e.id)&&t.set("X-Dropbox-Teamid",String(r))}const i=n.auth_role||pe.get_viewer().auth_role,s=n.auth_action_type||pe.get_viewer().auth_action_type;return(i||s)&&t.set("X-Dropbox-Team-Authorization",JSON.stringify({auth_role:String(i),auth_action_type:String(s)})),t}}class _u extends mu{data(){const e=this.next.data();return o.isRequestTracingEnabled()?Object.assign({parent_request_id:o.getRequestId()},e):e}headers(){const e=this.next.headers(),t=this.options().type||"POST";return o.isRequestTracingEnabled()&&"POST"===t.toUpperCase()&&e.append("x-dropbox-force-request-tracing","ON"),e}}class vu extends mu{success(e,t,n,r){let i;if(!t.length)return this.next.error(r,n,new Error("AJAX Response was empty."));const s=this.options();let o=!0,a=!1;if(0===t.indexOf(iu))i=t.substr(4),["{","["].includes(i[0])&&(o=!1);else{if(0!==t.indexOf(su))return this.next.success(e,t,n,r);i=t.substr(8),a=!0}const c=this.next.error(r,n,new Error(i));if(o&&!s.skipNotifyError){let e=i;a&&(e=new m.HTML(i)),m.Notify.error(e)}return c}error(e,t,n){return"aborted"!==t&&m.Notify.error(h.intl.formatMessage({id:"A1ZtqA",defaultMessage:"There was a problem completing this request."})),this.next.error(e,t,n)}}class bu extends mu{constructor(){super(),this._watch=this._watch.bind(this)}data(){this.job_id=bu.generate_job_id();const e=this.next.data(),t=e._subject_uid,n=this.options(),{subject_user:r}=n;return t&&"string"==typeof t?this.uid=t:r&&(this.uid=String(r)),Object.assign({job_id:this.job_id},e)}request(e){return this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval),this.next.request(e)}success(e,t,n,r){return this.next.success(e,t,n,r)}error(e,t,n){return this.next.error(e,t,n)}complete(e,t,n){return this._stop(),Yd.handled(this.job_id),this.next.complete(e,t,n)}_watch(){return Yd.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())}_stop(){clearInterval(this._watch_id),Xd.hide()}_show_progress_modal(){if(this._modal_shown)return;this._modal_shown=!0;const e=this.options();e.progress_text&&Xd.show(e.progress_text)}_fetch_progress(){const e={};return this.uid&&(e._subject_uid=this.uid),function(e){null==e&&(e={});return cu(e,[].concat(Eu,Su,wu))}({url:`/job_status/${this.job_id}`,data:e,dataType:"text",success(e,t,n,r){let i;i=0===t.indexOf("done")?"1/1":t,Xd.update(i)},error:(e,t,n)=>{if(this._failures++,!(this._failures<3))return this._stop(),this.next.error(e,t,n)}})}static generate_job_id(){const e=(new Date).getTime().toString();let t=Math.floor(1e6*Math.random()).toString();return t=`000000${t}`.substring(t.length),e+t}}const Eu=[class extends mu{constructor(){super(),this.browser_unload_handler=this.browser_unload_handler.bind(this),this.is_browser_unloading=!1}browser_unload_handler(){this.is_browser_unloading=!0}request(e){return window.addEventListener("beforeunload",this.browser_unload_handler),this.next.request(e)}error(e,t,n){return"error"===t&&this.is_browser_unloading?this.next.error(e,"aborted",new Error("unload")):this.next.error(e,t,n)}complete(e,t,n){return window.removeEventListener("beforeunload",this.browser_unload_handler),this.next.complete(e,t,n)}}],wu=[fu,gu,hu,class extends mu{error(e,t,n){if(H(n)||K(n)&&403===n.response.status){const e=Xc.get("reload-timestamp"),t=(new Date).getTime();(!e||t-e>3e4)&&(Xc.set("reload-timestamp",t),window.location.reload())}return this.next.error(e,t,n)}}],yu=[class extends mu{constructor(){super(),this._clear_working_msg=this._clear_working_msg.bind(this)}request(e){let t=!1;e.catch((()=>{})).then((()=>{t=!0}));const n=()=>{t||(this._should_show_working_msg()?(this._show_working_msg(),e.catch((()=>{})).then((()=>{this._clear_working_msg()}))):setTimeout(n,100))};return setTimeout(n,4e3),this.next.request(e)}_should_show_working_msg(){const e=m.Notify.current();return null!=e&&Date.now()>e.shownAtMs+e.durationMs/2}_show_working_msg(){return this.notificationId=m.Notify.success(h.intl.formatMessage({id:"8jNAni",defaultMessage:"Still working..."})),this.notificationId}_clear_working_msg(){const e=m.Notify.current();if(e&&e.timeoutId===this.notificationId)return m.Notify.clear()}}],Su=[class extends mu{error(e,t,n){return this._notify_dev(t,n),this.next.error(e,t,n)}_notify_dev(e,t){if(H(t)||K(t)){t.response.headers.get("X-Debug-Url")}}},class extends mu{headers(){const e=this.next.headers(),t=a.getAttributionHeader();return t&&e.append("x-dropbox-client-yaps-attribution",t),e}},_u,class extends mu{data(){const e=this.next.data(),t={};o.getPublicModeOverride()&&(t.public_mode_override="1");const n=o.getCountryOverride();return n&&(t.country_override=n),Object.assign(Object.assign({},t),e)}}],Tu=[class extends mu{constructor(){super(),this._watch=this._watch.bind(this)}data(){const e=this.next.data();this.uid=e._subject_uid?String(e._subject_uid):"";const{subject_user:t}=this.options();return!this.uid&&t&&(this.uid=String(t)),e}success(e,t,n,r){return this._is_async_job_response(t)?(this.job_id=t.split(":")[1],this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval)):this.next.success(e,t,n,r)}complete(e,t,n){if(!this._is_async_job_response(n))return this.next.complete(e,t,n)}_is_async_job_response(e){if(!e||0!==e.indexOf("async_task_started:"))return!1;return e.split(":")[1].match(/^[A-Za-z0-9_\-=]*$/)}_watch(){return Yd.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())}_stop(){clearInterval(this._watch_id),Xd.hide()}_show_progress_modal(){if(this._modal_shown)return;this._modal_shown=!0;const{progress_text:e}=this.options();e&&Xd.show(e)}_fetch_progress(){const e={};return this.uid&&(e._subject_uid=this.uid),Nu({url:`/async_task_status/${this.job_id}`,data:e,dataType:"text",success:(e,t,n,r)=>{let i=t;if(0===i.indexOf(au))return Yd.handled(this.job_id),this._stop(),i=i.substr(5),t=i,this.next.success(e,t,n,r),this.next.complete(r,n,t);if(0===i.indexOf(iu)){Yd.handled(this.job_id),this._stop();const e=i.substr(4);return m.Notify.error(e),this.next.error(r,n,new Error(e)),this.next.complete(r,n,t)}if(0===i.indexOf(ou)){Yd.handled(this.job_id),this._stop();const e=i.substr(15);return m.Notify.error(new m.HTML(e)),this.next.complete(r,n,t)}Xd.update(i)},error:(e,t,n)=>{if(this._failures++,!(this._failures<3))return this._stop(),this.next.error(e,t,n),this.next.complete(e,t,"")}})}}];[].concat(Eu,yu,vu,Su,wu,Tu),[].concat(Eu,yu,class extends mu{success(e,t,n,r){if(!this.options().skipErrorHandling){if(!t.length)return this.next.error(r,n,new Error("AJAX Form response was empty."));if(0===t.indexOf(iu)){const e=t.substr(4);return this.next.error(r,n,new Error(e))}}return this.next.success(e,t,n,r)}},Su,wu,Tu),[].concat(Eu,yu,vu,Su,wu,bu,Tu);const xu=[fu,gu,hu],Cu=[].concat(Eu,Su,xu);function Nu(e){return null==e&&(e={}),cu(e,Cu)}function ku(e){if(null==e&&(e={}),!navigator.sendBeacon)return Nu(e);const t=new pu(e),n=du(t,[].concat(xu,_u)),r=n.url(),i=(e=>{const t=new FormData;for(const n of Object.keys(e)){const r=e[n];(null===r?[]:Array.isArray(r)?r:[r]).forEach((e=>{let r;void 0!==e&&(r=!0===e?"true":!1===e?"false":"number"==typeof e?String(e):"object"==typeof e?e.toString():e,t.append(n,r))}))}return t})(n.data());try{return void(navigator.sendBeacon(String(r),i)||console.warn(`Beacon request failed: ${r}`))}catch(t){return Nu(e)}}const Ou="/log/telemetry",Iu=204;class Au{constructor(e,t,n){this.store=e,this.sendInterval=t,this.batchSize=n,this.numSuccessfulPublish=0,this.numFailedPublish=0,this._pageUnloading=!1,this.scheduleNextSend(Date.now())}drainAllLogs(){this._pageUnloading||(this._pageUnloading=!0,this.store.subscribeToPushEvent((()=>{this.sendOnce(!0)}))),null!=this.nextSendTimeoutId&&clearTimeout(this.nextSendTimeoutId),this.sendOnce(!0)}sendOnce(e=!1){const t=this.store.drain(this.batchSize);Object.keys(t).length>0&&this.publish(t,e);const n=Date.now();this.scheduleNextSend(n),this.lastSendTime=n}publish(e,t=!1){const n={},r={};if(Object.keys(e).forEach((function(t){const r=e[t].map((e=>e.records()));n[t]=JSON.stringify([].concat(...r))})),r["data-version"]="1",r.batches=JSON.stringify(n),r.stats=this.store.stats.getAndReset(),t&&"navigator"in window&&"sendBeacon"in window.navigator)return void ku({url:Ou,data:r});a.sendXhr(Ou,r,(t=>{t===Iu?this.onSendSuccess(e):this.onSendFailure(e)}))}scheduleNextSend(e){this.nextSendTime=e+this.sendInterval,this.nextSendTimeoutId=setTimeout((()=>{this.sendOnce()}),this.sendInterval)}onSendSuccess(e){this.numSuccessfulPublish++,window.SECRET_LOGGING_FRAMEWORK_CALLBACK_DO_NOT_USE&&window.SECRET_LOGGING_FRAMEWORK_CALLBACK_DO_NOT_USE(e)}onSendFailure(e){this.numFailedPublish++;for(const t in e)if(e.hasOwnProperty(t))for(const n of e[t])n.markFailure(),n.numReportAttempts<4&&this.store.reEnqueueBatch(t,n)}}class Ru{constructor(e){this.prefix=e}log(e){window.EDISON_LOCALMODE||Pu().storage.pushEvent(this.prefix+e.category,e)}}class Lu extends Ru{constructor(){super("hive:")}}class Du{constructor(){const e=new Kd;var t;this.storage=new Wd(e),this.sender=new Au(this.storage,5e3,1),t=e=>{this.drainAllLogs()},Nc.push(t),window.addEventListener("beforeunload",(()=>{this.drainAllLogs()}))}drainAllLogs(){this.sender.drainAllLogs()}sendOnce(){this.sender.sendOnce()}}let Mu;function Pu(){return Mu||(Mu=new Du),Mu}var Uu=Object.freeze({__proto__:null,ClientTelemetry:Du,HiveLogger:Lu,JSEventLogger:class extends Ru{constructor(){super("js:")}},VortexComboLogger:class extends Ru{constructor(){super("vortexcombo:")}},getGlobalTelemetrySingleton:Pu});const Fu=new Lu;class Bu{constructor(e){this.category="web-visually_complete",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.time_to_visually_complete=e.time_to_visually_complete,this.last_visible_change=e.last_visible_change,this.product_name=e.product_name,this.navigation_type=e.navigation_type,this.request_id=o.getRequestId(),Object.seal(this)}}const ju=(e,t,n)=>{var r,i;o.getPageLocale()===t[0]&&t.shift();const s=null!==(r=t[0])&&void 0!==r?r:"",a=null!==(i=t[1])&&void 0!==i?i:"";if("warp_page"===n||"warp_page_no_indexing"===n||"warp_page_edison"===n){const e=zu(s,t);if(e)return e}switch(s){case"":return"homepage:loggedout";case"home":case"personal":case"work":return e.searchParams.has("preview")?"browse:preview":"browse";case"account":return Qu(a);case"admin":return Xu(a,t);case"backups":return"browse:backups";case"business":return Gu(a);case"content_hub":return qu(a,t);case"forgot":return"forgot_password";case"forgot_finish":return"forgot_password:finish";case"h":return"home";case"history":return"version_history";case"install":return"install";case"install-linux":return"install_linux";case"downloading":return"downloading";case"login_notification":return Ku(a);case"manage":return ep(a);case"preview":return"standalone_preview";case"previews":return"previews_carousel";case"product-updates":return tp(a);case"s":case"sh":return Wu(s,e.searchParams,n);case"scl":return Hu(a,e.searchParams,n);case"share":return $u(a);case"sm":return Zu(a);case"transfer":return Ju(a,t);case"search":return e.searchParams.get("preview")?"search_preview":e.searchParams.get("query")?"search_results_page":"search_zero_state";case"team":return Yu(a,t);case"dash-home":case"dash":case"dash_uninstall":case"dash_uninstall_survey_results":return np(t);case"backup":case"collections":case"deleted_files":case"events":case"login":case"mobile":case"photos":case"plans":case"recents":case"report_abuse":case"request":case"requests":case"signatures":case"starred":case"for_you":case"switch_login":case"time_tracking":case"trello_powerup":case"verify_code":return s;case"ncct-last-chance":return"ncct_last_chance";case"pro":if("redeem_key"===a)return"pro:redeem_key"}},zu=(e,t)=>{const n="warp";switch(e){case"":return`${n}:index`;case"dash":case"product-updates":return;default:const e=Vu(t,4);if(e)return`${n}:${e.replace(/-/g,"_")}`}},Gu=e=>{switch(e){case"":return"business";case"buy":return"business:buy";case"solutions":return"business:solutions";case"try":return"business:try";case"plans-comparison":return"business:plans_comparison"}},qu=(e,t)=>{switch(e){case"":return"content_hub";case"files":return"content_hub:files";case"s":return"content_hub:shared_link:file";case"sh":return"content_hub:shared_link:folder";case"playground":return"empty"===t[2]?"content_hub:test_pages:empty_page":"chrome"===t[2]?"content_hub:test_pages:chrome_only":void 0;default:return}},Vu=(e,t)=>{if(t<1)return;let n="";for(let r=0;r<t&&r<e.length;r++)e[r]&&(n+=(r>0?":":"")+e[r]);return n},$u=e=>{switch(e){case"recents":return"shared:recents";case"folders":return"shared:folders";case"files":return"shared:files";case"links":return"shared:links";case"signatures":return"shared:signatures"}},Wu=(e,t,n)=>{switch(e){case"s":return"shmodel_file_page"===n?"shared_link:file":n?"shared_link:file:"+n:"shared_link:file:uncategorized";case"sh":return"shared_link_folder"===n?t.has("preview")?"shared_link:folder:file_preview":"shared_link:folder":"shmodel_file_page"===n?"shared_link:file":n?"shared_link:folder:"+n:"shared_link:folder:uncategorized"}},Hu=(e,t,n)=>{switch(e){case"fi":return"scl_file_page"===n?"shared_content_link:file":n?"shared_content_link:file:"+n:"shared_content_link:file:uncategorized";case"fo":return"scl_folder_page"===n?t.has("preview")?"shared_content_link:folder:file_preview":"shared_content_link:folder":"scl_file_page"===n?"shared_content_link:file":n?"shared_content_link:folder:"+n:"shared_content_link:folder:uncategorized"}},Ku=e=>{switch(e){case"not_sure":return"login_notification:not_sure";case"this_was_me":return"login_notification:this_was_me"}},Ju=(e,t)=>{var n;switch(e){case"manage":return"transfer:manage";case"about":return"transfer:about";case"":break;default:const r=null!==(n=t[2])&&void 0!==n?n:"";if("edit"===r)return"transfer:edit";if(""===r&&e.length>10)return"transfer:view"}if(!e)return"transfer:create"},Yu=(e,t)=>{var n,r;const i=null!==(n=t[2])&&void 0!==n?n:"",s=null!==(r=t[3])&&void 0!==r?r:"";switch(e){case"admin":switch(i){case"cancel":return"team_admin:cancel";case"disband":return"team_admin:disband";case"domains":return"team_admin:domains";case"extend":return"accept"===s?"team_admin:extend_trial_accept":"team_admin:extend_trial";case"external_people":return"team_admin:external_people";case"members":return"requests"===s?"team_admin:members_requests":void 0;case"member_discovery":return"domain"===s?"team_admin:member_discovery_domain":void 0;case"settings":return"domains"===s?"team_admin:settings_domains":"membership_approval"===s?"team_admin:settings_membership_approval":void 0;case"your_domains":return"team_admin:your_domains"}return;case"discover":return"suggest"===i?"team:discover_suggest":"team:discover";case"rs_approval":return"team:rs_approval";case"cancel":return"done"===i?"team:cancel_done":"team:cancel";case"decide":return"team:decide";case"join":switch(i){case"login":return"team_join:login";case"pending_verification":return"team_join:pending_verification";case"complete":return"team_join:complete";default:return"team_join"}}},Xu=(e,t)=>{var n;const r=null!==(n=t[3])&&void 0!==n?n:"";return"teams"===e&&"domains"===r?"admin:teams_domains":void 0},Zu=e=>{switch(e){case"launch_intent_or_fallback_page":return"launch_intent_or_fallback_page";case"password":return"link_password_page"}},Qu=e=>{switch(e){case"connected_apps":return"account:app";case"billing":return"account:billing";case"branding":return"account:branding";case"complete_registration_page":return"account:complete_registration";case"general":return"account:general";case"family":return"account:family";case"notifications":return"account:notifications";case"plan":return"account:plan";case"security":return"account:security";case"privacy":return"account:privacy";case"sharing":return"account:sharing"}},ep=e=>{switch(e){case"subscriptions":return"manage:subscriptions";case"billing":return"manage:billing"}},tp=e=>e.includes("dbx")?"product_updates:dbx_monthly_update":e.includes("hs")?"product_updates:hs_monthly_update":"product_updates",np=e=>{const[t="",n="",r=""]=e;switch(t){case"dash_uninstall":return"dash:uninstall";case"dash_uninstall_survey_results":return"dash:uninstall_survey_results";case"dash":switch(n){case"":return"dash:landing_page";case"download":return"dash:download"}break;case"dash-home":switch(n){case"":return"dash:home";case"tabs":return"dash:tabs";case"connectors":return"dash:connectors";case"stacks":return""===r?"dash:library":"dash:stack_view"}}return"dash:unknown"},rp=new Lu;class ip{constructor(e){this.category="web-largest_contentful_paint",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.largest_contentful_paint=e.largest_contentful_paint,this.product_name=e.product_name,this.request_id=o.getRequestId(),Object.seal(this)}}const sp=new Lu;class op{constructor(e){this.category="web-time_to_first_byte",this.user_id=null,this.country=null,this.referrer=null,this.session_id=null,this.user_agent=null,this.ua_browser_name=null,this.ua_browser_version=null,this.time_to_first_byte=e.time_to_first_byte,this.product_name=e.product_name,this.request_id=o.getRequestId(),this.navigation_type=e.navigation_type,Object.seal(this)}}const ap=new RegExp("^(?:data|aria)-"),cp=new Set(["value","alt","title","style"]);function lp(e){const t=[];for(const n of e.attributes)t.push(n.name);for(const n of t)if("src"===n||"href"===n){const t=e.getAttribute(n);try{e.setAttribute(n,new URL(t).hostname)}catch(t){e.setAttribute(n,"****")}}else(ap.test(n)||cp.has(n))&&e.setAttribute(n,"****");return e}const dp=e=>{const t=e.detail.lastVisibleChange;let n="";if(t instanceof HTMLElement){n="load event: "+lp(t.cloneNode(!1)).outerHTML}else t&&(n="mutation: "+function(e){const t={type:e.type,target:e.target,addedNodes:e.addedNodes,removedNodes:e.removedNodes,attributeName:e.attributeName,attributeNamespace:e.attributeNamespace};return JSON.stringify(t,((e,t)=>{if(null!=t&&0!==Object.keys(t).length){if(t instanceof Element)return lp(t=t.cloneNode(!1)).outerHTML;if(!(t instanceof Node))return t}})," ")}(t));return n};class up{static getSingleton(){return up.instance||(up.instance=new up),up.instance}constructor(e=null,t=new qd){this.AMP_NAMESPACE="user_centric_perf",this.shouldLogToAmp=!1,e&&(this._metricsReporter=e),this.metricsCollector=t}get metricsReporter(){if(!this._metricsReporter)throw new Error("Must set `metricsReporter` on MetricsLogger before deriving metrics");return this._metricsReporter}set metricsReporter(e){this._metricsReporter=e}deriveAndLogAllMetrics(){this.deriveAndLogTimeToFirstByte(),this.deriveAndLogFirstContentfulPaint(),this.deriveAndLogLargestContentfulPaint(),this.deriveAndLogFirstInputDelay(),this.deriveAndLogCumulativeLayoutShift(),this.deriveAndLogTimeToVisuallyComplete(),this.deriveAndLogTimeToConsistentlyInteractive(),this.deriveAndLogInteractionToNextPaint(),this.logTimeToInteractive(),this.observeRageClicks()}deriveAndLogTimeToFirstByte(){this.metricsCollector.onTTFB((e=>{this.logMetricToAmp("time_to_first_byte_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();"UNKNOWN"!==t&&(this.logMetricToAmp("ttfb",e.value,r.TimeUnit.MILLISECONDS,{navigation_type:e.navigationType,product:t,web_server:n},!0),sp.log(new op({time_to_first_byte:Math.round(e.value),product_name:t,navigation_type:e.navigationType})))}))}deriveAndLogFirstContentfulPaint(){this.metricsCollector.onFCP((e=>{const{productName:t,webserver:n}=this.getProductNameAndServer();Ll("fcp",{duration:e.value,detail:Object.assign({product:t,webserver:n,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold},Dl(e))}),this.logMetricToAmp("time_to_first_contentful_paint_ms",e.value)}))}deriveAndLogLargestContentfulPaint(){this.metricsCollector.onLCP((e=>{this.logMetricToAmp("time_to_largest_contentful_paint_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();Ll("lcp",{duration:e.value,detail:Object.assign({product:t,webserver:n,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold},Dl(e))}),rp.log(new ip({largest_contentful_paint:Math.round(e.value),product_name:t}));const r=new CustomEvent("largest_contentful_paint",{detail:{value:e.value}});window.dispatchEvent(r)}))}deriveAndLogFirstInputDelay(){this.metricsCollector.onFID((e=>{const t=e.entries[0].startTime;this.logMetricToAmp("time_to_first_input_ms",t),this.logMetricToAmp("first_input_delay_ms",e.value)}))}deriveAndLogCumulativeLayoutShift(){this.metricsCollector.onCLS((e=>{this.logMetricToAmp("cumulative_layout_shift",e.value,null);const{productName:t,webserver:n}=this.getProductNameAndServer();Ll("cls",{duration:e.value,detail:Object.assign({product:t,webserver:n},Dl(e))})}))}deriveAndLogInteractionToNextPaint(){this.metricsCollector.onINP((e=>{this.logMetricToAmp("interaction_to_next_paint_ms",e.value);const{productName:t,webserver:n}=this.getProductNameAndServer();Ll("inp",{duration:e.value,detail:Object.assign({product:t,webserver:n},Dl(e))})}))}deriveAndLogTimeToVisuallyComplete(){this.metricsCollector.onTTVC((e=>this.onTimeToVisuallyCompleteSuccess(e)),(e=>this.onTimeToVisuallyCompleteCancellation(e)))}onTimeToVisuallyCompleteSuccess(e){if(e.duration<0)return;const{productName:t,webserver:n}=this.getProductNameAndServer(),i="script"===e.detail.navigationType,s=i?"ajax":e.detail.navigationType;Ll("ttvc",{start:e.start,duration:e.duration,detail:{product:t,webserver:n,navigationType:s,isBuildTimePrefetchesEnabled:this.isBuildTimePrefetchesEnabled,skipBtpPrefetchDurationThreshold:this.skipBtpPrefetchDurationThreshold}}),Fu.log(new Bu({time_to_visually_complete:Math.round(e.duration),last_visible_change:dp(e),product_name:t,navigation_type:s}));const a=Boolean(o.isHTTP3SupportEnabled())?"http3":"http2";i||this.logMetricToAmp("time_to_visually_complete_ms",e.duration,r.TimeUnit.MILLISECONDS,{did_network_timeout:e.detail.didNetworkTimeOut.toString(),protocol:a});const c={did_network_timeout:e.detail.didNetworkTimeOut.toString(),navigation_type:s,protocol:a};this.resourceSummary&&this.resourceSummary.total.script&&(c.all_js_loaded_from_cache=(0===this.resourceSummary.total.script.transfer_size).toString()),"UNKNOWN"!==t&&this.logMetricToAmp("ttvc",e.duration,r.TimeUnit.MILLISECONDS,Object.assign(Object.assign({},c),{product:t,web_server:n}),!0);const l=new CustomEvent("visually_complete",{detail:{value:e.duration,navigation_type:i?"ajax":"page_load"}});window.dispatchEvent(l);try{performance.mark("visually_complete",{startTime:e.duration}),performance.measure("visually_complete",{start:e.start,duration:e.duration})}catch(e){}}onTimeToVisuallyCompleteCancellation(e){const{productName:t,webserver:n}=this.getProductNameAndServer();Ll("ttvc/cancelled",{start:e.start,duration:e.end-e.start,detail:{cancellationReason:e.cancellationReason,product:t,webserver:n,navigationType:e.navigationType}})}logTimeToInteractive(){this.metricsCollector.getTTI((e=>{const{productName:t,webserver:n}=this.getProductNameAndServer();"UNKNOWN"!==t&&this.logMetricToAmp("tti",e,r.TimeUnit.MILLISECONDS,{product:t,web_server:n},!0)}))}deriveAndLogTimeToConsistentlyInteractive(){}observeRageClicks(){}getProductNameAndServer(){const e=function(e){var t;const n=window.EDISON_PAGE_NAME,r=null===(t=window.ensemble)||void 0===t?void 0:t.getPageName(),i=e.pathname.substring(1).split("/"),s=ju(e,i,null!=n?n:r);return s||(n?`edison_page_name:${n}`:r?`dws_page_name:${r}`:"UNKNOWN")}(new URL(window.location.toString()));let t="unknown";return window.RUNNING_IN_EDISON?t="edison":window.ensemble&&(t="dws"),{productName:e,webserver:t}}logMetricToAmp(e,t,n=r.TimeUnit.MILLISECONDS,i,s=!1){if(!s&&!this.shouldLogToAmp)return;const o=this.metricsReporter.createStats(this.createAMPMetric(e),i);n?o.recordDuration(t,r.TimeUnit.MILLISECONDS):o.record(t)}createAMPMetric(e){return{ns:this.AMP_NAMESPACE,name:`browser/${e}`}}}void 0!==window&&up.getSingleton();var pp;!function(e){e[e.NEW=1]="NEW",e[e.RUNNING=2]="RUNNING",e[e.ABORTED=3]="ABORTED",e[e.CLOSED=4]="CLOSED"}(pp||(pp={}));const mp=["navigation_type","referrer","repo_rev","source_type","active_user_id"],hp=["tti_flow","tti_exclusion_flow","is_dws2"];function fp(){return"hidden"===window.document.visibilityState}const gp=[[$c.APPLICATION_START,$c.FETCHED_DATA_FOR_TTI,$c.MARK_TIME_TO_INTERACTIVE],[$c.TIME_TO_INTERACTIVE]].reverse();let _p=1;function vp(e,t,n){!function(e,t){const n=Ic.createDetachedStopwatch("cumulative_cpu_time",e);for(const e in t)t.hasOwnProperty(e)&&Lc.forEach((r=>{n.recordTrace(`cpu_before_${e}_due_to_${r}`,t[e][r]||0)}));n.logData()}(e,function(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];n[r]={},t.forEach((e=>{0<e.startTime&&e.startTime<i&&(n[r][e.jsExecutionType]=n[r][e.jsExecutionType]||0,n[r][e.jsExecutionType]+=e.totalTime)}))}return n}(t,n))}const bp="web_timing";class Ep{constructor(){Ic.create_stopwatch_if_not_exist("web_timing_logger"),this.shouldLogJsModuleTimes=()=>Math.random()<.001}buildBaseParams(e,t,n={}){const r=e.start_time,i=e.subtypes||{};e.tti_flow&&(i.tti_flow=e.tti_flow);const s={log_source:t.name,subtypes:JSON.stringify(i),correlation_id:e.correlation_id};let a;e.extra_columns&&Object.keys(e.extra_columns).forEach((t=>{const n=e.extra_columns[t];n&&(s[t]=n)})),Object.keys(n).forEach((e=>{const t=n[e];t&&(s[e]=t)})),e.is_pagelet&&(s.is_pagelet=!0),e.is_dws&&(s.is_dws=!0),e.is_early_ensemble&&(s.is_early_ensemble=!0),s.delayed_tti_for_css=e.delayed_tti_for_css,""!==e.tti_exclusion_flow&&(s.tti_exclusion_flow=e.tti_exclusion_flow),a=e.log_time_to_interactive&&null!=e.time_to_interactive?e.time_to_interactive-r:null;const c={navigation_type:this.get_navigation_type(),server_request_start_time:o.getRequestStartTime(),extra_columns:JSON.stringify(s),subtypes:JSON.stringify(i),source_type:e.source_type,page_load_time:e.end_time-e.start_time,repo_rev:o.getRepoRev()};return this.shouldLogJsModuleTimes()&&Lp(c),e.log_time_to_interactive&&(c.time_to_interactive=a),c.url=Cc(),0===c.url.indexOf("/dws2/")&&(c.url=c.url.substring(5)),c.active_user_id=we(),c.referrer=document.referrer,c.request_id=e.request_id||o.getRequestId(),c.request_tracing_enabled=o.isRequestTracingEnabled(),window.ensemble&&window.ensemble.viewer&&(c.dws_page_name=window.ensemble.getPageName()),window.EDISON_PAGE_NAME&&(c.edison_page_name=window.EDISON_PAGE_NAME),c}get_navigation_type(){return Vc.getFromNavigation(window.performance.navigation)}log(e,t){const n=Ic.startSpan("wtl_endpoint",{stopwatchName:"web_timing_logger"});Ic.addSpanAnnotation("wtl_endpoint","navigation_type",t.navigation_type,{stopwatchName:"web_timing_logger",spanId:n}),Object.keys(t).forEach((e=>{"number"==typeof t[e]&&(t[e]=Math.round(t[e]))}));const r=a.sendXhr("/alternate_wtl",t);r.onreadystatechange=e=>{r.readyState===XMLHttpRequest.DONE&&200===r.status&&Ic.endSpan("wtl_endpoint",{stopwatchName:"web_timing_logger",spanId:n})}}}class wp extends Ep{constructor(){super()}shouldLog(e){return e.initialized&&!e.have_logged_web_timing&&void 0!==e.end_time&&(!e.log_time_to_interactive||null!=e.time_to_interactive)}logTiming(e,t){e.have_logged_web_timing=!0;const n=this.buildBaseParams(e,t),r=Op(e,n);return this.log(e,n),r}get_navigation_type(){return"ajax"}}class yp extends Ep{constructor(){super()}shouldLog(e){if(!e.initialized||e.have_logged_web_timing)return!1;const t=window.performance.timing,n=e.start_time,r=e.end_time;return!(!n||!r)&&!(e.log_time_to_interactive&&!(e.tti_at_dom_interactive&&(null==t?void 0:t.domInteractive)||null!=e.time_to_interactive))}logTiming(e,t){const n=performance.getEntriesByType("navigation")[0],i=Dc();Ic.startSpan("process_nav_timing",{stopwatchName:"web_timing_logger"});const s=this.buildBaseParams(e,t,{}),c=Op(e,s),l=qc(performance.getEntriesByType("resource"));if(n)s.browser_time=Math.round(n.redirectStart||n.fetchStart),s.redirect_time=Math.round(n.fetchStart),s.dns_time=Math.round(n.domainLookupEnd),s.tcp_connect_time=Math.round(n.secureConnectionStart||n.requestStart),s.ssl_connect_time=Math.round(n.requestStart),s.time_to_first_byte=Math.round(n.responseStart),s.time_to_last_byte=Math.round(n.responseEnd),s.dom_load_time=Math.round(n.domContentLoadedEventEnd);else{const t=performance.timing;s.browser_time=t.redirectStart-e.start_time,s.redirect_time=t.fetchStart-e.start_time,s.dns_time=t.domainLookupEnd-e.start_time,s.tcp_connect_time=(t.secureConnectionStart||t.requestStart)-e.start_time,s.ssl_connect_time=t.requestStart-e.start_time,s.time_to_first_byte=t.responseStart-e.start_time,s.time_to_last_byte=t.responseEnd-e.start_time,s.dom_load_time=t.domContentLoadedEventEnd-e.start_time}s.idle_cpu_time=e.timing_results?Math.round(e.timing_results.idleCPUTime):void 0,s.total_tracked_cpu_time=e.timing_results?Math.round(e.timing_results.totalTrackedCPUTime):void 0,s.untracked_time_after_first_byte=e.timing_results&&null!=e.timing_results.untrackedTimeAfterFirstByte?Math.round(e.timing_results.untrackedTimeAfterFirstByte):void 0,function(e,t){for(const n in e)e.hasOwnProperty(n)&&(t[`resource_${n}_count`]=e[n].count,t[`resource_${n}_avg_time`]=e[n].total_time/e[n].count||1,void 0!==e[n].total_size&&(t[`resource_${n}_total_size`]=e[n].total_size),void 0!==e[n].transfer_size&&(t[`resource_${n}_transfer_size`]=e[n].transfer_size))}(l.total,s),function(e,t){let n;for(n in e)if(e.hasOwnProperty(n)){const r=e[n];for(const e in r)if(r.hasOwnProperty(e)){const i=r[e].transfer_size,s=r[e].total_size,o=r[e].count,a=r[e].total_time;if(t.recordTrace(`${n}_${e}_count`,o),t.recordTrace(`${n}_${e}_total_time`,a),void 0!==i&&void 0!==s&&s>0){const r=i/s;t.recordTrace(`${n}_${e}_transferred_size`,i),t.recordTrace(`${n}_${e}_total_size`,s),t.recordTrace(`${n}_percent_${e}_transferred`,100*r)}t.recordTrace(`${n}_last_${e}_transfer_end`,r[e].last_transfer_end)}}t.logData()}(l,Ic.createDetachedStopwatch("resources_percent_transferred",c)),Ic.addSpanAnnotation("process_nav_timing","logged_resources","1",{stopwatchName:"web_timing_logger"}),this.shouldLogJsModuleTimes()&&Lp(s),Ic.addSpanAnnotation("process_nav_timing","logged_modules","1",{stopwatchName:"web_timing_logger"}),Ic.endSpan("process_nav_timing",{stopwatchName:"web_timing_logger"}),function(){const e=window.performance.timing,t={navigation_start:e.navigationStart,unload_event_start:e.unloadEventStart,unload_event_end:e.unloadEventEnd,redirect_start:e.redirectStart,redirect_end:e.redirectEnd,fetch_start:e.fetchStart,domain_lookup_start:e.domainLookupStart,domain_lookup_end:e.domainLookupEnd,connect_start:e.connectStart,secure_connect_start:e.secureConnectionStart,connect_end:e.connectEnd,request_start:e.requestStart,response_start:e.responseStart,response_end:e.responseEnd,dom_loading:e.domLoading,dom_interactive:e.domInteractive,dom_content_loaded_event_start:e.domContentLoadedEventStart,dom_content_loded_event_end:e.domContentLoadedEventEnd,dom_complete:e.domComplete,load_event_start:e.loadEventStart,load_event_end:e.loadEventEnd},n={};n.request_id=o.getRequestId(),n.referrer=document.referrer;for(const e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);a.sendXhr("/alternate_wtl_browser_performance_info",n)}(),vp(c,e.timesStagesWereReached,i),this.get_navigation_type()===Vc.NAVIGATE&&jc(c),Ic.log_stored_results();const u=function(e,t){const n={is_dws:String(e.is_dws),source_type:String(e.source_type),is_build_time_prefetches_enabled:String(e.is_build_time_prefetches_enabled),is_css_preload_enabled:String(e.is_css_preload_enabled)};let r="";return e.subtypes.amp_tti_flow?r=e.subtypes.amp_tti_flow:t.dws_page_name?r=`dws_page_name:${t.dws_page_name}`:t.edison_page_name&&(r=`edison_page_name:${t.edison_page_name}`),""!==r&&(n.product=r),t.navigation_type&&(n.navigation_type=t.navigation_type),n}(e,s),p=d.getMetricsReporter$1().child(u),m=function(e,t){return t.navigation_type===Vc.NAVIGATE||"ajax"===t.navigation_type}(0,s);return((e,t,n,r,i)=>{const s=up.getSingleton();s.metricsReporter=e,s.shouldLogToAmp=t,s.resourceSummary=n,s.isBuildTimePrefetchesEnabled=!!r,s.skipBtpPrefetchDurationThreshold=i,s.deriveAndLogAllMetrics()})(d.getUnloadMetricsReporter().child(u),m,l,e.is_build_time_prefetches_enabled,e.skip_btp_prefetch_duration_threshold),m&&(function(e,t){e.time_to_interactive&&t.createStats({ns:bp,name:"temp/time-to-interactive"}).recordDuration(e.time_to_interactive,r.TimeUnit.MILLISECONDS)}(s,p),function(e,t){let n;for(n in e)if(e.hasOwnProperty(n)){const i=e[n];for(const e in i)if(i.hasOwnProperty(e)){const{transfer_size:s,total_size:o,count:a,total_time:c,last_transfer_end:l}=i[e];t.createStats({ns:bp,name:`temp/resources/${n}/${e}/count`}).record(a),t.createStats({ns:bp,name:`temp/resources/${n}/${e}/total-time`}).recordDuration(c,r.TimeUnit.MILLISECONDS),t.createStats({ns:bp,name:`temp/resources/${n}/${e}/last-transfer-end`}).recordDuration(l,r.TimeUnit.MILLISECONDS),void 0!==s&&void 0!==o&&o>0&&(t.createStats({ns:bp,name:`temp/resources/${n}/${e}/transferred-size`}).record(s),t.createStats({ns:bp,name:`temp/resources/${n}/${e}/total-size`}).record(o))}}}(l,p),function(e){const[t=null]=performance.getEntriesByType("navigation");t&&([["temp/browser-perf/navigation/unload-event-start",t.unloadEventStart],["temp/browser-perf/navigation/unload-event-end",t.unloadEventEnd],["temp/browser-perf/navigation/dom-interactive",t.domInteractive],["temp/browser-perf/navigation/dom-content-loaded-event-start",t.domContentLoadedEventStart],["temp/browser-perf/navigation/dom-content-loaded-event-end",t.domContentLoadedEventEnd],["temp/browser-perf/navigation/dom-complete",t.domComplete],["temp/browser-perf/navigation/load-event-start",t.loadEventStart],["temp/browser-perf/navigation/load-event-end",t.loadEventEnd],["temp/browser-perf/navigation/redirect-count",t.redirectCount],["temp/browser-perf/navigation/worker-start",t.workerStart],["temp/browser-perf/navigation/redirect-start",t.redirectStart],["temp/browser-perf/navigation/redirect-end",t.redirectEnd],["temp/browser-perf/navigation/fetch-start",t.fetchStart],["temp/browser-perf/navigation/domain-lookup-start",t.domainLookupStart],["temp/browser-perf/navigation/domain-lookup-end",t.domainLookupEnd],["temp/browser-perf/navigation/connect-start",t.connectStart],["temp/browser-perf/navigation/connect-end",t.connectEnd],["temp/browser-perf/navigation/secure-connect-start",t.secureConnectionStart],["temp/browser-perf/navigation/request-start",t.requestStart],["temp/browser-perf/navigation/response-start",t.responseStart],["temp/browser-perf/navigation/response-end",t.responseEnd],["temp/browser-perf/navigation/transfer-size",t.transferSize]].forEach((([t,n])=>{"number"==typeof n&&e.createStats({ns:bp,name:t}).recordDuration(n,r.TimeUnit.MILLISECONDS)})),[["temp/browser-perf/navigation/encoded-body-size",t.encodedBodySize],["temp/browser-perf/navigation/decoded-body-size",t.decodedBodySize]].forEach((([t,n])=>{"number"==typeof n&&e.createStats({ns:bp,name:t}).record(n)})))}(p)),e.have_logged_web_timing=!0,this.log(e,s),c}log(e,t){super.log(e,t)}}class Sp{constructor(e,t,n,r){this.childSpans=[],this.spanName=e,this.startTime=null!=n?n:Wc.getNow(),this.originTs=t,this.startTimeOffsetMS=this.startTime-t,this.endCallback=r}startSpan(e){const t=new Sp(e,this.originTs);return this.childSpans.push(t),t}markSpan(e,t){const n=new Sp(e,this.originTs,this.startTime);this.childSpans.push(n),n.endSpan(t)}endSpan(e){this.endTime=void 0!==e?e:Wc.getNow(),this.childSpans.forEach((e=>{e.hasEnded()||e.endSpan(this.endTime)})),this.endCallback&&this.endCallback(this)}getEndTimeOffsetMS(){return void 0!==this.endTime?this.endTime-this.originTs:void 0}hasEnded(){return void 0!==this.endTime}}class Tp{constructor(e,t,n,r=!1){this.timerState=pp.RUNNING,this.loggedEvents=0,this.activeSpans=[],this.endedSpans=[],this.context=e,this.timingStopwatch=t,this.userStopwatch=n,this.id=_p++,this.strictAssert=r}startSpan(e){const t=new Sp(e,this.context.start_time,void 0,(e=>{this.endSpan(e)}));return this.activeSpans.push(t),t}markSpan(e,t={}){if(this.userStopwatch){const n=void 0===t.startTime?0:t.startTime,r=this.timeSinceStart(t.endTime),i=this.userStopwatch.startSpan(e,{startTime:n});this.userStopwatch.endSpan(e,{spanId:i,endTime:r})}else{const n=new Sp(e,this.context.start_time,t.startTime);n.endSpan(t.endTime),this.endedSpans.push(n)}}endSpan(e){const t=this.activeSpans.indexOf(e);t>=0&&(delete this.activeSpans[t],this.userStopwatch?this.recordSpan(e):this.endedSpans.push(e))}recordSpan(e){const t=this.userStopwatch.startSpan(e.spanName,{startTime:e.startTimeOffsetMS});e.childSpans.forEach((e=>{this.recordSpan(e)})),this.userStopwatch.endSpan(e.spanName,{spanId:t,endTime:e.getEndTimeOffsetMS()})}getContextName(){return this.context.context_name}applicationStart(){this.logEvent($c.APPLICATION_START)}fetchedDataRequiredForTTI(){this.logEvent($c.FETCHED_DATA_FOR_TTI)}startTime(){return this.context.start_time}timeSinceStart(e){return(e||Wc.getNow())-this.context.start_time}timeToInteractive(){return this.context.time_to_interactive}reportTTIAfterPaint(){const e=new Hc((()=>{this.reportTTI()}));return window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e.exec()}))})),e}setExtraColumns(e){this.context.extra_columns=e}excludeFromTTI(e){""!==this.context.tti_exclusion_flow&&(this.context.tti_exclusion_flow=this.context.tti_exclusion_flow+","),this.context.tti_exclusion_flow=this.context.tti_exclusion_flow+e}logEvent(e,t){this.logEventInternal(e,!0,t)}logSilentEvent(e,t){this.logEventInternal(e,!1,t)}logEventInternal(e,t,n){this.loggedEvents|=e.flag,e.ordered&&this.validateEventOrder(e);const r=this.timeSinceStart(n);this.context.timesStagesWereReached[e.name]=r,this.timingStopwatch.recordTrace(e.name,r),window.performance.mark&&window.performance.mark(e.name),t&&e.triggersLogging&&this.logIfReady(e)}validateEventOrder(e){let t=0;for(const n of gp){if(n.includes(e))break;for(const e of n)t|=e.flag}const n=t&this.loggedEvents;if(n>0){const t=$c.allEvents.filter((e=>(e.flag&n)>0)).map((e=>e.name));this.reportSwMisuse(`Received ${e.name} after [${t.join(",")}]`)}}logIfReady(e){if(this.logger.shouldLog(this.context)){this.addEventBasedTiming();const t=this.logger.logTiming(this.context,e);Ip(this.timingStopwatch,t),Ip(this.userStopwatch,t),this.timingStopwatch.logData(),this.userStopwatch.logData(),this.timerState=pp.CLOSED}}addEventBasedTiming(){const e=window.performance.timing;this.context.tti_at_dom_interactive&&(this.context.time_to_interactive=e.domInteractive,this.logSilentEvent($c.MARK_TIME_TO_INTERACTIVE,this.context.time_to_interactive),this.logSilentEvent($c.TIME_TO_INTERACTIVE,this.context.time_to_interactive))}reportSwMisuse(e){e=`WebTimer: ${e}`,this.strictAssert?s.assert(!1,e):u.reportStack(e,{severity:p.SEVERITY.NONCRITICAL,tags:["web_timing_logger"]})}}class xp extends Tp{constructor(e){super(e,Ic.createDetachedStopwatch("maestro_tracing",{correlation_id:e.correlation_id}),Ic.createDetachedStopwatch("user_tracing",{correlation_id:e.correlation_id}),!1),this.logger=new wp}initialize(e){this.context.initialized||(this.context.initialized=!0,this.context.log_time_to_interactive=e.requireTTI,this.context.tti_flow=e.url,this.timingStopwatch.url=this.context.tti_flow,this.userStopwatch.url=this.context.tti_flow)}start(){this.isUsable()&&this.timerState===pp.NEW&&(this.context.start_time=Wc.getNow(),this.timerState=pp.RUNNING)}restart(){this.TTICallback&&(this.TTICallback.cancel(),this.TTICallback=void 0),this.loggedEvents=0,this.context.have_logged_web_timing=!1,this.context.correlation_id=Wc.generateCorrelationId(),this.context.start_time=Wc.getNow(),this.context.end_time=void 0,this.context.time_to_interactive=null,this.timerState=pp.RUNNING,Ic.deleteStopwatch(this.timingStopwatch),this.timingStopwatch=Ic.createDetachedStopwatch("maestro_tracing",{request_id:this.context.request_id,url:this.context.tti_flow,correlation_id:this.context.correlation_id}),Ic.deleteStopwatch(this.userStopwatch),this.userStopwatch=Ic.createDetachedStopwatch("user_tracing",{request_id:this.context.request_id,url:this.context.tti_flow,correlation_id:this.context.correlation_id})}abort(){this.timerState!==pp.CLOSED&&(this.timerState=pp.ABORTED)}markTimeToInteractive(){this.isUsable()&&(this.logEvent($c.MARK_TIME_TO_INTERACTIVE),fp()?this.reportTTI():this.TTICallback=this.reportTTIAfterPaint())}reportTTI(){if(null!=this.context.time_to_interactive)return;this.context.time_to_interactive=Wc.getNow(),this.logEvent($c.TIME_TO_INTERACTIVE),Promise.resolve().then((function(){return Uu})).then((({getGlobalTelemetrySingleton:e})=>{e().sendOnce()}));Dp(this.timeSinceStart(this.context.time_to_interactive),!0)}end(e){this.isUsable()&&(void 0===this.context.end_time&&(this.context.end_time=Wc.getNow()),this.context.request_id=e,this.timingStopwatch.request_id=e,this.userStopwatch.request_id=e,this.logEvent($c.LOAD_END))}isUsable(){return this.timerState===pp.NEW||this.timerState===pp.RUNNING}}class Cp extends Tp{constructor(e){super(e,Ic.createDetachedStopwatch("maestro_tracing",{correlation_id:e.correlation_id}),Ic.createDetachedStopwatch("user_tracing",{correlation_id:e.correlation_id}),!1),this.logger=new yp}initialize(e){var t,n;if(!this.context.initialized&&(this.context.log_time_to_interactive=e.requireTTI,this.context.is_pagelet=!!e.is_pagelet,this.context.is_dws=!!e.is_dws,this.context.is_dws2=!!e.is_dws2,this.context.is_early_ensemble=!!e.is_early_ensemble,this.context.tti_at_dom_interactive=!!e.tti_at_dom_interactive,this.context.source_type=null!=e.source_type?e.source_type:"web",this.context.subtypes=null!=e.subtypes?e.subtypes:{},this.context.tti_exclusion_flow=null!=e.tti_exclusion_flow?e.tti_exclusion_flow:"",this.context.have_logged_web_timing=!1,this.context.delayed_tti_for_css=!1,this.context.initialized=!0,this.context.is_build_time_prefetches_enabled=!!e.is_build_time_prefetches_enabled,this.context.skip_btp_prefetch_duration_threshold=null!==(t=e.skip_btp_prefetch_duration_threshold)&&void 0!==t?t:0,this.context.is_css_preload_enabled=!!e.is_css_preload_enabled,e.url&&(this.context.tti_flow=e.url,this.timingStopwatch.url=e.url,this.userStopwatch.url=e.url),this.context.subtypes.tti_flow&&(this.context.tti_flow=this.context.subtypes.tti_flow),Ic.create_stopwatch_if_not_exist("web_timing_logger"),bc((()=>{setTimeout((()=>this.end()),0)})),null===(n=window._timingData)||void 0===n?void 0:n.tti)){this.context.time_to_interactive=window._timingData.tti.getTime(),this.logEvent($c.TIME_TO_INTERACTIVE,this.context.time_to_interactive);Dp(this.timeSinceStart(this.context.time_to_interactive))}}start(){this.isUsable()&&this.timerState===pp.NEW&&(this.timerState=pp.RUNNING)}restart(){this.TTICallback&&(this.TTICallback.cancel(),this.TTICallback=void 0),this.loggedEvents=0,this.context.correlation_id=Wc.generateCorrelationId(),this.context.end_time=void 0,this.context.time_to_interactive=null,this.timerState=pp.RUNNING,this.timingStopwatch=Ic.createDetachedStopwatch("maestro_tracing",{correlation_id:this.context.correlation_id}),this.userStopwatch=Ic.createDetachedStopwatch("user_tracing",{correlation_id:this.context.correlation_id})}abort(){this.timerState!==pp.CLOSED&&(this.timerState=pp.ABORTED)}markTimeToInteractive(){if(window.ensemble&&window.ensemble.waitingForCss)return this.context.delayed_tti_for_css=!0,void(window.ensemble.mark_tti_callback=()=>{this.markTimeToInteractive()});null!=this.context.time_to_interactive||this.context.tti_at_dom_interactive||(this.logEvent($c.MARK_TIME_TO_INTERACTIVE),fp()?this.reportTTI():this.TTICallback=this.reportTTIAfterPaint())}reportTTI(){if(null==this.context.time_to_interactive)if(window._timingData&&null!=window._timingData.tti?this.context.time_to_interactive=window._timingData.tti.getTime():this.context.time_to_interactive=Wc.getNow(),window.ensemble&&window.ensemble.snapshotTimingProfile&&(this.context.timing_results=window.ensemble.snapshotTimingProfile()||null),window.RUNNING_IN_EDISON)new Promise((function(t,n){e(["./e_edison"],t,n)})).then((function(e){return e.edison_esnext})).then((({Edison:e})=>{const t=e.getPrefetchCounts(),n={};for(const e of Object.keys(t))n[e]=t[e].toString();this.context.subtypes=Object.assign(Object.assign({},n),this.context.subtypes),this.logEvent($c.TIME_TO_INTERACTIVE,this.context.time_to_interactive);Dp(this.timeSinceStart(this.context.time_to_interactive))}));else{this.logEvent($c.TIME_TO_INTERACTIVE,this.context.time_to_interactive);Dp(this.timeSinceStart(this.context.time_to_interactive))}}end(e){this.isUsable()&&void 0===this.context.end_time&&(this.context.end_time=Wc.getNow(),this.logEvent($c.LOAD_END),this.context.tti_at_dom_interactive&&Dp())}waitForTTI(e){return new Promise(((t,n)=>{var r;if(window.ensemble){if(window.ensemble.ttiMarked)return void t()}else if(null!=this.context.time_to_interactive)return void t();let i;const s=e=>{window.removeEventListener("TTI",s),clearTimeout(i),t()};window.addEventListener("TTI",s);const o=null!==(r=null==e?void 0:e.timeoutMS)&&void 0!==r?r:1e4;i=setTimeout(s,o)}))}isUsable(){return this.timerState===pp.NEW||this.timerState===pp.RUNNING}}const Np={};let kp;function Op(e,t){const n={};for(const e of mp){const r=t[e];r&&(n[e]=String(r))}const r=e;for(const e of hp){const t=r[e];t&&(n[e]=String(t))}return{correlation_id:e.correlation_id,request_id:t.request_id,annotations:n}}function Ip(e,t){if(t.annotations)for(const n in t.annotations)if(t.annotations.hasOwnProperty(n)){const r=t.annotations[n];r&&e.addAnnotation(n,String(r))}t.correlation_id&&e.addAnnotation(kc.CORRELATION_ID.id,t.correlation_id),t.request_id&&e.addAnnotation(kc.REQUEST_ID.id,t.request_id),t.url&&e.addAnnotation(kc.URL.id,t.url)}function Ap(e){return e?function(e){const t=e;return Np[t]||(Np[t]=new xp(Wc.newContext(!0,e))),Np[t]}(e):(kp||Rp(),kp)}function Rp(){kp=new Cp(Wc.newContext(!1,"default_timer"))}function Lp(e){const t=function(){const e=[];for(const t in window.requireContexts){const n=window.requireContexts[t].module_callback_times;for(const t in n)if(n.hasOwnProperty(t)){const r=n[t];if(null!=r.loadTime){const t={load_time:r.loadTime,callback_duration:r.callbackDuration,callback_time:r.callbackTime,name:r.name,url:r.url,parent:r.parent};e.push(t)}}}return e}(),n=[];for(const e of t){const t=e.url;if(void 0===t&&e.name&&-1===e.name.indexOf("!")){u.reportStack(`Module ${e.name} with invalid map object fetched by requirejs`,{severity:p.SEVERITY.NONCRITICAL,tags:["log_js_module_timing"]});continue}let r=[];if(t&&(r=window.performance.getEntriesByName(t,"resource")),0!==r.length)e.start_time=r[0].startTime+r[0].duration;else{if(!("callback_duration"in e))continue;e.start_time=0}n.push(e)}e.js_module_times=JSON.stringify(n)}function Dp(e,t=!1){if(window.ensemble&&window.ensemble.markTTI)window.ensemble.markTTI();else if(!t){const e=new CustomEvent("TTI",{bubbles:!0,cancelable:!0});window.dispatchEvent(e)}const n=new CustomEvent("time_to_interactive",{detail:{value:e,isAjax:t},bubbles:!0,cancelable:!0});window.dispatchEvent(n)}Rp();class Mp extends r.Message{constructor(e){super(),this.shouldInitializeUxAnalytics=!1,this.jsonData="",r.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new Mp).fromBinary(e,t)}static fromJson(e,t){return(new Mp).fromJson(e,t)}static fromJsonString(e,t){return(new Mp).fromJsonString(e,t)}static equals(e,t){return r.proto3.util.equals(Mp,e,t)}}Mp.runtime=r.proto3,Mp.typeName="edison.prefetch.UxAnalyticsData",Mp.fields=r.proto3.util.newFieldList((()=>[{no:1,name:"should_initialize_ux_analytics",kind:"scalar",T:8},{no:2,name:"json_data",kind:"scalar",T:9}]));const Pp=1e4;function Up(t){return i.__awaiter(this,void 0,void 0,(function*(){const{shouldInitializeUxAnalytics:n,jsonData:r}=yield function(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield s.Edison.fetch("ux_analytics.UxAnalyticsEdisonServicer","UxAnalyticsFetch");return s.unmarshalProto(e,Mp)}))}(),o=void 0!==t?t:Pp;var a;yield Promise.race([Ap().waitForTTI(a),Fp(o)]);const c=new Promise((function(t,n){e(["./c_pap-client_analytics_client"],t,n)}));if(n){const t=JSON.parse(r),{initialize_module:n}=yield new Promise((function(t,n){e(["./c_uxa_pagelet"],t,n)}));n({UXAConfigs:t}),(yield c).updateConfigs({requestId:t.requestId})}else(yield c).updateConfigs({requestId:void 0})}))}function Fp(e){return i.__awaiter(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))}const Bp=(e,t)=>({onSuccess:n=>{n.duration<0||Ll("performance_metrics/ttvc",{start:n.start,duration:n.duration,detail:{atlasservlet:t,pageName:e,navigationType:"script"===n.detail.navigationType?"ajax":n.detail.navigationType,lastVisibleChange:dp(n),didNetworkTimeOut:n.detail.didNetworkTimeOut.toString()}})},onCancellation:n=>{Ll("performance_metrics/ttvc/cancelled",{start:n.start,duration:n.end-n.start,detail:{cancellationReason:n.cancellationReason,atlasservlet:t,pageName:e,navigationType:"script"===n.navigationType?"ajax":n.navigationType}})}});const jp=new class{constructor(){this.hasWebVitalsLoggerBeenInitialized=!1,this.initializeLogging=(e,t)=>{this.hasWebVitalsLoggerBeenInitialized||(this.hasWebVitalsLoggerBeenInitialized=!0,this.logTTFB(e,t),this.logFCP(e,t),this.logLCP(e,t),this.logCLS(e,t),this.logINP(e,t))},this.logTTFB=(e,t)=>{jd((n=>{Ll("performance_metrics/ttfb",{duration:n.value,detail:Object.assign({atlasservlet:t,pageName:e},Dl(n))})}))},this.logFCP=(e,t)=>{ud((n=>{Ll("performance_metrics/fcp",{duration:n.value,detail:Object.assign({atlasservlet:t,pageName:e},Dl(n))})}))},this.logLCP=(e,t)=>{Pd((n=>{Ll("performance_metrics/lcp",{duration:n.value,detail:Object.assign({atlasservlet:t,pageName:e},Dl(n))})}))},this.logCLS=(e,t)=>{dd((n=>{Ll("performance_metrics/cls",{duration:n.value,detail:Object.assign({atlasservlet:t,pageName:e},Dl(n))})}))},this.logINP=(e,t)=>{Ld((n=>{Ll("performance_metrics/inp",{duration:n.value,detail:Object.assign({atlasservlet:t,pageName:e},Dl(n))})}))}}},zp=()=>{const e=s.Edison.getAtlasservlet(),t=s.Edison.getPageName(),n=s.Edison.getIsBuildTimePrefetchesEnabled(),i=s.Edison.getSkipBuildTimePrefetchDurationThreshold(),o=s.Edison.getIsCSSPreloadEnabled();!function(e={}){Ap().initialize({requireTTI:!!e.log_time_to_interactive,is_pagelet:e.is_pagelet,is_dws:e.is_dws,is_dws2:e.is_dws2,is_early_ensemble:e.is_early_ensemble,tti_at_dom_interactive:e.tti_at_dom_interactive,source_type:e.source_type,subtypes:e.subtypes,tti_exclusion_flow:e.tti_exclusion_flow,url:e.url,is_build_time_prefetches_enabled:e.is_build_time_prefetches_enabled,skip_btp_prefetch_duration_threshold:e.skip_btp_prefetch_duration_threshold,is_css_preload_enabled:e.is_css_preload_enabled})}({is_dws:!1,is_dws2:!0,is_early_ensemble:!1,is_pagelet:!0,log_time_to_interactive:!0,source_type:r.is_mobile_or_tablet()?"mobile":"web",is_build_time_prefetches_enabled:n,skip_btp_prefetch_duration_threshold:i,is_css_preload_enabled:o,subtypes:{tti_flow:t}}),((e,t)=>{Gd();const n=Bp(e,t);s.onTTVC(n.onSuccess,n.onCancellation)})(t,e),jp.initializeLogging(t,e)};t.FetchAsyncTransport=se,t.NoAuthApiV2Client=ce,t.RootComponent=({encodedProto:e})=>{const t=s.unmarshalProto(e,L);var r;return t.consentIframeOrigin=`https://${t.consentIframeOrigin}`,ac()&&oc()?t.dnsState=y.CROSS_ORIGIN_ENROLLED:oc()&&(t.dnsState=y.ENROLLED_VIA_COOKIES),n.useMemo((()=>{Up(r)}),[]),C.default.useMemo((()=>{zp()}),[]),C.default.createElement(vc,Object.assign({},t))},t.SilentBackgroundBeaconRequest=ku,t.SilentBackgroundRequest=Nu,t.UUID=Al,t.Viewer=pe,t.getActiveUserId=we,t.noauth_client_esnext=le}));
//# sourceMappingURL=e_privacy_consent_static_ccpa_iframe.js-vflVMGBGB.map
