define(["exports","./c_csrf","./c_init_data_runtime"],(function(e,t,n){"use strict";function o(){if(!window.ensemble)return void 0!==n.getYapsProject()&&void 0!==n.getYapsDeployment()?`${n.getYapsProject()}:${n.getYapsDeployment()}`:void 0;const e=window.ensemble.getPageletInfoForExceptionReporting().filter((e=>void 0!==e.yaps_deployment&&void 0!==e.yaps_project));return 0!==e.length?e.sort(((e,t)=>e.pagelet_name<t.pagelet_name?-1:1)).map((e=>`${e.yaps_project}:${e.yaps_deployment}`)).join(";"):void 0}const r=function(e){};e.getAttributionHeader=o,e.sendXhr=function(e,n,s=r){t.assertDropboxDomain(e),function(e){const n=t.readCsrfToken();e.is_xhr=!0,e.t=n}(n);const i=function(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(`${encodeURIComponent(n)}=${encodeURIComponent(String(e[n]))}`);return t.join("&")}(n),p=new XMLHttpRequest;p.onreadystatechange=function(){p.readyState===XMLHttpRequest.DONE&&s(p.status)},p.open("POST",e),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");const a=o();return a&&p.setRequestHeader("X-Dropbox-Client-Yaps-Attribution",a),p.send(i),p}}));
//# sourceMappingURL=c_core_xhr.js-vflZ9w0m8.map
